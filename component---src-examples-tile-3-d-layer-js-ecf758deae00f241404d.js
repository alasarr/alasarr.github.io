/*! For license information please see component---src-examples-tile-3-d-layer-js-ecf758deae00f241404d.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"+TUu":function(t,e,n){var r;!function(i,o,a,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),f=Math.round,h=Math.abs,p=Date.now;function d(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(y(t,n[e],n),!0)}function y(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function b(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var m=b((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),g=b((function(t,e){return m(t,e,!0)}),"merge","Use `assign`.");function O(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&c(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function j(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function _(t,e){return void 0===t?e:t}function E(t,e,n){y(k(e),(function(e){t.addEventListener(e,n,!1)}))}function T(t,e,n){y(k(e),(function(e){t.removeEventListener(e,n,!1)}))}function P(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function x(t,e){return t.indexOf(e)>-1}function k(t){return t.trim().split(/\s+/g)}function S(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function A(t){return Array.prototype.slice.call(t,0)}function I(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];S(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function D(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}}var M=1;function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var L="ontouchstart"in i,R=void 0!==D(i,"PointerEvent"),N=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=["x","y"],U=["clientX","clientY"];function z(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){j(t.options.enable,[t])&&n.handler(e)},this.init()}function F(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=V(e));i>1&&!n.firstMultiple?n.firstMultiple=V(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=e.center=G(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=W(s,c),e.distance=Z(s,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=q(e.deltaX,e.deltaY);var u=H(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=h(u.x)>h(u.y)?u.x:u.y,e.scale=a?(l=a.pointers,f=r,Z(f[0],f[1],U)/Z(l[0],l[1],U)):1,e.rotation=a?function(t,e){return W(e[1],e[0],U)+W(t[1],t[0],U)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var c=e.deltaX-a.deltaX,u=e.deltaY-a.deltaY,l=H(s,c,u);r=l.x,i=l.y,n=h(l.x)>h(l.y)?l.x:l.y,o=q(c,u),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var l,f;var d=t.element;P(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function V(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:G(e),deltaX:t.deltaX,deltaY:t.deltaY}}function G(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:f(n/e),y:f(r/e)}}function H(t,e,n){return{x:e/t||0,y:n/t||0}}function q(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function Z(t,e,n){n||(n=B);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function W(t,e,n){n||(n=B);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}z.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(C(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,z.apply(this,arguments)}O(X,z,{handler:function(t){var e=Y[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var J={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:"touch",3:"pen",4:"mouse",5:"kinect"},K="pointerdown",$="pointermove pointerup pointercancel";function tt(){this.evEl=K,this.evWin=$,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(K="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),O(tt,z,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=J[r],o=Q[t.pointerType]||t.pointerType,a="touch"==o,s=S(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,z.apply(this,arguments)}function rt(t,e){var n=A(t.touches),r=A(t.changedTouches);return 12&e&&(n=I(n.concat(r),"identifier",!0)),[n,r]}O(nt,z,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},z.apply(this,arguments)}function at(t,e){var n=A(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=A(t.changedTouches),s=[],c=this.target;if(o=n.filter((function(t){return P(t.target,c)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[I(o.concat(s),"identifier",!0),s]:void 0}O(ot,z,{handler:function(t){var e=it[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});function st(){z.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new X(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ct(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ut.call(this,e)):12&t&&ut.call(this,e)}function ut(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function lt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}O(st,z,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ct.call(this,e,n);else if(i&&lt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ft=D(l.style,"touchAction"),ht=void 0!==ft,pt=function(){if(!ht)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function dt(t,e){this.manager=t,this.set(e)}dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ht&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ft]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,(function(e){j(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(x(t,"none"))return"none";var e=x(t,"pan-x"),n=x(t,"pan-y");if(e&&n)return"none";if(e||n)return e?"pan-x":"pan-y";if(x(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=x(r,"none")&&!pt.none,o=x(r,"pan-y")&&!pt["pan-y"],a=x(r,"pan-x")&&!pt["pan-x"];if(i){var s=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(s&&c&&u)return}if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function vt(t){this.options=c({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function yt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function bt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function mt(t,e){var n=e.manager;return n?n.get(t):t}function gt(){vt.apply(this,arguments)}function Ot(){gt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){gt.apply(this,arguments)}function jt(){vt.apply(this,arguments),this._timer=null,this._input=null}function _t(){gt.apply(this,arguments)}function Et(){gt.apply(this,arguments)}function Tt(){vt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Pt(t,e){return(e=e||{}).recognizers=_(e.recognizers,Pt.defaults.preset),new xt(t,e)}vt.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=mt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)||(t=mt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===S(e,t=mt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=mt(t,this);var e=S(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+yt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+yt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!j(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},O(gt,vt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),O(Ot,gt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return gt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=bt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),O(wt,gt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),O(jt,vt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),O(_t,gt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),O(Et,gt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ot.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=bt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),O(Tt,vt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||Z(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Pt.VERSION="2.0.7",Pt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[_t,{enable:!1}],[wt,{enable:!1},["rotate"]],[Et,{direction:6}],[Ot,{direction:6},["swipe"]],[Tt],[Tt,{event:"doubletap",taps:2},["tap"]],[jt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function xt(t,e){var n;this.options=c({},Pt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(R?tt:N?ot:L?st:X))(n,F),this.touchAction=new dt(this,this.options.touchAction),kt(this,!0),y(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function kt(t,e){var n,r=t.element;r.style&&(y(t.options.cssProps,(function(i,o){n=D(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}xt.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof vt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=S(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return y(k(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return y(k(t),(function(t){e?n[t]&&n[t].splice(S(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&kt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Pt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:xt,Input:z,TouchAction:dt,TouchInput:ot,MouseInput:X,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:vt,AttrRecognizer:gt,Tap:Tt,Pan:Ot,Swipe:Et,Pinch:wt,Rotate:_t,Press:jt,on:E,off:T,each:y,merge:g,extend:m,assign:c,inherit:O,bindFn:w,prefixed:D}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Pt,void 0===(r=function(){return Pt}.call(e,n,e,t))||(t.exports=r)}(window,document)},13:function(t,e){},"5zO3":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var r=n("1OyB"),i=n("vuIU"),o=n("rePB"),a=n("BHO1"),s=n("oJR1"),c=n("X4Q+");var u={container:a.object,gl:a.object,mapboxApiAccessToken:a.string,mapboxApiUrl:a.string,attributionControl:a.bool,preserveDrawingBuffer:a.bool,reuseMaps:a.bool,transformRequest:a.func,mapOptions:a.object,mapStyle:a.oneOfType([a.string,a.object]),preventStyleDiffing:a.bool,visible:a.bool,asyncRender:a.bool,onLoad:a.func,onError:a.func,width:a.number,height:a.number,viewState:a.object,longitude:a.number,latitude:a.number,zoom:a.number,bearing:a.number,pitch:a.number,altitude:a.number},l={container:s.a.body,mapboxApiAccessToken:function(){var e=null;if("undefined"!=typeof window&&window.location){var n=window.location.search.match(/access_token=([^&\/]*)/);e=n&&n[1]}e||void 0===t||(e=e||"pk.eyJ1IjoidWJlcmRhdGEiLCJhIjoiY2pwY3owbGFxMDVwNTNxcXdwMms2OWtzbiJ9.1PPVl0VLUQgqrosrI2nUhg");return e||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0,asyncRender:!1,onLoad:function(){},onError:function(t){t&&console.error(t.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&a.checkPropTypes(u,t,"prop",e)}var h=function(){function t(e){var n=this;if(Object(r.a)(this,t),Object(o.a)(this,"props",l),Object(o.a)(this,"width",0),Object(o.a)(this,"height",0),Object(o.a)(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!e.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return Object(i.a)(t,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(t){return this._update(this.props,t),this}},{key:"redraw",value:function(){var t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(e){this._map=t.savedMap;var n=this._map.getContainer(),r=e.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,t.savedMap=null,e.mapStyle&&this._map.setStyle(Object(c.a)(e.mapStyle),{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(e){if(e.reuseMaps&&t.savedMap)this._reuse(e);else{if(e.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,e.gl}}var r={container:e.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:Object(c.a)(e.mapStyle),interactive:!1,trackResize:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(r.transformRequest=e.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,e.mapOptions)),this._map.once("load",e.onLoad),this._map.on("error",e.onError)}return this}},{key:"_destroy",value:function(){this._map&&(t.savedMap?this._map.remove():(t.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(t){var e=this;f(t=Object.assign({},l,t),"Mapbox"),this.mapboxgl.accessToken=t.mapboxApiAccessToken||l.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=t.mapboxApiUrl,this._create(t);var n=t.container;Object.defineProperty(n,"offsetWidth",{get:function(){return e.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return e.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return e.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return e.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function(t,e){if(this._map){f(e=Object.assign({},this.props,e),"Mapbox");var n=this._updateMapViewport(t,e),r=this._updateMapSize(t,e);this._updateMapStyle(t,e),e.asyncRender||!n&&!r||this.redraw(),this.props=e}}},{key:"_updateMapStyle",value:function(t,e){t.mapStyle!==e.mapStyle&&this._map.setStyle(Object(c.a)(e.mapStyle),{diff:!e.preventStyleDiffing})}},{key:"_updateMapSize",value:function(t,e){var n=t.width!==e.width||t.height!==e.height;return n&&(this.width=e.width,this.height=e.height,this._map.resize()),n}},{key:"_updateMapViewport",value:function(t,e){var n=this._getViewState(t),r=this._getViewState(e),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:"_getViewState",value:function(t){var e=t.viewState||t,n=e.longitude,r=e.latitude,i=e.zoom,o=e.pitch,a=void 0===o?0:o,s=e.bearing,c=void 0===s?0:s,u=e.altitude;return{longitude:n,latitude:r,zoom:i,pitch:a,bearing:c,altitude:void 0===u?1.5:u}}},{key:"_checkStyleSheet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if(void 0!==s.a)try{var e=s.a.createElement("div");e.className="mapboxgl-map",e.style.display="none",s.a.body.appendChild(e);var n="static"!==window.getComputedStyle(e).position;if(!n){var r=s.a.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(t,"/mapbox-gl.css")),s.a.head.appendChild(r)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(t){return{center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}}}]),t}();Object(o.a)(h,"initialized",!1),Object(o.a)(h,"propTypes",u),Object(o.a)(h,"defaultProps",l),Object(o.a)(h,"savedMap",null)}).call(this,n("8oxB"))},"9Nty":function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"decode",(function(){return Co})),n.d(r,"encode",(function(){return Ro}));var i={};n.r(i),n.d(i,"decode",(function(){return Ho})),n.d(i,"encode",(function(){return Zo}));var o={};n.r(o),n.d(o,"decode",(function(){return Xo})),n.d(o,"encode",(function(){return Qo}));var a={};n.r(a),n.d(a,"decode",(function(){return ea})),n.d(a,"encode",(function(){return ra}));var s=n("dI71"),c=n("q1tI"),u=n.n(c),l=n("lxDd"),f=n("rePB"),h=(n("i8i4"),n("wx14")),p=n("KQm4"),d=n("BHO1"),v=n("ODXe"),y=n("R25c"),b=n("D9qG"),m=n("5zO3"),g=n("kZXF"),O=n.n(g),w=n("1OyB"),j=n("vuIU");function _(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function E(t,e){if(t===e)return!0;if(_(t)&&_(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!E(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=1e-7}function T(t,e,n){return Math.max(e,Math.min(n,t))}function P(t,e,n){return _(t)?t.map((function(t,r){return P(t,e[r],n)})):n*e+(1-n)*t}function x(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var A={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},I=0,D=0,M=1.5,C=function(){function t(e){var n=e.width,r=e.height,i=e.latitude,o=e.longitude,a=e.zoom,s=e.bearing,c=void 0===s?D:s,u=e.pitch,l=void 0===u?I:u,f=e.altitude,h=void 0===f?M:f,p=e.maxZoom,d=void 0===p?A.maxZoom:p,v=e.minZoom,y=void 0===v?A.minZoom:v,b=e.maxPitch,m=void 0===b?A.maxPitch:b,g=e.minPitch,O=void 0===g?A.minPitch:g,j=e.transitionDuration,_=e.transitionEasing,E=e.transitionInterpolator,T=e.transitionInterruption,P=e.startPanLngLat,k=e.startZoomLngLat,S=e.startRotatePos,C=e.startBearing,L=e.startPitch,R=e.startZoom;Object(w.a)(this,t),x(Number.isFinite(n),"`width` must be supplied"),x(Number.isFinite(r),"`height` must be supplied"),x(Number.isFinite(o),"`longitude` must be supplied"),x(Number.isFinite(i),"`latitude` must be supplied"),x(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:i,longitude:o,zoom:a,bearing:c,pitch:l,altitude:h,maxZoom:d,minZoom:y,maxPitch:m,minPitch:O,transitionDuration:j,transitionEasing:_,transitionInterpolator:E,transitionInterruption:T}),this._state={startPanLngLat:P,startZoomLngLat:k,startRotatePos:S,startBearing:C,startPitch:L,startZoom:R}}return Object(j.a)(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,r=this._state.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:e}),o=Object(v.a)(i,2),a=o[0],s=o[1];return this._getUpdatedMapState({longitude:a,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startRotatePos:e,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e,n=t.pos,r=t.deltaAngleX,i=void 0===r?0:r,o=t.deltaAngleY,a=void 0===o?0:o,s=this._state,c=s.startRotatePos,u=s.startBearing,l=s.startPitch;return Number.isFinite(u)&&Number.isFinite(l)?(e=n?this._calculateNewPitchAndBearing(S(S({},this._getRotationParams(n,c)),{},{startBearing:u,startPitch:l})):{bearing:u+i,pitch:l+a},this._getUpdatedMapState(e)):this}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;x(r>0,"`scale` must be a positive number");var i=this._state,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(e)),x(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o||0}),c=new y.a(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:e}),u=Object(v.a)(c,2),l=u[0],f=u[1];return this._getUpdatedMapState({zoom:s,longitude:l,latitude:f})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(e){return new t(Object.assign({},this._viewportProps,this._state,e))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=T(r,n,e);var i=t.maxPitch,o=t.minPitch,a=t.pitch;return t.pitch=T(a,o,i),Object.assign(t,Object(y.n)(t)),t}},{key:"_unproject",value:function(t){var e=new y.a(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new y.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return T(n+Math.log2(e),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,i=t.startPitch;n=T(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,c=i;return n>0?c=i+n*(s-i):n<0&&(c=i-n*(a-i)),{pitch:c,bearing:r+180*e}}},{key:"_getRotationParams",value:function(t,e){var n=t[0]-e[0],r=t[1]-e[1],i=t[1],o=e[1],a=this._viewportProps,s=a.width,c=a.height,u=n/s,l=0;return r>0?Math.abs(c-o)>5&&(l=r/(o-c)*1.2):r<0&&o>5&&(l=1-i/o),{deltaScaleX:u,deltaScaleY:l=Math.min(1,Math.max(-1,l))}}}]),t}();function L(t){return t[0].toLowerCase()+t.slice(1)}function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B=Object(c.createContext)({viewport:null,map:null,container:null,onViewportChange:null,onViewStateChange:null,eventManager:null}),U=B.Provider;B.Provider=function(t){var e=t.value,n=t.children,r=Object(c.useState)(null),i=Object(v.a)(r,2),o=i[0],a=i[1],s=Object(c.useContext)(B);return e=N(N({setMap:a},s),{},{map:s&&s.map||o},e),c.createElement(U,{value:e},n)};var z=B,F="undefined"!=typeof window?c.useLayoutEffect:c.useEffect;function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var H="A valid API access token is required to use Mapbox data";function q(t){var e=t.props,n=t.width,r=t.height;return new y.a(G(G(G({},e),e.viewState),{},{width:n,height:r}))}var Z={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},W=Object.assign({},m.a.defaultProps,{disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:A});function Y(){return c.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},c.createElement("h3",{key:"header"},H),c.createElement("div",{key:"text"},"For information on setting up your basemap, read"),c.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}var X=Object(c.forwardRef)((function(t,e){var n=Object(c.useState)(!0),r=Object(v.a)(n,2),i=r[0],o=r[1],a=Object(c.useState)({width:0,height:0}),s=Object(v.a)(a,2),u=s[0],l=s[1],f=Object(c.useRef)(null),h=Object(c.useRef)(null),p=Object(c.useRef)(null),d=Object(c.useRef)(null),y=Object(c.useContext)(z);F((function(){if(X.supported()){var e=new m.a(G(G(G({},t),u),{},{mapboxgl:O.a,container:h.current,onError:function(e){401===(e.error&&e.error.status||e.status)&&i&&(console.error(H),o(!1)),t.onError(e)}}));f.current=e,y&&y.setMap&&y.setMap(e.getMap());var n=new b.a((function(e){if(e[0].contentRect){var n=e[0].contentRect,r=n.width,i=n.height;l({width:r,height:i}),t.onResize({width:r,height:i})}}));return n.observe(p.current),function(){e.finalize(),f.current=null,n.disconnect()}}}),[]),F((function(){f.current&&f.current.setProps(G(G({},t),u))}));var g=f.current&&f.current.getMap();Object(c.useImperativeHandle)(e,(function(){return function(t){return{getMap:function(){return t.current&&t.current.getMap()},queryRenderedFeatures:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.current&&t.current.getMap();return r&&r.queryRenderedFeatures(e,n)}}}(f)}),[]);var w=Object(c.useCallback)((function(t){var e=t.target;e===d.current&&e.scrollTo(0,0)}),[]),j=g&&c.createElement(U,{value:G(G({},y),{},{viewport:y.viewport||q(G({map:g,props:t},u)),map:g,container:y.container||p.current})},c.createElement("div",{key:"map-overlays",className:"overlays",ref:d,style:Z,onScroll:w},t.children)),_=t.className,E=t.width,T=t.height,P=t.style,x=t.visibilityConstraints,k=Object.assign({position:"relative"},P,{width:E,height:T}),S=t.visible&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;for(var n in e){var r=n.slice(0,3),i=L(n.slice(3));if("min"===r&&t[i]<e[n])return!1;if("max"===r&&t[i]>e[n])return!1}return!0}(t.viewState||t,x),I=Object.assign({},Z,{visibility:S?"inherit":"hidden"});return c.createElement("div",{key:"map-container",ref:p,style:k},c.createElement("div",{key:"map-mapbox",ref:h,style:I,className:_}),j,!i&&!t.disableTokenWarning&&c.createElement(Y,null))}));X.supported=function(){return O.a&&O.a.supported()},X.defaultProps=W;var J=X;function Q(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $=function(){function t(){Object(w.a)(this,t),Object(f.a)(this,"propNames",[])}return Object(j.a)(t,[{key:"arePropsEqual",value:function(t,e){var n,r=Q(this.propNames||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!E(t[i],e[i]))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(t,e,n){x(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(t,e){return e.transitionDuration}}]),t}(),tt=n("JX7q"),et=n("Ji7U"),nt=n("md7G"),rt=n("foSv"),it={longitude:1,bearing:1};function ot(t){return Number.isFinite(t)||Array.isArray(t)}function at(t,e,n){return function(t){return t in it}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}function st(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(rt.a)(t);if(e){var i=Object(rt.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(nt.a)(this,n)}}var lt=["longitude","latitude","zoom","bearing","pitch"],ft=["latitude","longitude","zoom","width","height"],ht=["bearing","pitch"],pt={speed:1.2,curve:1.414};!function(t){Object(et.a)(n,t);var e=ut(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(w.a)(this,n),t=e.call(this),Object(f.a)(Object(tt.a)(t),"propNames",lt),t.props=Object.assign({},pt,r),t}Object(j.a)(n,[{key:"initializeProps",value:function(t,e){var n,r={},i={},o=st(ft);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t[a],c=e[a];x(ot(s)&&ot(c),"".concat(a," must be supplied for transition")),r[a]=s,i[a]=at(a,s,c)}}catch(d){o.e(d)}finally{o.f()}var u,l=st(ht);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=t[f]||0,p=e[f]||0;r[f]=h,i[f]=at(f,h,p)}}catch(d){l.e(d)}finally{l.f()}return{start:r,end:i}}},{key:"interpolateProps",value:function(t,e,n){var r,i=Object(y.e)(t,e,n,this.props),o=st(ht);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=P(t[a],e[a],n)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getDuration",value:function(t,e){var n=e.transitionDuration;return"auto"===n&&(n=Object(y.i)(t,e,this.props)),n}}])}($);function dt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(rt.a)(t);if(e){var i=Object(rt.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(nt.a)(this,n)}}var bt=["longitude","latitude","zoom","bearing","pitch"],mt=function(t){Object(et.a)(n,t);var e=yt(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(w.a)(this,n),t=e.call(this),Array.isArray(r)&&(r={transitionProps:r}),t.propNames=r.transitionProps||bt,r.around&&(t.around=r.around),t}return Object(j.a)(n,[{key:"initializeProps",value:function(t,e){var n={},r={};if(this.around){n.around=this.around;var i=new y.a(t).unproject(this.around);Object.assign(r,e,{around:new y.a(e).project(i),aroundLngLat:i})}var o,a=dt(this.propNames);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=t[s],u=e[s];x(ot(c)&&ot(u),"".concat(s," must be supplied for transition")),n[s]=c,r[s]=at(s,c,u)}}catch(l){a.e(l)}finally{a.f()}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r,i={},o=dt(this.propNames);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=P(t[a],e[a],n)}}catch(f){o.e(f)}finally{o.f()}if(e.around){var s=new y.a(Object.assign({},e,i)).getMapCenterByLngLatPosition({lngLat:e.aroundLngLat,pos:P(t.around,e.around,n)}),c=Object(v.a)(s,2),u=c[0],l=c[1];i.longitude=u,i.latitude=l}return i}}]),n}($),gt=function(){};var Ot=1,wt=2,jt=3,_t=4,Et={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new mt,transitionInterruption:Ot,onTransitionStart:gt,onTransitionInterrupt:gt,onTransitionEnd:gt},Tt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(w.a)(this,t),Object(f.a)(this,"_animationFrame",null),Object(f.a)(this,"_onTransitionFrame",(function(){e._animationFrame=requestAnimationFrame(e._onTransitionFrame),e._updateViewport()})),this.props=null,this.onViewportChange=n.onViewportChange||gt,this.onStateChange=n.onStateChange||gt,this.time=n.getTime||Date.now}return Object(j.a)(t,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(t){var e=this.props;if(this.props=t,!e||this._shouldIgnoreViewportChange(e,t))return!1;if(this._isTransitionEnabled(t)){var n=Object.assign({},e),r=Object.assign({},t);if(this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this.state.interruption===wt?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===_t)){var i=this.time(),o=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(t,e){var n=t(e);return function(r){return 1/(1-n)*(t(r*(1-e)+e)-n)}}(this.state.easing,o),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(t){var e=t.transitionDuration,n=t.transitionInterpolator;return(e>0||"auto"===e)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return!t||(this._isTransitionInProgress()?this.state.interruption===jt||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e))}},{key:"_triggerTransition",value:function(t,e){x(this._isTransitionEnabled(e)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=e.transitionInterpolator,r=n.getDuration?n.getDuration(t,e):e.transitionDuration;if(0!==r){var i=e.transitionInterpolator.initializeProps(t,e),o={inTransition:!0,isZooming:t.zoom!==e.zoom,isPanning:t.longitude!==e.longitude||t.latitude!==e.latitude,isRotating:t.bearing!==e.bearing||t.pitch!==e.pitch};this.state={duration:r,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{}},this._onTransitionFrame(),this.onStateChange(o)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var t=this.time(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,o=e.interpolator,a=e.startProps,s=e.endProps,c=!1,u=(t-n)/r;u>=1&&(u=1,c=!0),u=i(u);var l=o.interpolateProps(a,s,u),f=new C(Object.assign({},this.props,l));this.state.propsInTransition=f.getViewportProps(),this.onViewportChange(this.state.propsInTransition,this.props),c&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();Object(f.a)(Tt,"defaultProps",Et);var Pt,xt,kt=n("+TUu"),St=n.n(kt),At={mousedown:1,mousemove:2,mouseup:4};Pt=St.a.PointerEventInput,xt=Pt.prototype.handler,Pt.prototype.handler=function(t){var e=this.store;t.button>0&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(e,(function(e){return e.pointerId===t.pointerId}))||e.push(t)),xt.call(this,t)},St.a.MouseInput.prototype.handler=function(t){var e=At[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))};var It=St.a.Manager,Dt=St.a,Mt=Dt?[[Dt.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Dt.Rotate,{enable:!1}],[Dt.Pinch,{enable:!1}],[Dt.Swipe,{enable:!1}],[Dt.Pan,{threshold:0,enable:!1}],[Dt.Press,{enable:!1}],[Dt.Tap,{event:"doubletap",taps:2,enable:!1}],[Dt.Tap,{event:"anytap",enable:!1}],[Dt.Tap,{enable:!1}]]:null,Ct={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Lt={doubletap:["tap"]},Rt={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},Nt=["keydown","keyup"],Bt=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],Ut=["wheel","mousewheel"],zt={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},Ft={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},Vt=n("q8n8"),Gt=-1!==Vt.b.indexOf("firefox"),Ht=Ut,qt=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(w.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.events=Ht.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent,!!Vt.a&&{passive:!1})}))}return Object(j.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"wheel"===t&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){if(this.options.enable){var e=t.deltaY;Vt.c.WheelEvent&&(Gt&&t.deltaMode===Vt.c.WheelEvent.DOM_DELTA_PIXEL&&(e/=Vt.c.devicePixelRatio),t.deltaMode===Vt.c.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%4.000244140625==0&&(e=Math.floor(e/4.000244140625)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:"_onWheel",value:function(t,e,n){this.callback({type:"wheel",center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),Zt=Bt,Wt=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(w.a)(this,t),this.element=e,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},i),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=Zt.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Object(j.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"pointermove"===t&&(this.enableMoveEvent=e),"pointerover"===t&&(this.enableOverEvent=e),"pointerout"===t&&(this.enableOutEvent=e),"pointerleave"===t&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function(t){this.handleOverEvent(t),this.handleOutEvent(t),this.handleLeaveEvent(t),this.handleMoveEvent(t)}},{key:"handleOverEvent",value:function(t){this.enableOverEvent&&"mouseover"===t.type&&this.callback({type:"pointerover",srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleOutEvent",value:function(t){this.enableOutEvent&&"mouseout"===t.type&&this.callback({type:"pointerout",srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleLeaveEvent",value:function(t){this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:"pointerleave",srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleMoveEvent",value:function(t){if(this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:"pointermove",srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),t}(),Yt=Nt,Xt=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(w.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=Yt.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=i.tabIndex||0,e.style.outline="none",this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Object(j.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"keydown"===t&&(this.enableDownEvent=e),"keyup"===t&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:"keydown",srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:"keyup",srcEvent:t,key:t.key,target:t.target}))}}]),t}(),Jt=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(w.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),e.addEventListener("contextmenu",this.handleEvent)}return Object(j.a)(t,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(t,e){"contextmenu"===t&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){this.options.enable&&this.callback({type:"contextmenu",center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),Qt=n("U8pU"),Kt={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var $t={srcElement:"root",priority:0},te=function(){function t(e){Object(w.a)(this,t),this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return Object(j.a)(t,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement;n&&("object"!==Object(Qt.a)(n)||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},$t,n):$t;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var c={type:t,handler:e,srcElement:n.srcElement,priority:n.priority};r&&(c.once=!0),i&&(c.passive=!0),o.push(c),this._active=this._active||!c.passive;for(var u=s.length-1;u>=0&&!(s[u].priority>=c.priority);)u--;s.splice(u+1,0,c)}},{key:"remove",value:function(t,e){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===t&&o.handler===e){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(t){return!t.passive}))}},{key:"handleEvent",value:function(t){if(!this.isEmpty()){for(var e=this._normalizeEvent(t),n=t.srcEvent.target;n&&n!==e.rootElement;){if(this._emit(e,n),e.handled)return;n=n.parentNode}this._emit(e,"root")}}},{key:"_emit",value:function(t,e){var n=this.handlersByElement.get(e);if(n){for(var r=!1,i=function(){t.handled=!0},o=function(){t.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var c=n[s],u=c.type,l=c.handler,f=c.once;if(l(Object.assign({},t,{type:u,stopPropagation:i,stopImmediatePropagation:o})),f&&a.push(n[s]),r)break}for(var h=0;h<a.length;h++){var p=a[h],d=p.type,v=p.handler;this.remove(d,v)}}}},{key:"_normalizeEvent",value:function(t){var e=this.eventManager.element;return Object.assign({},t,function(t){var e=Kt[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,c=!1;return 4===e||2===e&&!Number.isFinite(r)?(a=1===o,s=2===o,c=3===o):2===e?(a=Boolean(1&r),s=Boolean(4&r),c=Boolean(2&r)):1===e&&(a=0===i,s=1===i,c=2===i),{leftButton:a,middleButton:s,rightButton:c}}(t),function(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},i=e.getBoundingClientRect(),o=i.width/e.offsetWidth||1,a=i.height/e.offsetHeight||1;return{center:r,offsetCenter:{x:(r.x-i.left-e.clientLeft)/o,y:(r.y-i.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}}]),t}();function ee(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ne(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var re={events:null,recognizers:null,recognizerOptions:{},Manager:It,touchAction:"none",tabIndex:0},ie=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(w.a)(this,t),this.options=Object.assign({},re,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(e);var r=n.events;r&&this.on(r)}return Object(j.a)(t,[{key:"setElement",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,r=n.Manager;for(var i in this.manager=new r(t,{touchAction:n.touchAction,recognizers:n.recognizers||Mt}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(Ct).forEach((function(t){var n=e.manager.get(t);n&&Ct[t].forEach((function(t){n.recognizeWith(t)}))})),n.recognizerOptions){var o=this.manager.get(i);if(o){var a=n.recognizerOptions[i];delete a.enable,o.set(a)}}this.wheelInput=new qt(t,this._onOtherEvent,{enable:!1}),this.moveInput=new Wt(t,this._onOtherEvent,{enable:!1}),this.keyInput=new Xt(t,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new Jt(t,this._onOtherEvent,{enable:!1});var s,c=ee(this.events);try{for(c.s();!(s=c.n()).done;){var u=Object(v.a)(s.value,2),l=u[0],f=u[1];f.isEmpty()||(this._toggleRecognizer(f.recognizerName,!0),this.manager.on(l,f.handleEvent))}}catch(h){c.e(h)}finally{c.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){this._addEventHandler(t,e,n,!1)}},{key:"once",value:function(t,e,n){this._addEventHandler(t,e,n,!0)}},{key:"watch",value:function(t,e,n){this._addEventHandler(t,e,n,!1,!0)}},{key:"off",value:function(t,e){this._removeEventHandler(t,e)}},{key:"_toggleRecognizer",value:function(t,e){var n=this.manager;if(n){var r=n.get(t);if(r&&r.options.enable!==e){r.set({enable:e});var i=Lt[t];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);e?(o.requireFailure(t),r.dropRequireFailure(i)):o.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function(t,e,n,r,i){if("string"==typeof t){var o=this.manager,a=this.events,s=Ft[t]||t,c=a.get(s);c||(c=new te(this),a.set(s,c),c.recognizerName=zt[s]||s,o&&o.on(s,c.handleEvent)),c.add(t,e,n,r,i),c.isEmpty()||this._toggleRecognizer(c.recognizerName,!0)}else for(var u in n=e,t)this._addEventHandler(u,t[u],n,r,i)}},{key:"_removeEventHandler",value:function(t,e){if("string"==typeof t){var n=this.events,r=Ft[t]||t,i=n.get(r);if(i&&(i.remove(t,e),i.isEmpty())){var o,a=i.recognizerName,s=!1,c=ee(n.values());try{for(c.s();!(o=c.n()).done;){var u=o.value;if(u.recognizerName===a&&!u.isEmpty()){s=!0;break}}}catch(f){c.e(f)}finally{c.f()}s||this._toggleRecognizer(a,!1)}}else for(var l in t)this._removeEventHandler(l,t[l])}},{key:"_onBasicInput",value:function(t){var e=t.srcEvent,n=Rt[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function(t){this.manager.emit(t.type,t)}}]),t}();function oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var se={transitionDuration:0},ce={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new mt,transitionInterruption:Ot},ue=function(t){return 1-(1-t)*(1-t)},le=["wheel"],fe=["panstart","panmove","panend"],he=["pinchstart","pinchmove","pinchend"],pe=["tripanstart","tripanmove","tripanend"],de=["doubletap"],ve=["keydown"],ye=function(){function t(){var e=this;Object(w.a)(this,t),Object(f.a)(this,"events",[]),Object(f.a)(this,"scrollZoom",!0),Object(f.a)(this,"dragPan",!0),Object(f.a)(this,"dragRotate",!0),Object(f.a)(this,"doubleClickZoom",!0),Object(f.a)(this,"touchZoom",!0),Object(f.a)(this,"touchRotate",!1),Object(f.a)(this,"keyboard",!0),Object(f.a)(this,"_interactionState",{isDragging:!1}),Object(f.a)(this,"_events",{}),Object(f.a)(this,"_setInteractionState",(function(t){Object.assign(e._interactionState,t),e.onStateChange&&e.onStateChange(e._interactionState)})),Object(f.a)(this,"_onTransition",(function(t,n){e.onViewportChange(t,e._interactionState,n)})),this.handleEvent=this.handleEvent.bind(this),this._transitionManager=new Tt({onViewportChange:this._onTransition,onStateChange:this._setInteractionState})}return Object(j.a)(t,[{key:"handleEvent",value:function(t){this.mapState=this.getMapState();var e=this._eventStartBlocked;switch(t.type){case"panstart":return!e&&this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return!e&&this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchend":return this._onPinchEnd(t);case"tripanstart":return!e&&this._onTriplePanStart(t);case"tripanmove":return this._onTriplePan(t);case"tripanend":return this._onTriplePanEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"blockEvents",value:function(t){var e=this,n=setTimeout((function(){e._eventStartBlocked===n&&(e._eventStartBlocked=null)}),t);this._eventStartBlocked=n}},{key:"updateViewport",value:function(t,e,n){var r=this.mapState instanceof C?this.mapState.getViewportProps():this.mapState,i=ae(ae({},t.getViewportProps()),e),o=Object.keys(i).some((function(t){return r[t]!==i[t]}));this._state=t.getState(),this._setInteractionState(n),o&&this.onViewportChange(i,this._interactionState,r)}},{key:"getMapState",value:function(t){return new C(ae(ae(ae({},this.mapStateProps),this._state),t))}},{key:"isDragging",value:function(){return this._interactionState.isDragging}},{key:"setOptions",value:function(t){var e=t.onViewportChange,n=t.onStateChange,r=t.eventManager,i=void 0===r?this.eventManager:r,o=t.isInteractive,a=void 0===o||o,s=t.scrollZoom,c=void 0===s?this.scrollZoom:s,u=t.dragPan,l=void 0===u?this.dragPan:u,f=t.dragRotate,h=void 0===f?this.dragRotate:f,p=t.doubleClickZoom,d=void 0===p?this.doubleClickZoom:p,v=t.touchZoom,y=void 0===v?this.touchZoom:v,b=t.touchRotate,m=void 0===b?this.touchRotate:b,g=t.keyboard,O=void 0===g?this.keyboard:g;this.onViewportChange=e,this.onStateChange=n;var w=this.mapStateProps||{},j=w.height!==t.height||w.width!==t.width;this.mapStateProps=t,j&&(this.mapState=w,this.updateViewport(new C(t))),this._transitionManager.processViewportChange(t),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(le,a&&Boolean(c)),this.toggleEvents(fe,a&&Boolean(l||h)),this.toggleEvents(he,a&&Boolean(y||m)),this.toggleEvents(pe,a&&Boolean(m)),this.toggleEvents(de,a&&Boolean(d)),this.toggleEvents(ve,a&&Boolean(O)),this.scrollZoom=c,this.dragPan=l,this.dragRotate=h,this.doubleClickZoom=d,this.touchZoom=y,this.touchRotate=m,this.keyboard=O}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t);this._panRotate=this.isFunctionKeyPressed(t)||t.rightButton;var n=this._panRotate?this.mapState.rotateStart({pos:e}):this.mapState.panStart({pos:e});return this.updateViewport(n,se,{isDragging:!0}),!0}},{key:"_onPan",value:function(t){return!!this.isDragging()&&(this._panRotate?this._onPanRotate(t):this._onPanMove(t))}},{key:"_onPanEnd",value:function(t){return!!this.isDragging()&&(this._panRotate?this._onPanRotateEnd(t):this._onPanMoveEnd(t))}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,se,{isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(t){if(this.dragPan){var e=this.dragPan.inertia,n=void 0===e?300:e;if(n&&t.velocity){var r=this.getCenter(t),i=[r[0]+t.velocityX*n/2,r[1]+t.velocityY*n/2],o=this.mapState.pan({pos:i}).panEnd();return this.updateViewport(o,ae(ae({},ce),{},{transitionDuration:n,transitionEasing:ue}),{isDragging:!1,isPanning:!0}),!0}}var a=this.mapState.panEnd();return this.updateViewport(a,null,{isDragging:!1,isPanning:!1}),!0}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=this.getCenter(t),n=this.mapState.rotate({pos:e});return this.updateViewport(n,se,{isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(t){if(this.dragRotate){var e=this.dragRotate.inertia,n=void 0===e?300:e;if(n&&t.velocity){var r=this.getCenter(t),i=[r[0]+t.velocityX*n/2,r[1]+t.velocityY*n/2],o=this.mapState.rotate({pos:i}).rotateEnd();return this.updateViewport(o,ae(ae({},ce),{},{transitionDuration:n,transitionEasing:ue}),{isDragging:!1,isRotating:!0}),!0}}var a=this.mapState.panEnd();return this.updateViewport(a,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;var e=this.scrollZoom,n=e.speed,r=void 0===n?.01:n,i=e.smooth,o=void 0!==i&&i;t.preventDefault();var a=this.getCenter(t),s=t.delta,c=2/(1+Math.exp(-Math.abs(s*r)));s<0&&0!==c&&(c=1/c);var u=this.mapState.zoom({pos:a,scale:c});return this.updateViewport(u,ae(ae({},ce),{},{transitionInterpolator:new mt({around:a}),transitionDuration:o?250:1}),{isPanning:!0,isZooming:!0}),!0}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._startPinchRotation=t.rotation,this._lastPinchEvent=t,this.updateViewport(n,se,{isDragging:!0}),!0}},{key:"_onPinch",value:function(t){if(!this.isDragging())return!1;if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation;e=e.rotate({deltaAngleX:this._startPinchRotation-i})}return this.updateViewport(e,se,{isDragging:!0,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:Boolean(this.touchRotate)}),this._lastPinchEvent=t,!0}},{key:"_onPinchEnd",value:function(t){if(!this.isDragging())return!1;if(this.touchZoom){var e=this.touchZoom.inertia,n=void 0===e?300:e,r=this._lastPinchEvent;if(n&&r&&t.scale!==r.scale){var i=this.getCenter(t),o=this.mapState.rotateEnd(),a=Math.log2(t.scale),s=(a-Math.log2(r.scale))/(t.deltaTime-r.deltaTime),c=Math.pow(2,a+s*n/2);return o=o.zoom({pos:i,scale:c}).zoomEnd(),this.updateViewport(o,ae(ae({},ce),{},{transitionInterpolator:new mt({around:i}),transitionDuration:n,transitionEasing:ue}),{isDragging:!1,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:!1}),this.blockEvents(n),!0}}var u=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(u,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),this._startPinchRotation=null,this._lastPinchEvent=null,!0}},{key:"_onTriplePanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.rotateStart({pos:e});return this.updateViewport(n,se,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(t){if(!this.isDragging())return!1;if(!this.touchRotate)return!1;var e=this.getCenter(t);e[0]-=t.deltaX;var n=this.mapState.rotate({pos:e});return this.updateViewport(n,se,{isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(t){if(!this.isDragging())return!1;if(this.touchRotate){var e=this.touchRotate.inertia,n=void 0===e?300:e;if(n&&t.velocityY){var r=this.getCenter(t),i=[r[0],r[1]+=t.velocityY*n/2],o=this.mapState.rotate({pos:i});return this.updateViewport(o,ae(ae({},ce),{},{transitionDuration:n,transitionEasing:ue}),{isDragging:!1,isRotating:!0}),this.blockEvents(n),!1}}var a=this.mapState.rotateEnd();return this.updateViewport(a,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Object.assign({},ce,{transitionInterpolator:new mt({around:e})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),r=this.keyboard,i=r.zoomSpeed,o=void 0===i?2:i,a=r.moveSpeed,s=void 0===a?100:a,c=r.rotateSpeedX,u=void 0===c?15:c,l=r.rotateSpeedY,f=void 0===l?10:l,h=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:h.zoom-Math.log2(o)-1}):this.getMapState({zoom:h.zoom-Math.log2(o)});break;case 187:e=n?this.getMapState({zoom:h.zoom+Math.log2(o)+1}):this.getMapState({zoom:h.zoom+Math.log2(o)});break;case 37:e=n?this.getMapState({bearing:h.bearing-u}):this.mapState.pan({pos:[s,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:h.bearing+u}):this.mapState.pan({pos:[-s,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:h.pitch+f}):this.mapState.pan({pos:[0,s],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:h.pitch-f}):this.mapState.pan({pos:[0,-s],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,ce)}}]),t}();function be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?be(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ge=Object.assign({},J.propTypes,{maxZoom:d.number,minZoom:d.number,maxPitch:d.number,minPitch:d.number,onViewStateChange:d.func,onViewportChange:d.func,onInteractionStateChange:d.func,transitionDuration:d.oneOfType([d.number,d.string]),transitionInterpolator:d.object,transitionInterruption:d.number,transitionEasing:d.func,onTransitionStart:d.func,onTransitionInterrupt:d.func,onTransitionEnd:d.func,scrollZoom:d.oneOfType([d.bool,d.object]),dragPan:d.oneOfType([d.bool,d.object]),dragRotate:d.oneOfType([d.bool,d.object]),doubleClickZoom:d.bool,touchZoom:d.oneOfType([d.bool,d.object]),touchRotate:d.oneOfType([d.bool,d.object]),keyboard:d.oneOfType([d.bool,d.object]),onHover:d.func,onClick:d.func,onDblClick:d.func,onContextMenu:d.func,onMouseDown:d.func,onMouseMove:d.func,onMouseUp:d.func,onTouchStart:d.func,onTouchMove:d.func,onTouchEnd:d.func,onMouseEnter:d.func,onMouseLeave:d.func,onMouseOut:d.func,onWheel:d.func,touchAction:d.string,eventRecognizerOptions:d.object,clickRadius:d.number,interactiveLayerIds:d.array,getCursor:d.func,controller:d.instanceOf(ye)}),Oe=Object.assign({},J.defaultProps,A,Tt.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",eventRecognizerOptions:{},clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?"grabbing":n?"pointer":"grab"}});function we(t){if(t.lngLat||!t.offsetCenter)return t;var e=t.offsetCenter,n=e.x,r=e.y;if(!Number.isFinite(n)||!Number.isFinite(r))return t;var i=[n,r];return t.point=i,t.lngLat=this.viewport.unproject(i),t}function je(t){var e=this.map;if(!e||!t)return null;var n={},r=this.props.clickRadius;this.props.interactiveLayerIds&&(n.layers=this.props.interactiveLayerIds);try{return e.queryRenderedFeatures(r?[[t[0]-r,t[1]+r],[t[0]+r,t[1]-r]]:t,n)}catch(i){return null}}function _e(t,e){var n=this.props[t];n&&n(we.call(this,e))}function Ee(t){_e.call(this,"touch"===t.pointerType?"onTouchStart":"onMouseDown",t)}function Te(t){_e.call(this,"touch"===t.pointerType?"onTouchEnd":"onMouseUp",t)}function Pe(t){if(_e.call(this,"touch"===t.pointerType?"onTouchMove":"onMouseMove",t),!this.state.isDragging){var e,n=this.props,r=n.onHover,i=n.interactiveLayerIds;t=we.call(this,t),(i||r)&&(e=je.call(this,t.point));var o=Boolean(i&&e&&e.length>0),a=o&&!this.state.isHovering,s=!o&&this.state.isHovering;(r||a)&&(t.features=e,r&&r(t)),a&&_e.call(this,"onMouseEnter",t),s&&_e.call(this,"onMouseLeave",t),(a||s)&&this.setState({isHovering:o})}}function xe(t){var e=this.props,n=e.onClick,r=e.onNativeClick,i=e.onDblClick,o=e.doubleClickZoom,a=[],s=i||o;switch(t.type){case"anyclick":a.push(r),s||a.push(n);break;case"click":s&&a.push(n)}(a=a.filter(Boolean)).length&&((t=we.call(this,t)).features=je.call(this,t.point),a.forEach((function(e){return e(t)})))}var ke=Object(c.forwardRef)((function(t,e){var n=Object(c.useContext)(z),r=Object(c.useMemo)((function(){return t.controller||new ye}),[]),i=Object(c.useMemo)((function(){return new ie(null,{touchAction:t.touchAction,recognizerOptions:t.eventRecognizerOptions})}),[]),o=Object(c.useRef)(null),a=Object(c.useRef)(null),s=Object(c.useRef)({width:0,height:0,state:{isHovering:!1,isDragging:!1}}).current;s.props=t,s.map=a.current&&a.current.getMap(),s.setState=function(e){s.state=me(me({},s.state),e),o.current.style.cursor=t.getCursor(s.state)};var u,l,f=!0,d=function(t,e,n){if(f)u=[t,e,n];else{var r=s.props,i=r.onViewStateChange,o=r.onViewportChange;i&&i({viewState:t,interactionState:e,oldViewState:n}),o&&o(t,e,n)}};Object(c.useImperativeHandle)(e,(function(){return function(t){return{getMap:t.current&&t.current.getMap,queryRenderedFeatures:t.current&&t.current.queryRenderedFeatures}}(a)}),[]);var v=Object(c.useMemo)((function(){return me(me({},n),{},{eventManager:i,container:n.container||o.current})}),[n,o.current]);v.onViewportChange=d,v.viewport=n.viewport||q(s),s.viewport=v.viewport;var y=function(t){var e=t.isDragging,n=void 0!==e&&e;if(n!==s.state.isDragging&&s.setState({isDragging:n}),f)l=t;else{var r=s.props.onInteractionStateChange;r&&r(t)}},b=function(){s.width&&s.height&&r.setOptions(me(me(me({},s.props),s.props.viewState),{},{isInteractive:Boolean(s.props.onViewStateChange||s.props.onViewportChange),onViewportChange:d,onStateChange:y,eventManager:i,width:s.width,height:s.height}))};Object(c.useEffect)((function(){return i.setElement(o.current),i.on({pointerdown:Ee.bind(s),pointermove:Pe.bind(s),pointerup:Te.bind(s),pointerleave:_e.bind(s,"onMouseOut"),click:xe.bind(s),anyclick:xe.bind(s),dblclick:_e.bind(s,"onDblClick"),wheel:_e.bind(s,"onWheel"),contextmenu:_e.bind(s,"onContextMenu")}),function(){i.destroy()}}),[]),F((function(){u&&d.apply(void 0,Object(p.a)(u)),l&&y(l)})),b();var m=t.width,g=t.height,O=t.style,w=t.getCursor,j=Object(c.useMemo)((function(){return me(me({position:"relative"},O),{},{width:m,height:g,cursor:w(s.state)})}),[O,m,g,w,s.state]);return u&&s._child||(s._child=c.createElement(U,{value:v},c.createElement("div",{key:"event-canvas",ref:o,style:j},c.createElement(J,Object(h.a)({},t,{width:"100%",height:"100%",style:null,onResize:function(t){var e=t.width,n=t.height;s.width=e,s.height=n,b(),s.props.onResize({width:e,height:n})},ref:a}))))),f=!1,s._child}));ke.supported=J.supported,ke.propTypes=ge,ke.defaultProps=Oe;function Se(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Se(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"===Object(Qt.a)(t)&&"object"===Object(Qt.a)(e)){var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(!e.hasOwnProperty(s))return!1;if(!Se(t[s],e[s]))return!1}return!0}return!1}var Ae=n("Ff2n");function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Me={type:d.oneOf(["fill","line","symbol","circle","fill-extrusion","raster","background","heatmap","hillshade"]).isRequired,id:d.string,source:d.string,beforeId:d.string};function Ce(t,e,n,r){x(n.id===r.id,"layer id changed"),x(n.type===r.type,"layer type changed");try{!function(t,e,n,r){var i=n.layout,o=void 0===i?{}:i,a=n.paint,s=void 0===a?{}:a,c=n.filter,u=n.minzoom,l=n.maxzoom,f=n.beforeId,h=Object(Ae.a)(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(f!==r.beforeId&&t.moveLayer(e,f),o!==r.layout){var p=r.layout||{};for(var d in o)Se(o[d],p[d])||t.setLayoutProperty(e,d,o[d]);for(var v in p)o.hasOwnProperty(v)||t.setLayoutProperty(e,v,void 0)}if(s!==r.paint){var y=r.paint||{};for(var b in s)Se(s[b],y[b])||t.setPaintProperty(e,b,s[b]);for(var m in y)s.hasOwnProperty(m)||t.setPaintProperty(e,m,void 0)}for(var g in Se(c,r.filter)||t.setFilter(e,c),u===r.minzoom&&l===r.maxzoom||t.setLayerZoomRange(e,u,l),h)Se(h[g],r[g])||t.setLayerProperty(e,g,h[g])}(t,e,n,r)}catch(i){console.warn(i)}}var Le=0;function Re(t){var e=Object(c.useContext)(z),n=Object(c.useRef)({id:t.id,type:t.type}),r=Object(c.useState)(0),i=Object(v.a)(r,2)[1],o=Object(c.useMemo)((function(){return t.id||"jsx-layer-".concat(Le++)}),[]),a=e.map;return Object(c.useEffect)((function(){if(a){var t=function(){return i((function(t){return t+1}))};return a.on("styledata",t),function(){a.off("styledata",t),a.style&&a.style._loaded&&a.removeLayer(o)}}}),[a]),a&&a.style&&a.getLayer(o)?Ce(a,o,t,n.current):function(t,e,n){if(t.style&&t.style._loaded){var r=De(De({},n),{},{id:e});delete r.beforeId,t.addLayer(r,n.beforeId)}}(a,o,t),n.current=t,null}Re.propTypes=Me;var Ne={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1},Be={captureScroll:d.bool,captureDrag:d.bool,captureClick:d.bool,captureDoubleClick:d.bool,capturePointerMove:d.bool};function Ue(t){var e=t.containerRef.current,n=t.context.eventManager;if(e&&n){var r={wheel:function(e){var n=t.props;n.captureScroll&&e.stopPropagation(),n.onScroll&&n.onScroll(e,t)},panstart:function(e){var n=t.props;n.captureDrag&&e.stopPropagation(),n.onDragStart&&n.onDragStart(e,t)},anyclick:function(e){var n=t.props;n.captureClick&&e.stopPropagation(),n.onClick&&n.onClick(e,t)},click:function(e){var n=t.props;n.captureClick&&e.stopPropagation(),n.onClick&&n.onClick(e,t)},dblclick:function(e){var n=t.props;n.captureDoubleClick&&e.stopPropagation(),n.onDoubleClick&&n.onDoubleClick(e,t)},pointermove:function(e){var n=t.props;n.capturePointerMove&&e.stopPropagation(),n.onPointerMove&&n.onPointerMove(e,t)}};return n.watch(r,e),function(){n.off(r)}}}function ze(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(c.useContext)(z),n=Object(c.useRef)(null),r=Object(c.useRef)({props:t,state:{},context:e,containerRef:n}),i=r.current;return i.props=t,i.context=e,Object(c.useEffect)((function(){return Ue(i)}),[e.eventManager]),i}function Fe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(rt.a)(t);if(e){var i=Object(rt.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(nt.a)(this,n)}}function Ve(t){var e=t.instance,n=ze(t),r=n.context,i=n.containerRef;return e._context=r,e._containerRef=i,e._render()}var Ge=function(t){Object(et.a)(n,t);var e=Fe(n);function n(){var t;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),Object(f.a)(Object(tt.a)(t),"_context",{}),Object(f.a)(Object(tt.a)(t),"_containerRef",Object(c.createRef)()),Object(f.a)(Object(tt.a)(t),"_onScroll",(function(t){})),Object(f.a)(Object(tt.a)(t),"_onDragStart",(function(t){})),Object(f.a)(Object(tt.a)(t),"_onDblClick",(function(t){})),Object(f.a)(Object(tt.a)(t),"_onClick",(function(t){})),Object(f.a)(Object(tt.a)(t),"_onPointerMove",(function(t){})),t}return Object(j.a)(n,[{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){return c.createElement(Ve,Object(h.a)({instance:this},this.props,{onScroll:this._onScroll,onDragStart:this._onDragStart,onDblClick:this._onDblClick,onClick:this._onClick,onPointerMove:this._onPointerMove}))}}]),n}(c.PureComponent);function He(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?He(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Object(f.a)(Ge,"propTypes",Be),Object(f.a)(Ge,"defaultProps",Ne);Object.assign({},Be,{draggable:d.bool,onDrag:d.func,onDragEnd:d.func,onDragStart:d.func,offsetLeft:d.number,offsetTop:d.number});var Ze=Object.assign({},Ne,{draggable:!1,offsetLeft:0,offsetTop:0});function We(t){var e=t.offsetCenter;return[e.x,e.y]}function Ye(t,e,n,r){var i=t[0]+e[0]-n.offsetLeft,o=t[1]+e[1]-n.offsetTop;return r.viewport.unproject([i,o])}function Xe(t,e){var n=e.props,r=e.callbacks,i=e.state,o=e.context,a=e.containerRef;if(n.draggable){t.stopPropagation();var s=We(t),c=function(t,e){var n=t.center,r=n.x,i=n.y;if(e){var o=e.getBoundingClientRect();return[o.left-r,o.top-i]}return null}(t,a.current);if(i.setDragPos(s),i.setDragOffset(c),r.onDragStart&&c){var u=Object.assign({},t);u.lngLat=Ye(s,c,n,o),r.onDragStart(u)}}}function Je(t){var e=t.context.eventManager;if(e&&t.state.dragPos){var n={panmove:function(e){return function(t,e){var n=e.props,r=e.callbacks,i=e.state,o=e.context;t.stopPropagation();var a=We(t);i.setDragPos(a);var s=i.dragOffset;if(r.onDrag&&s){var c=Object.assign({},t);c.lngLat=Ye(a,s,n,o),r.onDrag(c)}}(e,t)},panend:function(e){return function(t,e){var n=e.props,r=e.callbacks,i=e.state,o=e.context;t.stopPropagation();var a=i.dragPos,s=i.dragOffset;if(i.setDragPos(null),i.setDragOffset(null),r.onDragEnd&&a&&s){var c=Object.assign({},t);c.lngLat=Ye(a,s,n,o),r.onDragEnd(c)}}(e,t)},pancancel:function(e){return n=e,r=t.state,n.stopPropagation(),r.setDragPos(null),void r.setDragOffset(null);var n,r}};return e.watch(n),function(){e.off(n)}}}var Qe="undefined"!=typeof window&&window.devicePixelRatio||1,Ke=function(t){return Math.round(t*Qe)/Qe},$e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===t)return e;var r="x"===n?t.offsetWidth:t.offsetHeight;return Ke(e/100*r)/r*100},tn=Object.assign({},Ze,{className:""});function en(t){var e=function(t){var e=Object(c.useState)(null),n=Object(v.a)(e,2),r=n[0],i=n[1],o=Object(c.useState)(null),a=Object(v.a)(o,2),s=a[0],u=a[1],l=ze(qe(qe({},t),{},{onDragStart:Xe}));return l.callbacks=t,l.state.dragPos=r,l.state.setDragPos=i,l.state.dragOffset=s,l.state.setDragOffset=u,Object(c.useEffect)((function(){return Je(l)}),[l.context.eventManager,Boolean(r)]),l}(t),n=e.state,r=e.containerRef,i=t.children,o=t.className,a=t.draggable,s=n.dragPos,u=function(t){var e=t.props,n=t.state,r=t.context,i=e.longitude,o=e.latitude,a=e.offsetLeft,s=e.offsetTop,c=n.dragPos,u=n.dragOffset;if(c&&u)return[c[0]+u[0],c[1]+u[1]];var l=r.viewport.project([i,o]),f=Object(v.a)(l,2),h=f[0],p=f[1];return[h+=a,p+=s]}(e),l=Object(v.a)(u,2),f=l[0],h=l[1],p="translate(".concat(Ke(f),"px, ").concat(Ke(h),"px)"),d=a?s?"grabbing":"grab":"auto",y=Object(c.useMemo)((function(){var t={position:"absolute",left:0,top:0,transform:p,cursor:d};return c.createElement("div",{className:"mapboxgl-marker ".concat(o),ref:e.containerRef,style:t},i)}),[i,o]),b=r.current;return b&&(b.style.transform=p,b.style.cursor=d),y}en.defaultProps=tn;c.memo(en);var nn={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},rn=Object.keys(nn);function on(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?on(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var sn=Object.assign({},Ne,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}});function cn(t,e,n,r){var i=Object(v.a)(r,2),o=i[0],a=i[1],s=t.anchor,c=t.dynamicPosition,u=t.tipSize;return n&&c?function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.selfWidth,a=t.selfHeight,s=t.anchor,c=t.padding,u=void 0===c?0:c,l=nn[s],f=l.x,h=l.y,p=n-h*a,d=p+a,v=Math.max(0,u-p)+Math.max(0,d-i+u);if(v>0){var y=h,b=v;for(h=0;h<=1;h+=.5)d=(p=n-h*a)+a,(v=Math.max(0,u-p)+Math.max(0,d-i+u))<b&&(b=v,y=h);h=y}var m=.5;.5===h&&(f=Math.floor(f),m=1);var g=e-f*o,O=g+o,w=Math.max(0,u-g)+Math.max(0,O-r+u);if(w>0){var j=f,_=w;for(f=0;f<=1;f+=m)O=(g=e-f*o)+o,(w=Math.max(0,u-g)+Math.max(0,O-r+u))<_&&(_=w,j=f);f=j}return rn.find((function(t){var e=nn[t];return e.x===f&&e.y===h}))||s}({x:o,y:a,anchor:s,padding:u,width:e.width,height:e.height,selfWidth:n.clientWidth,selfHeight:n.clientHeight}):s}function un(t,e){var n=e.props,r=e.context;(n.closeOnClick||"mapboxgl-popup-close-button"===t.target.className)&&(n.onClose(),r.eventManager&&r.eventManager.once("click",(function(t){return t.stopPropagation()}),t.target))}function ln(t){var e=Object(c.useRef)(null),n=ze(an(an({},t),{},{onClick:un})),r=n.context,i=n.containerRef,o=Object(c.useState)(!1),a=Object(v.a)(o,2)[1];Object(c.useEffect)((function(){a(!0)}),[e.current]);var s=r.viewport,u=t.className,l=t.longitude,f=t.latitude,h=t.altitude,p=t.tipSize,d=t.closeButton,y=t.children,b=s.project([l,f,h]),m=cn(t,s,e.current,b),g=function(t,e,n,r,i){var o=Object(v.a)(r,3),a=o[0],s=o[1],c=o[2],u=t.offsetLeft,l=t.offsetTop,f=t.sortByDepth,h=nn[i],p=a+u,d=s+l,y=$e(n,100*-h.x),b=$e(n,100*-h.y,"y"),m={position:"absolute",transform:"\n      translate(".concat(y,"%, ").concat(b,"%)\n      translate(").concat(Ke(p),"px, ").concat(Ke(d),"px)\n    "),display:void 0,zIndex:void 0};return f?(c>1||c<-1||a<0||a>e.width||s<0||s>e.height?m.display="none":m.zIndex=Math.floor((1-c)/2*1e5),m):m}(t,s,i.current,b,m),O=Object(c.useCallback)((function(t){return!r.eventManager&&un(t,n)}),[r.eventManager]);return c.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(m," ").concat(u),style:g,ref:i},c.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:p}}),c.createElement("div",{key:"content",ref:e,className:"mapboxgl-popup-content",onClick:O},d&&c.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"×"),y))}ln.defaultProps=sn;c.memo(ln);function fn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var hn=Object.assign({},Ne,{className:"",toggleLabel:"Toggle Attribution"});function pn(t){var e=ze(t),n=e.context,r=e.containerRef,i=Object(c.useRef)(null),o=Object(c.useState)(!1),a=Object(v.a)(o,2),s=a[0],u=a[1];Object(c.useEffect)((function(){var e;return n.map&&(e=function(t,e,n,r){var i=new O.a.AttributionControl(t);return i._map=e,i._container=n,i._innerContainer=r,i._updateAttributions(),i._updateEditLink(),e.on("styledata",i._updateData),e.on("sourcedata",i._updateData),i}({customAttribution:t.customAttribution},n.map,r.current,i.current)),function(){return e&&function(t){t._map.off("styledata",t._updateData),t._map.off("sourcedata",t._updateData)}(e)}}),[n.map]);var l=void 0===t.compact?n.viewport.width<=640:t.compact;Object(c.useEffect)((function(){!l&&s&&u(!1)}),[l]);var h=Object(c.useCallback)((function(){return u((function(t){return!t}))}),[]),p=Object(c.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return c.createElement("div",{style:p,className:t.className},c.createElement("div",{ref:r,"aria-pressed":s,className:"mapboxgl-ctrl mapboxgl-ctrl-attrib ".concat(l?"mapboxgl-compact":""," ").concat(s?"mapboxgl-compact-show":"")},c.createElement("button",{type:"button",className:"mapboxgl-ctrl-attrib-button",title:t.toggleLabel,onClick:h}),c.createElement("div",{ref:i,className:"mapboxgl-ctrl-attrib-inner",role:"list"})))}pn.defaultProps=hn;c.memo(pn);var dn=n("oJR1");function vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var yn=Object.assign({},Ne,{className:"",container:null,label:"Toggle fullscreen"});function bn(t){var e=ze(t),n=e.context,r=e.containerRef,i=Object(c.useState)(!1),o=Object(v.a)(i,2),a=o[0],s=o[1],u=Object(c.useState)(!1),l=Object(v.a)(u,2),h=l[0],p=l[1],d=Object(c.useState)(null),y=Object(v.a)(d,2),b=y[0],m=y[1];Object(c.useEffect)((function(){var t=new O.a.FullscreenControl;m(t),p(t._checkFullscreenSupport());var e=function(){var e=!t._fullscreen;t._fullscreen=e,s(e)};return dn.a.addEventListener(t._fullscreenchange,e),function(){dn.a.removeEventListener(t._fullscreenchange,e)}}),[]);var g=Object(c.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);if(!h)return null;var w=t.className,j=t.label,_=a?"shrink":"fullscreen";return c.createElement("div",{style:g,className:w},c.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},c.createElement("button",{key:_,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(_),type:"button",title:j,onClick:function(){b&&(b._container=t.container||n.container,b._onClickFullscreen())}},c.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}bn.defaultProps=yn;var mn;c.memo(bn);function gn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var On=function(){},wn=Object.assign({},Ne,{className:"",label:"Find My Location",disabledLabel:"Location Not Available",auto:!1,positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0,showAccuracyCircle:!0,onGeolocate:function(){}});function jn(t,e){var n=e.context,r=e.props,i=function(t){var e=new O.a.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=e.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]}(t),o=n.viewport.fitBounds(i,r.fitBoundsOptions),a=o.longitude,s=o.latitude,c=o.zoom,u=Object.assign({},n.viewport,{longitude:a,latitude:s,zoom:c}),l=new C(u),f=Object.assign({},l.getViewportProps(),ce),h=r.onViewportChange||n.onViewportChange||On;(r.onViewStateChange||n.onViewStateChange||On)({viewState:f}),h(f)}function _n(t){var e=ze(t),n=e.context,r=e.containerRef,i=Object(c.useRef)(null),o=Object(c.useState)(null),a=Object(v.a)(o,2),s=a[0],u=a[1],l=Object(c.useState)(!1),h=Object(v.a)(l,2),p=h[0],d=h[1];Object(c.useEffect)((function(){var r;return n.map&&(void 0!==mn?Promise.resolve(mn):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(t){return mn="denied"!==t.state})):(mn=Boolean(window.navigator.geolocation),Promise.resolve(mn))).then((function(o){d(o),i.current&&((r=function(t,e,n){var r=new O.a.GeolocateControl(e);r._container=dn.a.createElement("div"),r._map={on:function(){},_getUIString:function(){return""}},r._setupUI(!0),r._map=t.map,r._geolocateButton=n;var i=t.eventManager;return r.options.trackUserLocation&&i&&i.on("panstart",(function(){"ACTIVE_LOCK"===r._watchState&&(r._watchState="BACKGROUND",n.classList.add("mapboxgl-ctrl-geolocate-background"),n.classList.remove("mapboxgl-ctrl-geolocate-active"))})),r.on("geolocate",e.onGeolocate),r}(n,t,i.current))._updateCamera=function(t){return jn(t,e)},u(r))})),function(){r&&r._clearWatch()}}),[n.map]);var y=Object(c.useCallback)((function(){s&&(s.options=e.props,s.trigger())}),[s]);Object(c.useEffect)((function(){t.auto&&y()}),[s,t.auto]),Object(c.useEffect)((function(){s&&s._onZoom()}),[n.viewport.zoom]);var b=t.className,m=t.label,g=t.disabledLabel,w=t.trackUserLocation,j=Object(c.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gn(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return c.createElement("div",{style:j,className:b},c.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},c.createElement("button",{key:"geolocate",className:"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",ref:i,disabled:!p,"aria-pressed":!w,type:"button",title:p?m:g,"aria-label":p?m:g,onClick:y},c.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}_n.defaultProps=wn;c.memo(_n);function En(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Tn=function(){},Pn=Object.assign({},Ne,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function xn(t){return function(t,e){for(var n=(t||"").split(".").map(Number),r=(e||"").split(".").map(Number),i=0;i<3;i++){var o=n[i]||0,a=r[i]||0;if(o<a)return-1;if(o>a)return 1}return 0}(t,"1.6.0")>=0?2:1}function kn(t,e,n){var r=t.viewport,i=new C(Object.assign({},r,n)),o=Object.assign({},i.getViewportProps(),ce),a=e.onViewportChange||t.onViewportChange||Tn;(e.onViewStateChange||t.onViewStateChange||Tn)({viewState:o}),a(o)}function Sn(t,e,n,r){return c.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},r||c.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}function An(t){var e=ze(t),n=e.context,r=e.containerRef,i=t.className,o=t.showCompass,a=t.showZoom,s=t.zoomInLabel,u=t.zoomOutLabel,l=t.compassLabel,h=Object(c.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?En(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return c.createElement("div",{style:h,className:i},c.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},a&&Sn("zoom-in",s,(function(){kn(n,t,{zoom:n.viewport.zoom+1})})),a&&Sn("zoom-out",u,(function(){kn(n,t,{zoom:n.viewport.zoom-1})})),o&&Sn("compass",l,(function(){kn(n,t,{bearing:0,pitch:0})}),function(t){var e=Object(c.useMemo)((function(){return t.map?xn(t.map.version):2}),[t.map]),n=t.viewport.bearing,r={transform:"rotate(".concat(-n,"deg)")};return 2===e?c.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:r}):c.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:r})}(n))))}An.defaultProps=Pn;c.memo(An);function In(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Dn=Object.assign({},Ne,{className:"",maxWidth:100,unit:"metric"});function Mn(t){var e=ze(t),n=e.context,r=e.containerRef,i=Object(c.useState)(null),o=Object(v.a)(i,2),a=o[0],s=o[1];Object(c.useEffect)((function(){if(n.map){var t=new O.a.ScaleControl;t._map=n.map,t._container=r.current,s(t)}}),[n.map]),a&&(a.options=t,a._onMove());var u=Object(c.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?In(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return c.createElement("div",{style:u,className:t.className},c.createElement("div",{ref:r,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}))}Mn.defaultProps=Dn;c.memo(Mn);var Cn="undefined"!=typeof window&&window.devicePixelRatio||1;function Ln(t){var e=ze(t),n=e.context,r=e.containerRef,i=Object(c.useState)(null),o=Object(v.a)(i,2),a=o[0],s=o[1];Object(c.useEffect)((function(){s(r.current.getContext("2d"))}),[]);var u=n.viewport,l=n.isDragging;return a&&(a.save(),a.scale(Cn,Cn),t.redraw({width:u.width,height:u.height,ctx:a,isDragging:l,project:u.project,unproject:u.unproject}),a.restore()),c.createElement("canvas",{ref:r,width:u.width*Cn,height:u.height*Cn,style:{width:"".concat(u.width,"px"),height:"".concat(u.height,"px"),position:"absolute",left:0,top:0}})}Ln.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};function Rn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nn(t){var e=ze(t),n=e.context,r=e.containerRef,i=n.viewport,o=n.isDragging,a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rn(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute",left:0,top:0,width:i.width,height:i.height},t.style);return c.createElement("div",{ref:r,style:a},t.redraw({width:i.width,height:i.height,isDragging:o,project:i.project,unproject:i.unproject}))}Nn.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};function Bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Un(t){var e=ze(t),n=e.context,r=e.containerRef,i=n.viewport,o=n.isDragging,a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bn(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute",left:0,top:0},t.style);return c.createElement("svg",{width:i.width,height:i.height,ref:r,style:a},t.redraw({width:i.width,height:i.height,isDragging:o,project:i.project,unproject:i.unproject}))}Un.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};O.a&&O.a.setRTLTextPlugin;var zn=n("pLLy"),Fn=n("49Am"),Vn=n("o0o1"),Gn=n.n(Vn),Hn=(n("d1Eg"),n("HaE+")),qn=n("oCaT"),Zn=1,Wn=2,Yn="empty",Xn="scenegraph",Jn="pointcloud",Qn="TILES3D",Kn="geometricError",$n={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect"},tr=(Object.keys($n),n("DYWF"));function er(t,e,n){Object(tr.a)(t instanceof ArrayBuffer);var r=new TextDecoder("utf8"),i=new Uint8Array(t,e,n);return r.decode(i)}function nr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new DataView(t);return"".concat(String.fromCharCode(n.getUint8(e+0))).concat(String.fromCharCode(n.getUint8(e+1))).concat(String.fromCharCode(n.getUint8(e+2))).concat(String.fromCharCode(n.getUint8(e+3)))}var rr={name:"Draco",id:"draco",module:"draco",version:"3.0.12",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};function ir(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=t.POSITION?t.POSITION.value:[],c=s&&s.length,u=0;u<c;u+=3){var l=s[u],f=s[u+1],h=s[u+2];e=l<e?l:e,n=f<n?f:n,r=h<r?h:r,i=l>i?l:i,o=f>o?f:o,a=h>a?h:a}return[[e,n,r],[i,o,a]]}function or(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ar(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sr,cr,ur,lr,fr=function(){function t(e,n){Object(w.a)(this,t),Object(f.a)(this,"fields",void 0),Object(f.a)(this,"metadata",void 0),function(t,e){if(!t)throw new Error(e||"loader assertion failed.")}(Array.isArray(e)),function(t){var e,n={},r=or(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.name]&&console.warn("Schema: duplicated field name",i.name,i),n[i.name]=!0}}catch(o){r.e(o)}finally{r.f()}}(e),this.fields=e,this.metadata=n||new Map}return Object(j.a)(t,[{key:"compareTo",value:function(t){if(this.metadata!==t.metadata)return!1;if(this.fields.length!==t.fields.length)return!1;for(var e=0;e<this.fields.length;++e)if(!this.fields[e].compareTo(t.fields[e]))return!1;return!0}},{key:"select",value:function(){for(var e=Object.create(null),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];e[s]=!0}var c=this.fields.filter((function(t){return e[t.name]}));return new t(c,this.metadata)}},{key:"selectAt",value:function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.map((function(t){return e.fields[t]})).filter(Boolean);return new t(o,this.metadata)}},{key:"assign",value:function(e){var n,r=this.metadata;if(e instanceof t){var i=e;n=i.fields,r=hr(hr(new Map,this.metadata),i.metadata)}else n=e;var o,a=Object.create(null),s=or(this.fields);try{for(s.s();!(o=s.n()).done;){var c=o.value;a[c.name]=c}}catch(h){s.e(h)}finally{s.f()}var u,l=or(n);try{for(l.s();!(u=l.n()).done;){var f=u.value;a[f.name]=f}}catch(h){l.e(h)}finally{l.f()}return new t(Object.values(a),r)}}]),t}();function hr(t,e){return new Map([].concat(Object(p.a)(t||new Map),Object(p.a)(e||new Map)))}function pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(rt.a)(t);if(e){var i=Object(rt.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(nt.a)(this,n)}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(sr||(sr={}));var dr=function(){function t(){Object(w.a)(this,t)}return Object(j.a)(t,[{key:"typeId",get:function(){return sr.NONE}},{key:"compareTo",value:function(t){return this===t}}],[{key:"isNull",value:function(t){return t&&t.typeId===sr.Null}},{key:"isInt",value:function(t){return t&&t.typeId===sr.Int}},{key:"isFloat",value:function(t){return t&&t.typeId===sr.Float}},{key:"isBinary",value:function(t){return t&&t.typeId===sr.Binary}},{key:"isUtf8",value:function(t){return t&&t.typeId===sr.Utf8}},{key:"isBool",value:function(t){return t&&t.typeId===sr.Bool}},{key:"isDecimal",value:function(t){return t&&t.typeId===sr.Decimal}},{key:"isDate",value:function(t){return t&&t.typeId===sr.Date}},{key:"isTime",value:function(t){return t&&t.typeId===sr.Time}},{key:"isTimestamp",value:function(t){return t&&t.typeId===sr.Timestamp}},{key:"isInterval",value:function(t){return t&&t.typeId===sr.Interval}},{key:"isList",value:function(t){return t&&t.typeId===sr.List}},{key:"isStruct",value:function(t){return t&&t.typeId===sr.Struct}},{key:"isUnion",value:function(t){return t&&t.typeId===sr.Union}},{key:"isFixedSizeBinary",value:function(t){return t&&t.typeId===sr.FixedSizeBinary}},{key:"isFixedSizeList",value:function(t){return t&&t.typeId===sr.FixedSizeList}},{key:"isMap",value:function(t){return t&&t.typeId===sr.Map}},{key:"isDictionary",value:function(t){return t&&t.typeId===sr.Dictionary}}]),t}();cr=Symbol.toStringTag;var vr=function(t){Object(et.a)(n,t);var e=pr(n);function n(t,r){var i;return Object(w.a)(this,n),i=e.call(this),Object(f.a)(Object(tt.a)(i),"isSigned",void 0),Object(f.a)(Object(tt.a)(i),"bitWidth",void 0),i.isSigned=t,i.bitWidth=r,i}return Object(j.a)(n,[{key:"typeId",get:function(){return sr.Int}},{key:cr,get:function(){return"Int"}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),n}(dr),yr=function(t){Object(et.a)(n,t);var e=pr(n);function n(){return Object(w.a)(this,n),e.call(this,!0,8)}return n}(vr),br=function(t){Object(et.a)(n,t);var e=pr(n);function n(){return Object(w.a)(this,n),e.call(this,!0,16)}return n}(vr),mr=function(t){Object(et.a)(n,t);var e=pr(n);function n(){return Object(w.a)(this,n),e.call(this,!0,32)}return n}(vr),gr=function(t){Object(et.a)(n,t);var e=pr(n);function n(){return Object(w.a)(this,n),e.call(this,!1,8)}return n}(vr),Or=function(t){Object(et.a)(n,t);var e=pr(n);function n(){return Object(w.a)(this,n),e.call(this,!1,16)}return n}(vr),wr=function(t){Object(et.a)(n,t);var e=pr(n);function n(){return Object(w.a)(this,n),e.call(this,!1,32)}return n}(vr),jr=32,_r=64;ur=Symbol.toStringTag;var Er=function(t){Object(et.a)(n,t);var e=pr(n);function n(t){var r;return Object(w.a)(this,n),r=e.call(this),Object(f.a)(Object(tt.a)(r),"precision",void 0),r.precision=t,r}return Object(j.a)(n,[{key:"typeId",get:function(){return sr.Float}},{key:ur,get:function(){return"Float"}},{key:"toString",value:function(){return"Float".concat(this.precision)}}]),n}(dr),Tr=function(t){Object(et.a)(n,t);var e=pr(n);function n(){return Object(w.a)(this,n),e.call(this,jr)}return n}(Er),Pr=function(t){Object(et.a)(n,t);var e=pr(n);function n(){return Object(w.a)(this,n),e.call(this,_r)}return n}(Er);Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;lr=Symbol.toStringTag;var xr=function(t){Object(et.a)(n,t);var e=pr(n);function n(t,r){var i;return Object(w.a)(this,n),i=e.call(this),Object(f.a)(Object(tt.a)(i),"listSize",void 0),Object(f.a)(Object(tt.a)(i),"children",void 0),i.listSize=t,i.children=[r],i}return Object(j.a)(n,[{key:"typeId",get:function(){return sr.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:lr,get:function(){return"FixedSizeList"}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),n}(dr);var kr=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;Object(w.a)(this,t),Object(f.a)(this,"name",void 0),Object(f.a)(this,"type",void 0),Object(f.a)(this,"nullable",void 0),Object(f.a)(this,"metadata",void 0),this.name=e,this.type=n,this.nullable=r,this.metadata=i}return Object(j.a)(t,[{key:"typeId",get:function(){return this.type&&this.type.typeId}},{key:"clone",value:function(){return new t(this.name,this.type,this.nullable,this.metadata)}},{key:"compareTo",value:function(t){return this.name===t.name&&this.type===t.type&&this.nullable===t.nullable&&this.metadata===t.metadata}},{key:"toString",value:function(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}]),t}();function Sr(t,e,n){var r=Ir(e.metadata),i=[],o=function(t){var e={};for(var n in t){var r=t[n];e[r.name||"undefined"]=r}return e}(e.attributes);for(var a in t){var s=Ar(a,t[a],o[a]);i.push(s)}if(n){var c=Ar("indices",n);i.push(c)}return new fr(i,r)}function Ar(t,e,n){var r=n?Ir(n.metadata):void 0,i=function(t){switch(t.constructor){case Int8Array:return new yr;case Uint8Array:return new gr;case Int16Array:return new br;case Uint16Array:return new Or;case Int32Array:return new mr;case Uint32Array:return new wr;case Float32Array:return new Tr;case Float64Array:return new Pr;default:throw new Error("array type not supported")}}(e.value);return new kr(t,new xr(e.size,new kr("value",i)),!1,r)}function Ir(t){var e=new Map;for(var n in t)e.set("".concat(n,".string"),JSON.stringify(t[n]));return e}function Dr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Mr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Mr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cr(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Rr={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},Nr={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},Br=function(){function t(e){Object(w.a)(this,t),Object(f.a)(this,"draco",void 0),Object(f.a)(this,"decoder",void 0),Object(f.a)(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}return Object(j.a)(t,[{key:"destroy",value:function(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}},{key:"parseSync",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new this.draco.DecoderBuffer;n.Init(new Int8Array(t),t.byteLength),this._disableAttributeTransforms(e);var r=this.decoder.GetEncodedGeometryType(n),i=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{var o;switch(r){case this.draco.TRIANGULAR_MESH:o=this.decoder.DecodeBufferToMesh(n,i);break;case this.draco.POINT_CLOUD:o=this.decoder.DecodeBufferToPointCloud(n,i);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!o.ok()||!i.ptr){var a="DRACO decompression failed: ".concat(o.error_msg());throw new Error(a)}var s=this._getDracoLoaderData(i,r,e),c=this._getMeshData(i,s,e),u=ir(c.attributes),l=Sr(c.attributes,s,c.indices),f=Lr(Lr({loader:"draco",loaderData:s,header:{vertexCount:i.num_points(),boundingBox:u}},c),{},{schema:l});return f}finally{this.draco.destroy(n),i&&this.draco.destroy(i)}}},{key:"_getDracoLoaderData",value:function(t,e,n){var r=this._getTopLevelMetadata(t),i=this._getDracoAttributes(t,n);return{geometry_type:e,num_attributes:t.num_attributes(),num_points:t.num_points(),num_faces:t instanceof this.draco.Mesh?t.num_faces():0,metadata:r,attributes:i}}},{key:"_getDracoAttributes",value:function(t,e){for(var n={},r=0;r<t.num_attributes();r++){var i=this.decoder.GetAttribute(t,r),o=this._getAttributeMetadata(t,r);n[i.unique_id()]={unique_id:i.unique_id(),attribute_type:i.attribute_type(),data_type:i.data_type(),num_components:i.num_components(),byte_offset:i.byte_offset(),byte_stride:i.byte_stride(),normalized:i.normalized(),attribute_index:r,metadata:o};var a=this._getQuantizationTransform(i,e);a&&(n[i.unique_id()].quantization_transform=a);var s=this._getOctahedronTransform(i,e);s&&(n[i.unique_id()].octahedron_transform=s)}return n}},{key:"_getMeshData",value:function(t,e,n){var r=this._getMeshAttributes(e,t,n);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");if(t instanceof this.draco.Mesh)switch(n.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(t),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(t),size:1}}}return{topology:"point-list",mode:0,attributes:r}}},{key:"_getMeshAttributes",value:function(t,e,n){for(var r={},i=0,o=Object.values(t.attributes);i<o.length;i++){var a=o[i],s=this._deduceAttributeName(a,n);a.name=s;var c=this._getAttributeValues(e,a),u=c.value,l=c.size;r[s]={value:u,size:l,byteOffset:a.byte_offset,byteStride:a.byte_stride,normalized:a.normalized}}return r}},{key:"_getTriangleListIndices",value:function(t){var e=3*t.num_faces(),n=4*e,r=this.draco._malloc(n);try{return this.decoder.GetTrianglesUInt32Array(t,n,r),new Uint32Array(this.draco.HEAPF32.buffer,r,e).slice()}finally{this.draco._free(r)}}},{key:"_getTriangleStripIndices",value:function(t){var e=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(t,e),function(t){for(var e=t.size(),n=new Int32Array(e),r=0;r<e;r++)n[r]=t.GetValue(r);return n}(e)}finally{this.draco.destroy(e)}}},{key:"_getAttributeValues",value:function(t,e){var n,r=Nr[e.data_type],i=e.num_components,o=t.num_points()*i,a=o*r.BYTES_PER_ELEMENT,s=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32;default:return t.DT_INVALID}}(this.draco,r),c=this.draco._malloc(a);try{var u=this.decoder.GetAttribute(t,e.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(t,u,s,a,c),n=new r(this.draco.HEAPF32.buffer,c,o).slice()}finally{this.draco._free(c)}return{value:n,size:i}}},{key:"_deduceAttributeName",value:function(t,e){for(var n=t.unique_id,r=0,i=Object.entries(e.extraAttributes||{});r<i.length;r++){var o=Object(v.a)(i[r],2),a=o[0];if(o[1]===n)return a}var s=t.attribute_type;for(var c in Rr){if(this.draco[c]===s)return Rr[c]}var u=e.attributeNameEntry||"name";return t.metadata[u]?t.metadata[u].string:"CUSTOM_ATTRIBUTE_".concat(n)}},{key:"_getTopLevelMetadata",value:function(t){var e=this.decoder.GetMetadata(t);return this._getDracoMetadata(e)}},{key:"_getAttributeMetadata",value:function(t,e){var n=this.decoder.GetAttributeMetadata(t,e);return this._getDracoMetadata(n)}},{key:"_getDracoMetadata",value:function(t){if(!t||!t.ptr)return{};for(var e={},n=this.metadataQuerier.NumEntries(t),r=0;r<n;r++){var i=this.metadataQuerier.GetEntryName(t,r);e[i]=this._getDracoMetadataField(t,i)}return e}},{key:"_getDracoMetadataField",value:function(t,e){var n=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(t,e,n);var r=function(t){for(var e=t.size(),n=new Int32Array(e),r=0;r<e;r++)n[r]=t.GetValue(r);return n}(n);return{int:this.metadataQuerier.GetIntEntry(t,e),string:this.metadataQuerier.GetStringEntry(t,e),double:this.metadataQuerier.GetDoubleEntry(t,e),intArray:r}}finally{this.draco.destroy(n)}}},{key:"_disableAttributeTransforms",value:function(t){var e,n=t.quantizedAttributes,r=void 0===n?[]:n,i=t.octahedronAttributes,o=void 0===i?[]:i,a=Dr([].concat(Object(p.a)(r),Object(p.a)(o)));try{for(a.s();!(e=a.n()).done;){var s=e.value;this.decoder.SkipAttributeTransform(this.draco[s])}}catch(c){a.e(c)}finally{a.f()}}},{key:"_getQuantizationTransform",value:function(t,e){var n=this,r=e.quantizedAttributes,i=void 0===r?[]:r,o=t.attribute_type();if(i.map((function(t){return n.decoder[t]})).includes(o)){var a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(t))return{quantization_bits:a.quantization_bits(),range:a.range(),min_values:new Float32Array([1,2,3]).map((function(t){return a.min_value(t)}))}}finally{this.draco.destroy(a)}}return null}},{key:"_getOctahedronTransform",value:function(t,e){var n=this,r=e.octahedronAttributes,i=void 0===r?[]:r,o=t.attribute_type();if(i.map((function(t){return n.decoder[t]})).includes(o)){var a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(t))return{quantization_bits:a.quantization_bits()}}finally{this.draco.destroy(a)}}return null}}]),t}();var Ur=n("A67p"),zr=n(13);var Fr={};function Vr(t){return Gr.apply(this,arguments)}function Gr(){return(Gr=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i=arguments;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]?i[2]:{},n&&(e=Hr(e,n,r)),Fr[e]=Fr[e]||qr(e),t.next=6,Fr[e];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Hr(t,e,n){if(t.startsWith("http"))return t;var r=n.modules||{};return r[t]?r[t]:Ur.b?n.CDN?(function(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(e,"@").concat("3.0.12","/dist/libs/").concat(t)):Ur.c?"../src/libs/".concat(t):"modules/".concat(e,"/src/libs/").concat(t):"modules/".concat(e,"/dist/libs/").concat(t)}function qr(t){return Zr.apply(this,arguments)}function Zr(){return(Zr=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.endsWith("wasm")){t.next=7;break}return t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.arrayBuffer();case 6:return t.abrupt("return",t.sent);case 7:if(Ur.b){t.next=14;break}if(t.t0=zr.requireFromFile,!t.t0){t.next=13;break}return t.next=12,zr.requireFromFile(e);case 12:t.t0=t.sent;case 13:return t.abrupt("return",t.t0);case 14:if(!Ur.c){t.next=16;break}return t.abrupt("return",importScripts(e));case 16:return t.next=18,fetch(e);case 18:return r=t.sent,t.next=21,r.text();case 21:return i=t.sent,t.abrupt("return",Wr(i,e));case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Wr(t,e){if(!Ur.b)return zr.requireFromString&&zr.requireFromString(t,e);if(Ur.c)return eval.call(Ur.a,t),null;var n=document.createElement("script");n.id=e;try{n.appendChild(document.createTextNode(t))}catch(r){n.text=t}return document.body.appendChild(n),null}function Yr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yr(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Jr,Qr="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.js"),Kr="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_wasm_wrapper.js"),$r="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.wasm");"https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js");function ti(t){return ei.apply(this,arguments)}function ei(){return(ei=Object(Hn.a)(Gn.a.mark((function t(e){var n;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.modules||{},Jr=n.draco3d?Jr||n.draco3d.createDecoderModule({}).then((function(t){return{draco:t}})):Jr||ni(e),t.next=4,Jr;case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ni(t){return ri.apply(this,arguments)}function ri(){return(ri=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i,o;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.draco&&e.draco.decoderType,t.next="js"===t.t0?3:(t.t0,7);break;case 3:return t.next=5,Vr(Qr,"draco",e);case 5:return n=t.sent,t.abrupt("break",21);case 7:return t.t1=Promise,t.next=10,Vr(Kr,"draco",e);case 10:return t.t2=t.sent,t.next=13,Vr($r,"draco",e);case 13:return t.t3=t.sent,t.t4=[t.t2,t.t3],t.next=17,t.t1.all.call(t.t1,t.t4);case 17:i=t.sent,o=Object(v.a)(i,2),n=o[0],r=o[1];case 21:return n=n||globalThis.DracoDecoderModule,t.next=24,ii(n,r);case 24:return t.abrupt("return",t.sent);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ii(t,e){var n={};return e&&(n.wasmBinary=e),new Promise((function(e){t(Xr(Xr({},n),{},{onModuleLoaded:function(t){return e({draco:t})}}))}))}function oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oi(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var si=ai(ai({},rr),{},{parse:function(t,e){return ci.apply(this,arguments)}});function ci(){return(ci=Object(Hn.a)(Gn.a.mark((function t(e,n){var r,i,o;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ti(n);case 2:return r=t.sent,i=r.draco,o=new Br(i),t.prev=5,t.abrupt("return",o.parseSync(e,null==n?void 0:n.draco));case 7:return t.prev=7,o.destroy(),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[5,,7,10]])})))).apply(this,arguments)}function ui(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ui(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var fi,hi={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},pi=li(li({},{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6}),hi),di=n("SDD5"),vi=(fi={},Object(f.a)(fi,hi.DOUBLE,Float64Array),Object(f.a)(fi,hi.FLOAT,Float32Array),Object(f.a)(fi,hi.UNSIGNED_SHORT,Uint16Array),Object(f.a)(fi,hi.UNSIGNED_INT,Uint32Array),Object(f.a)(fi,hi.UNSIGNED_BYTE,Uint8Array),Object(f.a)(fi,hi.BYTE,Int8Array),Object(f.a)(fi,hi.SHORT,Int16Array),Object(f.a)(fi,hi.INT,Int32Array),fi),yi={DOUBLE:hi.DOUBLE,FLOAT:hi.FLOAT,UNSIGNED_SHORT:hi.UNSIGNED_SHORT,UNSIGNED_INT:hi.UNSIGNED_INT,UNSIGNED_BYTE:hi.UNSIGNED_BYTE,BYTE:hi.BYTE,SHORT:hi.SHORT,INT:hi.INT},bi=function(){function t(){Object(w.a)(this,t)}return Object(j.a)(t,null,[{key:"fromTypedArray",value:function(t){for(var e in t=ArrayBuffer.isView(t)?t.constructor:t,vi){if(vi[e]===t)return e}throw new Error("Failed to convert GL type")}},{key:"fromName",value:function(t){var e=yi[t];if(!e)throw new Error("Failed to convert GL type");return e}},{key:"getArrayType",value:function(t){switch(t){case hi.UNSIGNED_SHORT_5_6_5:case hi.UNSIGNED_SHORT_4_4_4_4:case hi.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:var e=vi[t];if(!e)throw new Error("Failed to convert GL type");return e}}},{key:"getByteSize",value:function(e){return t.getArrayType(e).BYTES_PER_ELEMENT}},{key:"validate",value:function(e){return Boolean(t.getArrayType(e))}},{key:"createTypedArray",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;void 0===i&&(i=(n.byteLength-r)/t.getByteSize(e));var o=t.getArrayType(e);return new o(n,r,i)}}]),t}(),mi=function(){function t(e,n){Object(w.a)(this,t),this.json=e,this.buffer=n,this.featuresLength=0,this._cachedTypedArrays={}}return Object(j.a)(t,[{key:"getExtension",value:function(t){return this.json.extensions&&this.json.extensions[t]}},{key:"hasProperty",value:function(t){return Boolean(this.json[t])}},{key:"getGlobalProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pi.UNSIGNED_INT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.json[t];return r&&Number.isFinite(r.byteOffset)?this._getTypedArrayFromBinary(t,e,n,1,r.byteOffset):r}},{key:"getPropertyArray",value:function(t,e,n){var r=this.json[t];return r&&Number.isFinite(r.byteOffset)?("componentType"in r&&(e=bi.fromName(r.componentType)),this._getTypedArrayFromBinary(t,e,n,this.featuresLength,r.byteOffset)):this._getTypedArrayFromArray(t,e,r)}},{key:"getProperty",value:function(t,e,n,r,i){var o=this.json[t];if(!o)return o;var a=this.getPropertyArray(t,e,n);if(1===n)return a[r];for(var s=0;s<n;++s)i[s]=a[n*r+s];return i}},{key:"_getTypedArrayFromBinary",value:function(t,e,n,r,i){var o=this._cachedTypedArrays,a=o[t];return a||(a=bi.createTypedArray(e,this.buffer.buffer,this.buffer.byteOffset+i,r*n),o[t]=a),a}},{key:"_getTypedArrayFromArray",value:function(t,e,n){var r=this._cachedTypedArrays,i=r[t];return i||(i=bi.createTypedArray(e,n),r[t]=i),i}}]),t}(),gi={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Oi={SCALAR:function(t,e){return t[e]},VEC2:function(t,e){return[t[2*e+0],t[2*e+1]]},VEC3:function(t,e){return[t[3*e+0],t[3*e+1],t[3*e+2]]},VEC4:function(t,e){return[t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]]},MAT2:function(t,e){return[t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]]},MAT3:function(t,e){return[t[9*e+0],t[9*e+1],t[9*e+2],t[9*e+3],t[9*e+4],t[9*e+5],t[9*e+6],t[9*e+7],t[9*e+8]]},MAT4:function(t,e){return[t[16*e+0],t[16*e+1],t[16*e+2],t[16*e+3],t[16*e+4],t[16*e+5],t[16*e+6],t[16*e+7],t[16*e+8],t[16*e+9],t[16*e+10],t[16*e+11],t[16*e+12],t[16*e+13],t[16*e+14],t[16*e+15]]}},wi={SCALAR:function(t,e,n){e[n]=t},VEC2:function(t,e,n){e[2*n+0]=t[0],e[2*n+1]=t[1]},VEC3:function(t,e,n){e[3*n+0]=t[0],e[3*n+1]=t[1],e[3*n+2]=t[2]},VEC4:function(t,e,n){e[4*n+0]=t[0],e[4*n+1]=t[1],e[4*n+2]=t[2],e[4*n+3]=t[3]},MAT2:function(t,e,n){e[4*n+0]=t[0],e[4*n+1]=t[1],e[4*n+2]=t[2],e[4*n+3]=t[3]},MAT3:function(t,e,n){e[9*n+0]=t[0],e[9*n+1]=t[1],e[9*n+2]=t[2],e[9*n+3]=t[3],e[9*n+4]=t[4],e[9*n+5]=t[5],e[9*n+6]=t[6],e[9*n+7]=t[7],e[9*n+8]=t[8],e[9*n+9]=t[9]},MAT4:function(t,e,n){e[16*n+0]=t[0],e[16*n+1]=t[1],e[16*n+2]=t[2],e[16*n+3]=t[3],e[16*n+4]=t[4],e[16*n+5]=t[5],e[16*n+6]=t[6],e[16*n+7]=t[7],e[16*n+8]=t[8],e[16*n+9]=t[9],e[16*n+10]=t[10],e[16*n+11]=t[11],e[16*n+12]=t[12],e[16*n+13]=t[13],e[16*n+14]=t[14],e[16*n+15]=t[15]}};var ji=function(t){return void 0!==t};function _i(t,e,n){if(!e)return null;var r=t.getExtension("3DTILES_batch_table_hierarchy"),i=e.HIERARCHY;return i&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),e.extensions=e.extensions||{},e.extensions["3DTILES_batch_table_hierarchy"]=i,r=i),r?function(t,e){var n,r,i,o,a=t.instancesLength,s=t.classes,c=t.classIds,u=t.parentCounts,l=t.parentIds,f=a;ji(c.byteOffset)&&(c.componentType=defaultValue(c.componentType,GL.UNSIGNED_SHORT),c.type=AttributeType.SCALAR,i=getBinaryAccessor(c),c=i.createArrayBufferView(e.buffer,e.byteOffset+c.byteOffset,a));if(ji(u))for(ji(u.byteOffset)&&(u.componentType=defaultValue(u.componentType,GL.UNSIGNED_SHORT),u.type=AttributeType.SCALAR,i=getBinaryAccessor(u),u=i.createArrayBufferView(e.buffer,e.byteOffset+u.byteOffset,a)),o=new Uint16Array(a),f=0,n=0;n<a;++n)o[n]=f,f+=u[n];ji(l)&&ji(l.byteOffset)&&(l.componentType=defaultValue(l.componentType,GL.UNSIGNED_SHORT),l.type=AttributeType.SCALAR,i=getBinaryAccessor(l),l=i.createArrayBufferView(e.buffer,e.byteOffset+l.byteOffset,f));var h=s.length;for(n=0;n<h;++n){var p=s[n].length,d=s[n].instances,v=getBinaryProperties(p,d,e);s[n].instances=combine(v,d)}var y=new Array(h).fill(0),b=new Uint16Array(a);for(n=0;n<a;++n)r=c[n],b[n]=y[r],++y[r];var m={classes:s,classIds:c,classIndexes:b,parentCounts:u,parentIndexes:o,parentIds:l};return function(t){for(var e=t.classIds.length,n=0;n<e;++n)Ti(t,n,stack)}(m),m}(r,n):null}function Ei(t,e,n){if(t){var r=t.parentCounts;return t.parentIds?n(t,e):r>0?function(t,e,n){var r=t.classIds,i=t.parentCounts,o=t.parentIds,a=t.parentIndexes,s=r.length,c=scratchVisited;c.length=Math.max(c.length,s);var u=++marker,l=scratchStack;l.length=0,l.push(e);for(;l.length>0;)if(e=l.pop(),c[e]!==u){c[e]=u;var f=n(t,e);if(ji(f))return f;for(var h=i[e],p=a[e],d=0;d<h;++d){var v=o[p+d];v!==e&&l.push(v)}}return null}(t,e,n):function(t,e,n){var r=!0;for(;r;){var i=n(t,e);if(ji(i))return i;var o=t.parentIds[e];r=o!==e,e=o}throw new Error("traverseHierarchySingleParent")}(t,e,n)}}function Ti(t,e,n){var r=t.parentCounts,i=t.parentIds,o=t.parentIndexes,a=t.classIds.length;if(ji(i)){assert(e<a,"Parent index ".concat(e," exceeds the total number of instances: ").concat(a)),assert(-1===n.indexOf(e),"Circular dependency detected in the batch table hierarchy."),n.push(e);for(var s=ji(r)?r[e]:1,c=ji(r)?o[e]:e,u=0;u<s;++u){var l=i[c+u];l!==e&&Ti(t,l,n)}n.pop(e)}}function Pi(t){return null!=t}var xi=function(t,e){return t},ki={HIERARCHY:!0,extensions:!0,extras:!0},Si=function(){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(var a in Object(w.a)(this,t),Object(tr.a)(r>=0),this.json=e||{},this.binary=n,this.featureCount=r,this._extensions=(null===(i=this.json)||void 0===i?void 0:i.extensions)||{},this._properties={},this.json)ki[a]||(this._properties[a]=this.json[a]);this._binaryProperties=this._initializeBinaryProperties(),o["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=_i(this,this.json,this.binary))}return Object(j.a)(t,[{key:"getExtension",value:function(t){return this.json&&this.json.extensions&&this.json.extensions[t]}},{key:"memorySizeInBytes",value:function(){return 0}},{key:"isClass",value:function(t,e){return this._checkBatchId(t),Object(tr.a)("string"==typeof e,e),!!this._hierarchy&&Pi(Ei(this._hierarchy,t,(function(t,n){var r=t.classIds[n];return t.classes[r].name===e})))}},{key:"isExactClass",value:function(t,e){return Object(tr.a)("string"==typeof e,e),this.getExactClassName(t)===e}},{key:"getExactClassName",value:function(t){if(this._checkBatchId(t),this._hierarchy){var e=this._hierarchy.classIds[t];return this._hierarchy.classes[e].name}}},{key:"hasProperty",value:function(t,e){return this._checkBatchId(t),Object(tr.a)("string"==typeof e,e),Pi(this._properties[e])||this._hasPropertyInHierarchy(t,e)}},{key:"getPropertyNames",value:function(t,e){var n;this._checkBatchId(t),(e=Pi(e)?e:[]).length=0;var r=Object.keys(this._properties);return(n=e).push.apply(n,Object(p.a)(r)),this._hierarchy&&this._getPropertyNamesInHierarchy(t,e),e}},{key:"getProperty",value:function(t,e){if(this._checkBatchId(t),Object(tr.a)("string"==typeof e,e),this._binaryProperties){var n=this._binaryProperties[e];if(Pi(n))return this._getBinaryProperty(n,t)}var r=this._properties[e];if(Pi(r))return xi(r[t]);if(this._hierarchy){var i=this._getHierarchyProperty(t,e);if(Pi(i))return i}}},{key:"setProperty",value:function(t,e,n){var r=this.featureCount;if(this._checkBatchId(t),Object(tr.a)("string"==typeof e,e),this._binaryProperties){var i=this._binaryProperties[e];if(i)return void this._setBinaryProperty(i,t,n)}if(!this._hierarchy||!this._setHierarchyProperty(this,t,e,n)){var o=this._properties[e];Pi(o)||(this._properties[e]=new Array(r),o=this._properties[e]),o[t]=xi(n)}}},{key:"_checkBatchId",value:function(t){if(!(t>=0&&t<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}},{key:"_getBinaryProperty",value:function(t,e){return t.unpack(t.typedArray,e)}},{key:"_setBinaryProperty",value:function(t,e,n){t.pack(n,t.typedArray,e)}},{key:"_initializeBinaryProperties",value:function(){var t=null;for(var e in this._properties){var n=this._properties[e],r=this._initializeBinaryProperty(e,n);r&&((t=t||{})[e]=r)}return t}},{key:"_initializeBinaryProperty",value:function(t,e){if("byteOffset"in e){var n=e;Object(tr.a)(this.binary,"Property ".concat(t," requires a batch table binary.")),Object(tr.a)(n.type,"Property ".concat(t," requires a type."));var r=function(t,e,n,r){var i=t.componentType;Object(tr.a)(t.componentType);var o="string"==typeof i?bi.fromName(i):i,a=gi[t.type],s=Oi[t.type],c=wi[t.type];return n+=t.byteOffset,{values:bi.createTypedArray(o,e,n,a*r),type:o,size:a,unpacker:s,packer:c}}(n,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:r.values,componentCount:r.size,unpack:r.unpacker,pack:r.packer}}return null}},{key:"_hasPropertyInHierarchy",value:function(t,e){if(!this._hierarchy)return!1;var n=Ei(this._hierarchy,t,(function(t,n){var r=t.classIds[n];return Pi(t.classes[r].instances[e])}));return Pi(n)}},{key:"_getPropertyNamesInHierarchy",value:function(t,e){Ei(this._hierarchy,t,(function(t,n){var r=t.classIds[n],i=t.classes[r].instances;for(var o in i)i.hasOwnProperty(o)&&-1===e.indexOf(o)&&e.push(o)}))}},{key:"_getHierarchyProperty",value:function(t,e){var n=this;return Ei(this._hierarchy,t,(function(t,r){var i=t.classIds[r],o=t.classes[i],a=t.classIndexes[r],s=o.instances[e];return Pi(s)?Pi(s.typedArray)?n._getBinaryProperty(s,a):xi(s[a]):null}))}},{key:"_setHierarchyProperty",value:function(t,e,n,r){var i=this,o=Ei(this._hierarchy,e,(function(t,o){var a=t.classIds[o],s=t.classes[a],c=t.classIndexes[o],u=s.instances[n];return!!Pi(u)&&(Object(tr.a)(o===e,'Inherited property "'.concat(n,'" is read-only.')),Pi(u.typedArray)?i._setBinaryProperty(u,c,r):u[c]=xi(r),!0)}));return Pi(o)}}]),t}();function Ai(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(e);if(t.magic=r.getUint32(n,!0),n+=4,t.version=r.getUint32(n,!0),n+=4,t.byteLength=r.getUint32(n,!0),n+=4,1!==t.version)throw new Error("3D Tile Version ".concat(t.version," not supported"));return n}function Ii(t,e,n){var r,i=new DataView(e);t.header=t.header||{};var o=i.getUint32(n,!0);n+=4;var a=i.getUint32(n,!0);n+=4;var s=i.getUint32(n,!0);n+=4;var c=i.getUint32(n,!0);return n+=4,s>=570425344?(n-=8,r=o,s=a,c=0,o=0,a=0,console.warn("b3dm tile in legacy format.")):c>=570425344&&(n-=4,r=s,s=o,c=a,o=0,a=0,console.warn("b3dm tile in legacy format.")),t.header.featureTableJsonByteLength=o,t.header.featureTableBinaryByteLength=a,t.header.batchTableJsonByteLength=s,t.header.batchTableBinaryByteLength=c,t.header.batchLength=r,n}function Di(t,e,n,r){return n=function(t,e,n,r){var i=t.header,o=i.featureTableJsonByteLength,a=i.featureTableBinaryByteLength,s=i.batchLength;if(t.featureTableJson={BATCH_LENGTH:s||0},o>0){var c=er(e,n,o);t.featureTableJson=JSON.parse(c)}return n+=o,t.featureTableBinary=new Uint8Array(e,n,a),n+=a}(t,e,n),n=function(t,e,n,r){var i=t.header,o=i.batchTableJsonByteLength,a=i.batchTableBinaryByteLength;if(o>0){var s=er(e,n,o);t.batchTableJson=JSON.parse(s),n+=o,a>0&&(t.batchTableBinary=new Uint8Array(e,n,a),t.batchTableBinary=new Uint8Array(t.batchTableBinary),n+=a)}return n}(t,e,n)}function Mi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=t>>11&31,r=t>>5&63,i=31&t;return e[0]=n<<3,e[1]=r<<2,e[2]=i<<3,e}function Ci(t,e,n){if(!(e||t&&t.batchIds&&n))return null;var r=t.batchIds,i=t.isRGB565,o=t.pointCount;if(r&&n){for(var a=new Uint8ClampedArray(3*o),s=0;s<o;s++){var c=r[s],u=n.getProperty(c,"dimensions").map((function(t){return 255*t}));a[3*s]=u[0],a[3*s+1]=u[1],a[3*s+2]=u[2]}return{type:pi.UNSIGNED_BYTE,value:a,size:3,normalized:!0}}if(i){for(var l=new Uint8ClampedArray(3*o),f=0;f<o;f++){var h=Mi(e[f]);l[3*f]=h[0],l[3*f+1]=h[1],l[3*f+2]=h[2]}return{type:pi.UNSIGNED_BYTE,value:l,size:3,normalized:!0}}return e&&e.length===3*o?{type:pi.UNSIGNED_BYTE,value:e,size:3,normalized:!0}:{type:pi.UNSIGNED_BYTE,value:e,size:4,normalized:!0}}var Li=n("uJc0"),Ri=n("yeNo");n("V6u+");function Ni(t,e){if(!t)throw new Error("math.gl assertion failed. ".concat(e))}new Li.a,new di.a,new Li.a,new Li.a,new Uint8Array(1);function Bi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return Object(Ri.a)(t,0,e)/e*2-1}function Ui(t){return t<0?-1:1}function zi(t,e,n,r){if(Ni(r),t<0||t>n||e<0||e>n)throw new Error("x and y must be unsigned normalized integers between 0 and ".concat(n));if(r.x=Bi(t,n),r.y=Bi(e,n),r.z=1-(Math.abs(r.x)+Math.abs(r.y)),r.z<0){var i=r.x;r.x=(1-Math.abs(r.y))*Ui(i),r.y=(1-Math.abs(i))*Ui(r.y)}return r.normalize()}function Fi(t,e,n){return zi(t,e,255,n)}var Vi=new di.a;function Gi(t,e,n){return t.isQuantized?n["3d-tiles"]&&n["3d-tiles"].decodeQuantizedPositions?(t.isQuantized=!1,function(t,e){for(var n=new di.a,r=new Float32Array(3*t.pointCount),i=0;i<t.pointCount;i++)n.set(e[3*i],e[3*i+1],e[3*i+2]).scale(1/t.quantizedRange).multiply(t.quantizedVolumeScale).add(t.quantizedVolumeOffset).toArray(r,3*i);return r}(t,e)):{type:pi.UNSIGNED_SHORT,value:e,size:3,normalized:!0}:e}function Hi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hi(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zi(t,e,n,r,i){return Wi.apply(this,arguments)}function Wi(){return(Wi=Object(Hn.a)(Gn.a.mark((function t(e,n,r,i,o){var a,s,c;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ai(e,n,r),r=Ii(e,n,r),r=Di(e,n,r),Yi(e),a=Xi(e),s=a.featureTable,c=a.batchTable,t.next=7,$i(e,s,c,i,o);case 7:return Ji(e,s,i),Qi(e,s,c),Ki(e,s),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Yi(t){t.attributes={positions:null,colors:null,normals:null,batchIds:null},t.isQuantized=!1,t.isTranslucent=!1,t.isRGB565=!1,t.isOctEncoded16P=!1}function Xi(t){var e=new mi(t.featureTableJson,t.featureTableBinary),n=e.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(n))throw new Error("POINTS_LENGTH must be defined");e.featuresLength=n,t.featuresLength=n,t.pointsLength=n,t.pointCount=n,t.rtcCenter=e.getGlobalProperty("RTC_CENTER",pi.FLOAT,3);var r=function(t,e){var n=null;if(!t.batchIds&&e.hasProperty("BATCH_ID")&&(t.batchIds=e.getPropertyArray("BATCH_ID",pi.UNSIGNED_SHORT,1),t.batchIds)){var r=e.getGlobalProperty("BATCH_LENGTH");if(!r)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");var i=t.batchTableJson,o=t.batchTableBinary;n=new Si(i,o,r)}return n}(t,e);return{featureTable:e,batchTable:r}}function Ji(t,e,n){if(!t.attributes.positions)if(e.hasProperty("POSITION"))t.attributes.positions=e.getPropertyArray("POSITION",pi.FLOAT,3);else if(e.hasProperty("POSITION_QUANTIZED")){var r=e.getPropertyArray("POSITION_QUANTIZED",pi.UNSIGNED_SHORT,3);if(t.isQuantized=!0,t.quantizedRange=65535,t.quantizedVolumeScale=e.getGlobalProperty("QUANTIZED_VOLUME_SCALE",pi.FLOAT,3),!t.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(t.quantizedVolumeOffset=e.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",pi.FLOAT,3),!t.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");t.attributes.positions=Gi(t,r,n)}if(!t.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}function Qi(t,e,n){if(!t.attributes.colors){var r=null;e.hasProperty("RGBA")?(r=e.getPropertyArray("RGBA",pi.UNSIGNED_BYTE,4),t.isTranslucent=!0):e.hasProperty("RGB")?r=e.getPropertyArray("RGB",pi.UNSIGNED_BYTE,3):e.hasProperty("RGB565")&&(r=e.getPropertyArray("RGB565",pi.UNSIGNED_SHORT,1),t.isRGB565=!0),t.attributes.colors=Ci(t,r,n)}e.hasProperty("CONSTANT_RGBA")&&(t.constantRGBA=e.getGlobalProperty("CONSTANT_RGBA",pi.UNSIGNED_BYTE,4))}function Ki(t,e){if(!t.attributes.normals){var n=null;e.hasProperty("NORMAL")?n=e.getPropertyArray("NORMAL",pi.FLOAT,3):e.hasProperty("NORMAL_OCT16P")&&(n=e.getPropertyArray("NORMAL_OCT16P",pi.UNSIGNED_BYTE,2),t.isOctEncoded16P=!0),t.attributes.normals=function(t,e){if(!e)return null;if(t.isOctEncoded16P){for(var n=new Float32Array(3*t.pointsLength),r=0;r<t.pointsLength;r++)Fi(e[2*r],e[2*r+1],Vi),Vi.toArray(n,3*r);return{type:pi.FLOAT,size:2,value:n}}return{type:pi.FLOAT,size:2,value:e}}(t,n)}}function $i(t,e,n,r,i){return to.apply(this,arguments)}function to(){return(to=Object(Hn.a)(Gn.a.mark((function t(e,n,r,i,o){var a,s,c,u,l,f,h,p;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((u=e.batchTableJson&&e.batchTableJson.extensions&&e.batchTableJson.extensions["3DTILES_draco_point_compression"])&&(c=u.properties),!(l=n.getExtension("3DTILES_draco_point_compression"))){t.next=15;break}if(s=l.properties,f=l.byteOffset,h=l.byteLength,s&&Number.isFinite(f)&&h){t.next=9;break}throw new Error("Draco properties, byteOffset, and byteLength must be defined");case 9:a=e.featureTableBinary.slice(f,f+h),e.hasPositions=Number.isFinite(s.POSITION),e.hasColors=Number.isFinite(s.RGB)||Number.isFinite(s.RGBA),e.hasNormals=Number.isFinite(s.NORMAL),e.hasBatchIds=Number.isFinite(s.BATCH_ID),e.isTranslucent=Number.isFinite(s.RGBA);case 15:if(a){t.next=17;break}return t.abrupt("return",!0);case 17:return p={buffer:a,properties:qi(qi({},s),c),featureTableProperties:s,batchTableProperties:c,dequantizeInShader:!1},t.next=20,eo(e,p,i,o);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function eo(t,e,n,r){return no.apply(this,arguments)}function no(){return(no=Object(Hn.a)(Gn.a.mark((function t(e,n,r,i){var o,a,s,c,u,l,f,h,p,d,v,y,b,m,g;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.parse,delete(a=qi(qi({},r),{},{draco:qi(qi({},r.draco),{},{extraAttributes:n.batchTableProperties||{}})}))["3d-tiles"],t.next=5,o(n.buffer,si,a);case 5:if(s=t.sent,c=s.attributes.POSITION&&s.attributes.POSITION.value,u=s.attributes.COLOR_0&&s.attributes.COLOR_0.value,l=s.attributes.NORMAL&&s.attributes.NORMAL.value,f=s.attributes.BATCH_ID&&s.attributes.BATCH_ID.value,h=c&&s.attributes.POSITION.value.quantization,p=l&&s.attributes.NORMAL.value.quantization,h&&(d=s.POSITION.data.quantization,v=d.range,e.quantizedVolumeScale=new di.a(v,v,v),e.quantizedVolumeOffset=new di.a(d.minValues),e.quantizedRange=(1<<d.quantizationBits)-1,e.isQuantizedDraco=!0),p&&(e.octEncodedRange=(1<<s.NORMAL.data.quantization.quantizationBits)-1,e.isOctEncodedDraco=!0),y={},n.batchTableProperties)for(b=0,m=Object.keys(n.batchTableProperties);b<m.length;b++)g=m[b],s.attributes[g]&&s.attributes[g].value&&(y[g.toLowerCase()]=s.attributes[g].value);e.attributes=qi({positions:c,colors:Ci(e,u),normals:l,batchIds:f},y);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ro=n("kEPd"),io=n("sx9D"),oo=n("16Iq");function ao(t,e){if(!t)throw new Error(e||"assert failed: gltf")}function so(t,e){if(t.startsWith("data:")||t.startsWith("http:")||t.startsWith("https:"))return t;var n=e.baseUri||e.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(t));return n.substr(0,n.lastIndexOf("/")+1)+t}function co(t,e,n){var r=t.bufferViews[n];ao(r);var i=e[r.buffer];ao(i);var o=(r.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,o,r.byteLength)}var uo=n("Dm9C"),lo=n("h5Ug"),fo=["SCALAR","VEC2","VEC3","VEC4"],ho=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],po=new Map(ho),vo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},yo={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},bo={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function mo(t){return fo[t-1]||fo[0]}function go(t){var e=po.get(t.constructor);if(!e)throw new Error("Illegal typed array");return e}function Oo(t,e){var n=bo[t.componentType],r=vo[t.type],i=yo[t.componentType],o=t.count*r,a=t.count*r*i;return ao(a>=0&&a<=e.byteLength),{ArrayType:n,length:o,byteLength:a}}function wo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return jo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_o(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var To={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]},Po=function(){function t(e){Object(w.a)(this,t),Object(f.a)(this,"gltf",void 0),Object(f.a)(this,"sourceBuffers",void 0),Object(f.a)(this,"byteLength",void 0),this.gltf=e||{json:Eo({},To),buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}return Object(j.a)(t,[{key:"json",get:function(){return this.gltf.json}},{key:"getApplicationData",value:function(t){return this.json[t]}},{key:"getExtraData",value:function(t){return(this.json.extras||{})[t]}},{key:"getExtension",value:function(t){var e=this.getUsedExtensions().find((function(e){return e===t})),n=this.json.extensions||{};return e?n[t]||!0:null}},{key:"getRequiredExtension",value:function(t){return this.getRequiredExtensions().find((function(e){return e===t}))?this.getExtension(t):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getObjectExtension",value:function(t,e){return(t.extensions||{})[e]}},{key:"getScene",value:function(t){return this.getObject("scenes",t)}},{key:"getNode",value:function(t){return this.getObject("nodes",t)}},{key:"getSkin",value:function(t){return this.getObject("skins",t)}},{key:"getMesh",value:function(t){return this.getObject("meshes",t)}},{key:"getMaterial",value:function(t){return this.getObject("materials",t)}},{key:"getAccessor",value:function(t){return this.getObject("accessors",t)}},{key:"getTexture",value:function(t){return this.getObject("textures",t)}},{key:"getSampler",value:function(t){return this.getObject("samplers",t)}},{key:"getImage",value:function(t){return this.getObject("images",t)}},{key:"getBufferView",value:function(t){return this.getObject("bufferViews",t)}},{key:"getBuffer",value:function(t){return this.getObject("buffers",t)}},{key:"getObject",value:function(t,e){if("object"==typeof e)return e;var n=this.json[t]&&this.json[t][e];if(!n)throw new Error("glTF file error: Could not find ".concat(t,"[").concat(e,"]"));return n}},{key:"getTypedArrayForBufferView",value:function(t){var e=(t=this.getBufferView(t)).buffer,n=this.gltf.buffers[e];ao(n);var r=(t.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,t.byteLength)}},{key:"getTypedArrayForAccessor",value:function(t){t=this.getAccessor(t);var e=this.getBufferView(t.bufferView),n=this.getBuffer(e.buffer).data,r=Oo(t,e),i=r.ArrayType,o=r.length;return new i(n,e.byteOffset+t.byteOffset,o)}},{key:"getTypedArrayForImageData",value:function(t){t=this.getAccessor(t);var e=this.getBufferView(t.bufferView),n=this.getBuffer(e.buffer).data,r=e.byteOffset||0;return new Uint8Array(n,r,e.byteLength)}},{key:"addApplicationData",value:function(t,e){return this.json[t]=e,this}},{key:"addExtraData",value:function(t,e){return this.json.extras=this.json.extras||{},this.json.extras[t]=e,this}},{key:"addObjectExtension",value:function(t,e,n){return t.extensions=t.extensions||{},t.extensions[e]=n,this.registerUsedExtension(e),this}},{key:"setObjectExtension",value:function(t,e,n){(t.extensions||{})[e]=n}},{key:"removeObjectExtension",value:function(t,e){var n=t.extensions||{},r=n[e];return delete n[e],r}},{key:"addExtension",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ao(e),this.json.extensions=this.json.extensions||{},this.json.extensions[t]=e,this.registerUsedExtension(t),e}},{key:"addRequiredExtension",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ao(e),this.addExtension(t,e),this.registerRequiredExtension(t),e}},{key:"registerUsedExtension",value:function(t){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(e){return e===t}))||this.json.extensionsUsed.push(t)}},{key:"registerRequiredExtension",value:function(t){this.registerUsedExtension(t),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(e){return e===t}))||this.json.extensionsRequired.push(t)}},{key:"removeExtension",value:function(t){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,t),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,t),this.json.extensions&&delete this.json.extensions[t]}},{key:"setDefaultScene",value:function(t){this.json.scene=t}},{key:"addScene",value:function(t){var e=t.nodeIndices;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:e}),this.json.scenes.length-1}},{key:"addNode",value:function(t){var e=t.meshIndex,n=t.matrix;this.json.nodes=this.json.nodes||[];var r={mesh:e};return n&&(r.matrix=n),this.json.nodes.push(r),this.json.nodes.length-1}},{key:"addMesh",value:function(t){var e=t.attributes,n=t.indices,r=t.material,i=t.mode,o=void 0===i?4:i,a={primitives:[{attributes:this._addAttributes(e),mode:o}]};if(n){var s=this._addIndices(n);a.primitives[0].indices=s}return Number.isFinite(r)&&(a.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}},{key:"addPointCloud",value:function(t){var e={primitives:[{attributes:this._addAttributes(t),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(e),this.json.meshes.length-1}},{key:"addImage",value:function(t,e){var n=Object(uo.a)(t),r=e||(null==n?void 0:n.mimeType),i={bufferView:this.addBufferView(t),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(i),this.json.images.length-1}},{key:"addBufferView",value:function(t){var e=t.byteLength;ao(Number.isFinite(e)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(t);var n={buffer:0,byteOffset:this.byteLength,byteLength:e};return this.byteLength+=Object(lo.b)(e,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(t,e){var n={bufferView:t,type:mo(e.size),componentType:e.componentType,count:e.count,max:e.max,min:e.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}},{key:"addBinaryBuffer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},n=this.addBufferView(t),r={min:e.min,max:e.max};r.min&&r.max||(r=this._getAccessorMinMax(t,e.size));var i={size:e.size,componentType:go(t),count:Math.round(t.length/e.size),min:r.min,max:r.max};return this.addAccessor(n,Object.assign(i,e))}},{key:"addTexture",value:function(t){var e={source:t.imageIndex};return this.json.textures=this.json.textures||[],this.json.textures.push(e),this.json.textures.length-1}},{key:"addMaterial",value:function(t){return this.json.materials=this.json.materials||[],this.json.materials.push(t),this.json.materials.length-1}},{key:"createBinaryChunk",value:function(){var t,e;this.gltf.buffers=[];var n,r=this.byteLength,i=new ArrayBuffer(r),o=new Uint8Array(i),a=0,s=wo(this.sourceBuffers||[]);try{for(s.s();!(n=s.n()).done;){var c=n.value;a=Object(lo.a)(c,o,a)}}catch(u){s.e(u)}finally{s.f()}null!==(t=this.json)&&void 0!==t&&null!==(e=t.buffers)&&void 0!==e&&e[0]?this.json.buffers[0].byteLength=r:this.json.buffers=[{byteLength:r}],this.gltf.binary=i,this.sourceBuffers=[i]}},{key:"_removeStringFromArray",value:function(t,e){for(var n=!0;n;){var r=t.indexOf(e);r>-1?t.splice(r,1):n=!1}}},{key:"_addAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};for(var n in t){var r=t[n],i=this._getGltfAttributeName(n),o=this.addBinaryBuffer(r.value,r);e[i]=o}return e}},{key:"_addIndices",value:function(t){return this.addBinaryBuffer(t,{size:1})}},{key:"_getGltfAttributeName",value:function(t){switch(t.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return t}}},{key:"_getAccessorMinMax",value:function(t,e){var n={min:null,max:null};if(t.length<e)return n;n.min=[],n.max=[];var r,i=wo(t.subarray(0,e));try{for(i.s();!(r=i.n()).done;){var o=r.value;n.min.push(o),n.max.push(o)}}catch(c){i.e(c)}finally{i.f()}for(var a=e;a<t.length;a+=e)for(var s=0;s<e;s++)n.min[0+s]=Math.min(n.min[0+s],t[a+s]),n.max[0+s]=Math.max(n.max[0+s],t[a+s]);return n}}]),t}();function xo(t){var e={};for(var n in t){var r=t[n];if("indices"!==n){var i=ko(r);e[n]=i}}return e}function ko(t){var e=function(t){var e=t,n=1,r=0;t&&t.value&&(e=t.value,n=t.size||1);e&&(ArrayBuffer.isView(e)||(e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return null;if(Array.isArray(t))return new e(t);if(n&&!(t instanceof e))return new e(t);return t}(e,Float32Array)),r=e.length/n);return{buffer:e,size:n,count:r}}(t),n=e.buffer,r=e.size;return{value:n,size:r,byteOffset:0,count:e.count,type:mo(r),componentType:go(n)}}function So(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?So(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Io=Gn.a.mark(Fo);function Do(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Mo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Mo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Co(t,e,n){return Lo.apply(this,arguments)}function Lo(){return(Lo=Object(Hn.a)(Gn.a.mark((function t(e,n,r){var i,o,a,s,c,u;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=n&&null!==(i=n.gltf)&&void 0!==i&&i.decompressMeshes){t.next=2;break}return t.abrupt("return");case 2:o=new Po(e),a=[],s=Do(Fo(o));try{for(s.s();!(c=s.n()).done;)u=c.value,o.getObjectExtension(u,"KHR_draco_mesh_compression")&&a.push(No(o,u,n,r))}catch(l){s.e(l)}finally{s.f()}return t.next=8,Promise.all(a);case 8:o.removeExtension("KHR_draco_mesh_compression");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ro(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Po(t),i=Do(r.json.meshes||[]);try{for(i.s();!(e=i.n()).done;){var o=e.value;Uo(o,n),r.addRequiredExtension("KHR_draco_mesh_compression")}}catch(a){i.e(a)}finally{i.f()}}function No(t,e,n,r){return Bo.apply(this,arguments)}function Bo(){return(Bo=Object(Hn.a)(Gn.a.mark((function t(e,n,r,i){var o,a,s,c,u,l,f,h,p,d,y,b,m,g;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.getObjectExtension(n,"KHR_draco_mesh_compression")){t.next=3;break}return t.abrupt("return");case 3:return a=e.getTypedArrayForBufferView(o.bufferView),s=Object(oo.c)(a.buffer,a.byteOffset),c=i.parse,delete(u=Ao({},r))["3d-tiles"],t.next=10,c(s,si,u,i);case 10:for(l=t.sent,f=xo(l.attributes),h=0,p=Object.entries(f);h<p.length;h++)d=Object(v.a)(p[h],2),y=d[0],b=d[1],y in n.attributes&&(m=n.attributes[y],null!=(g=e.getAccessor(m))&&g.min&&null!=g&&g.max&&(b.min=g.min,b.max=g.max));n.attributes=f,l.indices&&(n.indices=ko(l.indices)),zo(n);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Uo(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");var a=i.DracoWriter.encodeSync({attributes:t}),s=null==o||null===(n=o.parseSync)||void 0===n?void 0:n.call(o,{attributes:t}),c=i._addFauxAttributes(s.attributes),u=i.addBufferView(a),l={primitives:[{attributes:c,mode:r,extensions:Object(f.a)({},"KHR_draco_mesh_compression",{bufferView:u,attributes:c})}]};return l}function zo(t){if(!t.attributes&&Object.keys(t.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function Fo(t){var e,n,r,i,o,a;return Gn.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e=Do(t.json.meshes||[]),s.prev=1,e.s();case 3:if((n=e.n()).done){s.next=24;break}r=n.value,i=Do(r.primitives),s.prev=6,i.s();case 8:if((o=i.n()).done){s.next=14;break}return a=o.value,s.next=12,a;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),e.e(s.t1);case 29:return s.prev=29,e.f(),s.finish(29);case 32:case"end":return s.stop()}}),Io,null,[[1,26,29,32],[6,16,19,22]])}function Vo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Go(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Go(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Go(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ho(t){return qo.apply(this,arguments)}function qo(){return(qo=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i,o,a;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Po(e),r=n.json,n.removeExtension("KHR_materials_unlit"),i=Vo(r.materials||[]);try{for(i.s();!(o=i.n()).done;)a=o.value,a.extensions&&a.extensions.KHR_materials_unlit&&(a.unlit=!0),n.removeObjectExtension(a,"KHR_materials_unlit")}catch(s){i.e(s)}finally{i.f()}case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zo(t){var e=new Po(t),n=e.json;if(e.materials){var r,i=Vo(n.materials||[]);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.unlit&&(delete o.unlit,e.addObjectExtension(o,"KHR_materials_unlit",{}),e.addExtension("KHR_materials_unlit"))}}catch(a){i.e(a)}finally{i.f()}}}function Wo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Yo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Yo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xo(t){return Jo.apply(this,arguments)}function Jo(){return(Jo=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i,o,a,s,c;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Po(e),r=n.json,(i=n.getExtension("KHR_lights_punctual"))&&(n.json.lights=i.lights,n.removeExtension("KHR_lights_punctual")),o=Wo(r.nodes||[]);try{for(o.s();!(a=o.n()).done;)s=a.value,(c=n.getObjectExtension(s,"KHR_lights_punctual"))&&(s.light=c.light),n.removeObjectExtension(s,"KHR_lights_punctual")}catch(u){o.e(u)}finally{o.f()}case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Qo(t){return Ko.apply(this,arguments)}function Ko(){return(Ko=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i,o,a,s,c;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new Po(e),(r=n.json).lights&&(ao(!(i=n.addExtension("KHR_lights_punctual")).lights),i.lights=r.lights,delete r.lights),n.json.lights){o=Wo(n.json.lights);try{for(o.s();!(a=o.n()).done;)s=a.value,c=s.node,n.addObjectExtension(c,"KHR_lights_punctual",s)}catch(u){o.e(u)}finally{o.f()}delete n.json.lights}case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ta(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ta(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ea(t){return na.apply(this,arguments)}function na(){return(na=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i,o,a,s,c,u;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new Po(e),r=n.json,i=n.getExtension("KHR_techniques_webgl")){o=oa(i,n),a=$o(r.materials||[]);try{for(a.s();!(s=a.n()).done;)c=s.value,(u=n.getObjectExtension(c,"KHR_techniques_webgl"))&&(c.technique=Object.assign({},u,o[u.technique]),c.technique.values=aa(c.technique,n)),n.removeObjectExtension(c,"KHR_techniques_webgl")}catch(l){a.e(l)}finally{a.f()}n.removeExtension("KHR_techniques_webgl")}case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ra(t,e){return ia.apply(this,arguments)}function ia(){return(ia=Object(Hn.a)(Gn.a.mark((function t(e,n){return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function oa(t,e){var n=t.programs,r=void 0===n?[]:n,i=t.shaders,o=void 0===i?[]:i,a=t.techniques,s=void 0===a?[]:a,c=new TextDecoder;return o.forEach((function(t){if(!Number.isFinite(t.bufferView))throw new Error("KHR_techniques_webgl: no shader code");t.code=c.decode(e.getTypedArrayForBufferView(t.bufferView))})),r.forEach((function(t){t.fragmentShader=o[t.fragmentShader],t.vertexShader=o[t.vertexShader]})),s.forEach((function(t){t.program=r[t.program]})),s}function aa(t,e){var n=Object.assign({},t.values);return Object.keys(t.uniforms||{}).forEach((function(e){t.uniforms[e].value&&!(e in n)&&(n[e]=t.uniforms[e].value)})),Object.keys(n).forEach((function(t){"object"==typeof n[t]&&void 0!==n[t].index&&(n[t].texture=e.getTexture(n[t].index))})),n}var sa={KHR_draco_mesh_compression:r,KHR_materials_unlit:i,KHR_lights_punctual:o,KHR_techniques_webgl:a};function ca(t){return ua.apply(this,arguments)}function ua(){return(ua=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i,o,a,s,c=arguments;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2?c[2]:void 0,t.t0=Gn.a.keys(sa);case 3:if((t.t1=t.t0()).done){t.next=13;break}if(i=t.t1.value,a=(null==n||null===(o=n.gltf)||void 0===o?void 0:o.excludeExtensions)||{},i in a&&!a[i]){t.next=11;break}return s=sa[i],t.next=11,s.decode(e,n,r);case 11:t.next=3;break;case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function la(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return fa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fa(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function fa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ha(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return pa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pa(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var da={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},va={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},ya=function(){function t(e){Object(w.a)(this,t),this.idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}}return Object(j.a)(t,[{key:"normalize",value:function(t,e){this.json=t.json;var n=t.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!e.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(t){var e,n=new Po(t),r=n.json,i=la(r.images||[]);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=n.removeObjectExtension(o,"KHR_binary_glTF");a&&Object.assign(o,a)}}catch(s){i.e(s)}finally{i.f()}r.buffers&&r.buffers[0]&&delete r.buffers[0].uri,n.removeExtension("KHR_binary_glTF")}(t),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n),this._updateMaterial(n)}},{key:"_addAsset",value:function(t){t.asset=t.asset||{},t.asset.version="2.0",t.asset.generator=t.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}},{key:"_convertTopLevelObjectsToArrays",value:function(t){for(var e in da)this._convertTopLevelObjectToArray(t,e)}},{key:"_convertTopLevelObjectToArray",value:function(t,e){var n=t[e];if(n&&!Array.isArray(n))for(var r in t[e]=[],n){var i=n[r];i.id=i.id||r;var o=t[e].length;t[e].push(i),this.idToIndexMap[e][r]=o}}},{key:"_convertObjectIdsToArrayIndices",value:function(t){for(var e in da)this._convertIdsToIndices(t,e);"scene"in t&&(t.scene=this._convertIdToIndex(t.scene,"scene"));var n,r=ha(t.textures);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._convertTextureIds(i)}}catch(d){r.e(d)}finally{r.f()}var o,a=ha(t.meshes);try{for(a.s();!(o=a.n()).done;){var s=o.value;this._convertMeshIds(s)}}catch(d){a.e(d)}finally{a.f()}var c,u=ha(t.nodes);try{for(u.s();!(c=u.n()).done;){var l=c.value;this._convertNodeIds(l)}}catch(d){u.e(d)}finally{u.f()}var f,h=ha(t.scenes);try{for(h.s();!(f=h.n()).done;){var p=f.value;this._convertSceneIds(p)}}catch(d){h.e(d)}finally{h.f()}}},{key:"_convertTextureIds",value:function(t){t.source&&(t.source=this._convertIdToIndex(t.source,"image"))}},{key:"_convertMeshIds",value:function(t){var e,n=ha(t.primitives);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.attributes,o=r.indices,a=r.material;for(var s in i)i[s]=this._convertIdToIndex(i[s],"accessor");o&&(r.indices=this._convertIdToIndex(o,"accessor")),a&&(r.material=this._convertIdToIndex(a,"material"))}}catch(c){n.e(c)}finally{n.f()}}},{key:"_convertNodeIds",value:function(t){var e=this;t.children&&(t.children=t.children.map((function(t){return e._convertIdToIndex(t,"node")}))),t.meshes&&(t.meshes=t.meshes.map((function(t){return e._convertIdToIndex(t,"mesh")})))}},{key:"_convertSceneIds",value:function(t){var e=this;t.nodes&&(t.nodes=t.nodes.map((function(t){return e._convertIdToIndex(t,"node")})))}},{key:"_convertIdsToIndices",value:function(t,e){t[e]||(console.warn("gltf v1: json doesn't contain attribute ".concat(e)),t[e]=[]);var n,r=ha(t[e]);try{for(r.s();!(n=r.n()).done;){var i=n.value;for(var o in i){var a=i[o],s=this._convertIdToIndex(a,o);i[o]=s}}}catch(c){r.e(c)}finally{r.f()}}},{key:"_convertIdToIndex",value:function(t,e){var n=va[e];if(n in this.idToIndexMap){var r=this.idToIndexMap[n][t];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(e," with id ").concat(t));return r}return t}},{key:"_updateObjects",value:function(t){var e,n=ha(this.json.buffers);try{for(n.s();!(e=n.n()).done;){delete e.value.type}}catch(r){n.e(r)}finally{n.f()}}},{key:"_updateMaterial",value:function(t){var e,n=ha(t.materials);try{var r=function(){var n=e.value;n.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};var r=n.values&&n.values.tex,i=t.textures.findIndex((function(t){return t.id===r}));-1!==i&&(n.pbrMetallicRoughness.baseColorTexture={index:i})};for(n.s();!(e=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}}}]),t}();function ba(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new ya).normalize(t,e)}var ma;n("E9XD");function ga(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ga(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wa={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ja={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},_a={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},Ea={magFilter:_a.TEXTURE_MAG_FILTER,minFilter:_a.TEXTURE_MIN_FILTER,wrapS:_a.TEXTURE_WRAP_S,wrapT:_a.TEXTURE_WRAP_T},Ta=(ma={},Object(f.a)(ma,_a.TEXTURE_MAG_FILTER,_a.LINEAR),Object(f.a)(ma,_a.TEXTURE_MIN_FILTER,_a.NEAREST_MIPMAP_LINEAR),Object(f.a)(ma,_a.TEXTURE_WRAP_S,_a.REPEAT),Object(f.a)(ma,_a.TEXTURE_WRAP_,_a.REPEAT),ma);var Pa=function(){function t(){Object(w.a)(this,t)}return Object(j.a)(t,[{key:"postProcess",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.json,r=t.buffers,i=void 0===r?[]:r,o=t.images,a=void 0===o?[]:o,s=t.baseUri,c=void 0===s?"":s;return ao(n),this.baseUri=c,this.json=n,this.buffers=i,this.images=a,this._resolveTree(this.json,e),this.json}},{key:"_resolveTree",value:function(t){var e=this;t.bufferViews&&(t.bufferViews=t.bufferViews.map((function(t,n){return e._resolveBufferView(t,n)}))),t.images&&(t.images=t.images.map((function(t,n){return e._resolveImage(t,n)}))),t.samplers&&(t.samplers=t.samplers.map((function(t,n){return e._resolveSampler(t,n)}))),t.textures&&(t.textures=t.textures.map((function(t,n){return e._resolveTexture(t,n)}))),t.accessors&&(t.accessors=t.accessors.map((function(t,n){return e._resolveAccessor(t,n)}))),t.materials&&(t.materials=t.materials.map((function(t,n){return e._resolveMaterial(t,n)}))),t.meshes&&(t.meshes=t.meshes.map((function(t,n){return e._resolveMesh(t,n)}))),t.nodes&&(t.nodes=t.nodes.map((function(t,n){return e._resolveNode(t,n)}))),t.skins&&(t.skins=t.skins.map((function(t,n){return e._resolveSkin(t,n)}))),t.scenes&&(t.scenes=t.scenes.map((function(t,n){return e._resolveScene(t,n)}))),void 0!==t.scene&&(t.scene=t.scenes[this.json.scene])}},{key:"getScene",value:function(t){return this._get("scenes",t)}},{key:"getNode",value:function(t){return this._get("nodes",t)}},{key:"getSkin",value:function(t){return this._get("skins",t)}},{key:"getMesh",value:function(t){return this._get("meshes",t)}},{key:"getMaterial",value:function(t){return this._get("materials",t)}},{key:"getAccessor",value:function(t){return this._get("accessors",t)}},{key:"getCamera",value:function(t){return null}},{key:"getTexture",value:function(t){return this._get("textures",t)}},{key:"getSampler",value:function(t){return this._get("samplers",t)}},{key:"getImage",value:function(t){return this._get("images",t)}},{key:"getBufferView",value:function(t){return this._get("bufferViews",t)}},{key:"getBuffer",value:function(t){return this._get("buffers",t)}},{key:"_get",value:function(t,e){if("object"==typeof e)return e;var n=this.json[t]&&this.json[t][e];return n||console.warn("glTF file error: Could not find ".concat(t,"[").concat(e,"]")),n}},{key:"_resolveScene",value:function(t,e){var n=this;return t.id=t.id||"scene-".concat(e),t.nodes=(t.nodes||[]).map((function(t){return n.getNode(t)})),t}},{key:"_resolveNode",value:function(t,e){var n=this;return t.id=t.id||"node-".concat(e),t.children&&(t.children=t.children.map((function(t){return n.getNode(t)}))),void 0!==t.mesh?t.mesh=this.getMesh(t.mesh):void 0!==t.meshes&&t.meshes.length&&(t.mesh=t.meshes.reduce((function(t,e){var r=n.getMesh(e);return t.id=r.id,t.primitives=t.primitives.concat(r.primitives),t}),{primitives:[]})),void 0!==t.camera&&(t.camera=this.getCamera(t.camera)),void 0!==t.skin&&(t.skin=this.getSkin(t.skin)),t}},{key:"_resolveSkin",value:function(t,e){return t.id=t.id||"skin-".concat(e),t.inverseBindMatrices=this.getAccessor(t.inverseBindMatrices),t}},{key:"_resolveMesh",value:function(t,e){var n=this;return t.id=t.id||"mesh-".concat(e),t.primitives&&(t.primitives=t.primitives.map((function(t){var e=(t=Oa({},t)).attributes;for(var r in t.attributes={},e)t.attributes[r]=n.getAccessor(e[r]);return void 0!==t.indices&&(t.indices=n.getAccessor(t.indices)),void 0!==t.material&&(t.material=n.getMaterial(t.material)),t}))),t}},{key:"_resolveMaterial",value:function(t,e){if(t.id=t.id||"material-".concat(e),t.normalTexture&&(t.normalTexture=Oa({},t.normalTexture),t.normalTexture.texture=this.getTexture(t.normalTexture.index)),t.occlusionTexture&&(t.occlustionTexture=Oa({},t.occlustionTexture),t.occlusionTexture.texture=this.getTexture(t.occlusionTexture.index)),t.emissiveTexture&&(t.emmisiveTexture=Oa({},t.emmisiveTexture),t.emissiveTexture.texture=this.getTexture(t.emissiveTexture.index)),t.emissiveFactor||(t.emissiveFactor=t.emmisiveTexture?[1,1,1]:[0,0,0]),t.pbrMetallicRoughness){t.pbrMetallicRoughness=Oa({},t.pbrMetallicRoughness);var n=t.pbrMetallicRoughness;n.baseColorTexture&&(n.baseColorTexture=Oa({},n.baseColorTexture),n.baseColorTexture.texture=this.getTexture(n.baseColorTexture.index)),n.metallicRoughnessTexture&&(n.metallicRoughnessTexture=Oa({},n.metallicRoughnessTexture),n.metallicRoughnessTexture.texture=this.getTexture(n.metallicRoughnessTexture.index))}return t}},{key:"_resolveAccessor",value:function(t,e){var n,r;if(t.id=t.id||"accessor-".concat(e),void 0!==t.bufferView&&(t.bufferView=this.getBufferView(t.bufferView)),t.bytesPerComponent=(n=t.componentType,ja[n]),t.components=(r=t.type,wa[r]),t.bytesPerElement=t.bytesPerComponent*t.components,t.bufferView){var i=t.bufferView.buffer,o=Oo(t,t.bufferView),a=o.ArrayType,s=o.byteLength,c=(t.bufferView.byteOffset||0)+(t.byteOffset||0)+i.byteOffset,u=i.arrayBuffer.slice(c,c+s);t.value=new a(u)}return t}},{key:"_resolveTexture",value:function(t,e){return t.id=t.id||"texture-".concat(e),t.sampler="sampler"in t?this.getSampler(t.sampler):Ta,t.source=this.getImage(t.source),t}},{key:"_resolveSampler",value:function(t,e){for(var n in t.id=t.id||"sampler-".concat(e),t.parameters={},t){var r=this._enumSamplerParameter(n);void 0!==r&&(t.parameters[r]=t[n])}return t}},{key:"_enumSamplerParameter",value:function(t){return Ea[t]}},{key:"_resolveImage",value:function(t,e){t.id=t.id||"image-".concat(e),void 0!==t.bufferView&&(t.bufferView=this.getBufferView(t.bufferView));var n=this.images[e];return n&&(t.image=n),t}},{key:"_resolveBufferView",value:function(t,e){t.id=t.id||"bufferView-".concat(e);var n=t.buffer;t.buffer=this.buffers[n];var r=this.buffers[n].arrayBuffer,i=this.buffers[n].byteOffset||0;return"byteOffset"in t&&(i+=t.byteOffset),t.data=new Uint8Array(r,i,t.byteLength),t}},{key:"_resolveCamera",value:function(t,e){return t.id=t.id||"camera-".concat(e),t.perspective,t.orthographic,t}}]),t}();function xa(t,e){return(new Pa).postProcess(t,e)}function ka(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(t.getUint8(e+0))).concat(String.fromCharCode(t.getUint8(e+1))).concat(String.fromCharCode(t.getUint8(e+2))).concat(String.fromCharCode(t.getUint8(e+3)))}function Sa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new DataView(t),i=n.magic,o=void 0===i?1735152710:i,a=r.getUint32(e,!1);return a===o||1735152710===a}function Aa(t,e,n){Object(tr.a)(t.header.byteLength>20);var r=e.getUint32(n+0,!0),i=e.getUint32(n+4,!0);return n+=8,Object(tr.a)(0===i),Da(t,e,n,r),n+=r,n+=Ma(t,e,n,t.header.byteLength)}function Ia(t,e,n,r){return Object(tr.a)(t.header.byteLength>20),function(t,e,n,r){for(;n+8<=t.header.byteLength;){var i=e.getUint32(n+0,!0),o=e.getUint32(n+4,!0);switch(n+=8,o){case 1313821514:Da(t,e,n,i);break;case 5130562:Ma(t,e,n,i);break;case 0:r.strict||Da(t,e,n,i);break;case 1:r.strict||Ma(t,e,n,i)}n+=Object(lo.b)(i,4)}}(t,e,n,r),n+t.header.byteLength}function Da(t,e,n,r){var i=new Uint8Array(e.buffer,n,r),o=new TextDecoder("utf8").decode(i);return t.json=JSON.parse(o),Object(lo.b)(r,4)}function Ma(t,e,n,r){return t.header.hasBinChunk=!0,t.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:e.buffer}),Object(lo.b)(r,4)}function Ca(t,e){return La.apply(this,arguments)}function La(){return(La=Object(Hn.a)(Gn.a.mark((function t(e,n){var r,i,o,a,s,c,u,l,f,h,p=arguments;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=p.length>2&&void 0!==p[2]?p[2]:0,i=p.length>3?p[3]:void 0,o=p.length>4?p[4]:void 0,Ra(e,n,r,i),ba(e,{normalize:null==i||null===(a=i.gltf)||void 0===a?void 0:a.normalize}),l=[],null==i||null===(s=i.gltf)||void 0===s||!s.loadBuffers||!e.json.buffers){t.next=9;break}return t.next=9,Na(e,i,o);case 9:return null!=i&&null!==(c=i.gltf)&&void 0!==c&&c.loadImages&&(f=Ua(e,i,o),l.push(f)),h=ca(e,i,o),l.push(h),t.next=14,Promise.all(l);case 14:return t.abrupt("return",null!=i&&null!==(u=i.gltf)&&void 0!==u&&u.postProcess?xa(e,i):e);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ra(t,e,n,r){(r.uri&&(t.baseUri=r.uri),e instanceof ArrayBuffer&&!Sa(e,n,r))&&(e=(new TextDecoder).decode(e));if("string"==typeof e)t.json=Object(io.a)(e);else if(e instanceof ArrayBuffer){var i={};n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(e),i=ka(r,n+0),o=r.getUint32(n+4,!0),a=r.getUint32(n+8,!0);switch(Object.assign(t,{header:{byteOffset:n,byteLength:a,hasBinChunk:!1},type:i,version:o,json:{},binChunks:[]}),n+=12,t.version){case 1:return Aa(t,r,n);case 2:return Ia(t,r,n,{});default:throw new Error("Invalid GLB version ".concat(t.version,". Only supports v1 and v2."))}}(i,e,n,r.glb),ao("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),t._glb=i,t.json=i.json}else ao(!1,"GLTF: must be ArrayBuffer or string");var o=t.json.buffers||[];if(t.buffers=new Array(o.length).fill(null),t._glb&&t._glb.header.hasBinChunk){var a=t._glb.binChunks;t.buffers[0]={arrayBuffer:a[0].arrayBuffer,byteOffset:a[0].byteOffset,byteLength:a[0].byteLength}}var s=t.json.images||[];t.images=new Array(s.length).fill({})}function Na(t,e,n){return Ba.apply(this,arguments)}function Ba(){return(Ba=Object(Hn.a)(Gn.a.mark((function t(e,n,r){var i,o,a,s,c,u,l;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<e.json.buffers.length)){t.next=18;break}if(!(o=e.json.buffers[i]).uri){t.next=15;break}return ao(r.fetch),c=so(o.uri,n),t.next=9,null==r||null===(a=r.fetch)||void 0===a?void 0:a.call(r,c);case 9:return u=t.sent,t.next=12,null==u||null===(s=u.arrayBuffer)||void 0===s?void 0:s.call(u);case 12:l=t.sent,e.buffers[i]={arrayBuffer:l,byteOffset:0,byteLength:l.byteLength},delete o.uri;case 15:++i,t.next=1;break;case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ua(t,e,n){return za.apply(this,arguments)}function za(){return(za=Object(Hn.a)(Gn.a.mark((function t(e,n,r){var i,o,a;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=e.json.images||[],o=[],a=0;a<i.length;++a)o.push(Fa(e,i[a],a,n,r));return t.next=5,Promise.all(o);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fa(t,e,n,r,i){return Va.apply(this,arguments)}function Va(){return(Va=Object(Hn.a)(Gn.a.mark((function t(e,n,r,i,o){var a,s,c,u,l,f,h;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=o.fetch,s=o.parse,!n.uri){t.next=9;break}return u=so(n.uri,i),t.next=5,a(u);case 5:return l=t.sent,t.next=8,l.arrayBuffer();case 8:c=t.sent;case 9:return Number.isFinite(n.bufferView)&&(f=co(e.json,e.buffers,n.bufferView),c=Object(oo.c)(f.buffer,f.byteOffset,f.byteLength)),ao(c,"glTF image has no data"),t.next=13,s(c,ro.a,{},o);case 13:h=t.sent,e.images[r]=h;case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ga(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ha(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ga(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var qa={name:"glTF",id:"gltf",module:"gltf",version:"3.0.12",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function(t){return Za.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function Za(){return(Za=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i,o,a,s=arguments;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,(n=Ha(Ha({},qa.options),n)).gltf=Ha(Ha({},qa.options.gltf),n.gltf),i=n.byteOffset,o=void 0===i?0:i,a={},t.next=8,Ca(a,e,o,n,r);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Wa=0,Ya=1;function Xa(t,e,n,r){t.rotateYtoZ=!0;var i=t.byteOffset+t.byteLength-n;if(0===i)throw new Error("glTF byte length must be greater than 0.");return t.gltfUpAxis=r["3d-tiles"]&&r["3d-tiles"].assetGltfUpAxis?r["3d-tiles"].assetGltfUpAxis:"Y",t.gltfArrayBuffer=Object(oo.c)(e,n,i),t.gltfByteOffset=0,t.gltfByteLength=i,n%4==0||console.warn("".concat(t.type,": embedded glb is not aligned to a 4-byte boundary.")),t.byteOffset+t.byteLength}function Ja(t,e,n,r){return Qa.apply(this,arguments)}function Qa(){return(Qa=Object(Hn.a)(Gn.a.mark((function t(e,n,r,i){var o,a,s;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r["3d-tiles"]||{},Ka(e,n,r),!o.loadGLTF){t.next=16;break}if(a=i.parse,s=i.fetch,!e.gltfUrl){t.next=9;break}return t.next=7,s(e.gltfUrl,r);case 7:e.gltfArrayBuffer=t.sent,e.gltfByteOffset=0;case 9:if(!e.gltfArrayBuffer){t.next=16;break}return t.next=12,a(e.gltfArrayBuffer,qa,r,i);case 12:e.gltf=t.sent,delete e.gltfArrayBuffer,delete e.gltfByteOffset,delete e.gltfByteLength;case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ka(t,e,n){switch(e){case Wa:var r=new Uint8Array(t.gltfArrayBuffer,t.gltfByteOffset),i=(new TextDecoder).decode(r);t.gltfUrl=i.replace(/[\s\0]+$/,""),delete t.gltfArrayBuffer,delete t.gltfByteOffset,delete t.gltfByteLength;break;case Ya:break;default:throw new Error("b3dm: Illegal glTF format field")}}function $a(t,e,n,r,i){return ts.apply(this,arguments)}function ts(){return(ts=Object(Hn.a)(Gn.a.mark((function t(e,n,r,i,o){var a,s;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=es(e,n,r,i,o),t.next=3,Ja(e,Ya,i,o);case 3:return(s=null==e||null===(a=e.gltf)||void 0===a?void 0:a.extensions)&&s.CESIUM_RTC&&(e.rtcCenter=s.CESIUM_RTC.center),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function es(t,e,n,r,i){n=Xa(t,e,n=Di(t,e,n=Ii(t,e,n=Ai(t,e,n))),r);var o=new mi(t.featureTableJson,t.featureTableBinary);return t.rtcCenter=o.getGlobalProperty("RTC_CENTER",pi.FLOAT,3),n}var ns=n("T27a"),rs=n("PcVa"),is=n("kh/P"),os=n("FlnL");function as(t,e,n,r,i){return ss.apply(this,arguments)}function ss(){return(ss=Object(Hn.a)(Gn.a.mark((function t(e,n,r,i,o){return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=cs(e,n,r,i,o),t.next=3,Ja(e,e.gltfFormat,i,o);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function cs(t,e,n,r,i){if(n=Ai(t,e,n),1!==t.version)throw new Error("Instanced 3D Model version ".concat(t.version," is not supported"));n=Ii(t,e,n);var o=new DataView(e);if(t.gltfFormat=o.getUint32(n,!0),n=Xa(t,e,n=Di(t,e,n+=4),r),0===t.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");var a=new mi(t.featureTableJson,t.featureTableBinary),s=a.getGlobalProperty("INSTANCES_LENGTH");if(a.featuresLength=s,!Number.isFinite(s))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");t.eastNorthUp=a.getGlobalProperty("EAST_NORTH_UP"),t.rtcCenter=a.getGlobalProperty("RTC_CENTER",pi.FLOAT,3);new Si(t.batchTableJson,t.batchTableBinary,s);return function(t,e,n,r){for(var i=[new Array(r),t._batchTable][0],o=new di.a,a=(new di.a,new di.a,new di.a,new ns.a),s=new rs.a,c=new di.a,u={},l=new is.a,f=[],h=[],p=new di.a,d=new di.a,v=0;v<r;v++){var y=void 0;if(e.hasProperty("POSITION"))y=e.getProperty("POSITION",pi.FLOAT,3,v,o);else if(e.hasProperty("POSITION_QUANTIZED")){y=e.getProperty("POSITION_QUANTIZED",pi.UNSIGNED_SHORT,3,v,o);var b=e.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",pi.FLOAT,3,p);if(!b)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");var m=e.getGlobalProperty("QUANTIZED_VOLUME_SCALE",pi.FLOAT,3,d);if(!m)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(var g=0;g<3;g++)y[g]=y[g]/65535*m[g]+b[g]}if(!y)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");o.copy(y),u.translation=o,t.normalUp=e.getProperty("NORMAL_UP",pi.FLOAT,3,v,f),t.normalRight=e.getProperty("NORMAL_RIGHT",pi.FLOAT,3,v,h);if(t.normalUp){if(!t.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");t.hasCustomOrientation=!0}else{if(t.octNormalUp=e.getProperty("NORMAL_UP_OCT32P",pi.UNSIGNED_SHORT,2,f),t.octNormalRight=e.getProperty("NORMAL_RIGHT_OCT32P",pi.UNSIGNED_SHORT,2,h),t.octNormalUp){if(!t.octNormalRight)throw new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");throw new Error("i3dm: oct-encoded orientation not implemented")}t.eastNorthUp?(os.a.WGS84.eastNorthUpToFixedFrame(o,l),l.getRotationMatrix3(a)):a.identity()}!1,s.fromMatrix3(a),u.rotation=s,c.set(1,1,1);var O=e.getProperty("SCALE",pi.FLOAT,1,v);Number.isFinite(O)&&c.multiplyByScalar(O);var w=e.getProperty("SCALE_NON_UNIFORM",pi.FLOAT,3,v,f);w&&c.scale(w),u.scale=c;var j=e.getProperty("BATCH_ID",pi.UNSIGNED_SHORT,1,v);void 0===j&&(j=v);var _=(new is.a).fromQuaternion(u.rotation);l.identity(),l.translate(u.translation),l.multiplyRight(_),l.scale(u.scale);var E=l.clone();i[v]={modelMatrix:E,batchId:j}}t.instances=i}(t,a,0,s),n}function us(t,e,n,r,i,o){return ls.apply(this,arguments)}function ls(){return(ls=Object(Hn.a)(Gn.a.mark((function t(e,n,r,i,o,a){var s,c;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Ai(e,n,r),s=new DataView(n),e.tilesLength=s.getUint32(r,!0),r+=4,e.tiles=[];case 5:if(!(e.tiles.length<e.tilesLength&&e.byteLength-r>12)){t.next=13;break}return c={},e.tiles.push(c),t.next=10,a(n,r,i,o,c);case 10:r=t.sent,t.next=5;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function fs(t){return hs.apply(this,arguments)}function hs(){return(hs=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i,o,a=arguments;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:0,r=a.length>2?a[2]:void 0,i=a.length>3?a[3]:void 0,(o=a.length>4&&void 0!==a[4]?a[4]:{}).byteOffset=n,o.type=nr(e,n),t.t0=o.type,t.next=t.t0===$n.COMPOSITE?9:t.t0===$n.BATCHED_3D_MODEL?12:t.t0===$n.INSTANCED_3D_MODEL?15:t.t0===$n.POINT_CLOUD?18:21;break;case 9:return t.next=11,us(o,e,n,r,i,fs);case 11:return t.abrupt("return",t.sent);case 12:return t.next=14,$a(o,e,n,r,i);case 14:return t.abrupt("return",t.sent);case 15:return t.next=17,as(o,e,n,r,i);case 17:return t.abrupt("return",t.sent);case 18:return t.next=20,Zi(o,e,n,r,i);case 20:return t.abrupt("return",t.sent);case 21:throw new Error("3DTileLoader: unknown type ".concat(o.type));case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ps(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ds(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ds(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ds(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vs(t,e){if(t.content){var n=t.content.uri||t.content.url;t.contentUrl="".concat(e.basePath,"/").concat(n)}return t.id=t.contentUrl,t.lodMetricType=Kn,t.lodMetricValue=t.geometricError,t.transformMatrix=t.transform,t.type=function(t){if(!t.contentUrl)return Yn;var e=t.contentUrl.split(".").pop();switch(e){case"pnts":return Jn;case"i3dm":case"b3dm":return Xn;default:return e}}(t),t.refine=function(t){switch(t){case"REPLACE":case"replace":return Wn;case"ADD":case"add":return Zn;default:return t}}(t.refine),t}function ys(t){var e=t.basePath,n=vs(t.root,t),r=[];for(r.push(n);r.length>0;){var i,o=ps(r.pop().children||[]);try{for(o.s();!(i=o.n()).done;){var a=i.value;vs(a,{basePath:e}),r.push(a)}}catch(s){o.e(s)}finally{o.f()}}return n}var bs={id:"3d-tiles",name:"3D Tiles",module:"3d-tiles",version:"3.0.12",extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:function(t,e,n){return _s.apply(this,arguments)},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",assetGltfUpAxis:null}}};function ms(t){return qn.a.dirname(t.url)}function gs(t,e,n){return Os.apply(this,arguments)}function Os(){return(Os=Object(Hn.a)(Gn.a.mark((function t(e,n,r){var i;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={content:{featureIds:null}},0,t.next=4,fs(e,0,n,r,i.content);case 4:return t.abrupt("return",i.content);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ws(t,e,n){return js.apply(this,arguments)}function js(){return(js=Object(Hn.a)(Gn.a.mark((function t(e,n,r){var i;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=JSON.parse((new TextDecoder).decode(e))).loader=n.loader||bs,i.url=r.url,i.basePath=ms(i),i.root=ys(i),i.type=Qn,i.lodMetricType=Kn,i.lodMetricValue=i.root.lodMetricValue,t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _s(){return(_s=Object(Hn.a)(Gn.a.mark((function t(e,n,r){var i;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n["3d-tiles"]||{},!("auto"===i.isTileset?r.url&&-1!==r.url.indexOf(".json"):i.isTileset)){t.next=8;break}return t.next=5,ws(e,n,r);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,gs(e,n,r);case 10:e=t.sent;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Es=n("OauZ");function Ts(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ps(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ts(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ts(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xs(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ks(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ks(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ks(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ss="https://api.cesium.com/v1/assets";function As(t,e){return Is.apply(this,arguments)}function Is(){return(Is=Object(Hn.a)(Gn.a.mark((function t(e,n){var r,i,o,a,s,c,u;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=6;break}return t.next=3,Ds(e);case 3:r=t.sent,i=xs(r.items);try{for(i.s();!(o=i.n()).done;)"3DTILES"===(a=o.value).type&&(n=a.id)}catch(l){i.e(l)}finally{i.f()}case 6:return t.next=8,Cs(e,n);case 8:return s=t.sent,c=s.type,u=s.url,Object(tr.a)("3DTILES"===c&&u),s.headers={Authorization:"Bearer ".concat(s.accessToken)},t.abrupt("return",s);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ds(t){return Ms.apply(this,arguments)}function Ms(){return(Ms=Object(Hn.a)(Gn.a.mark((function t(e){var n,r;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(tr.a)(e),Ss,n={Authorization:"Bearer ".concat(e)},t.next=5,Object(Es.a)("https://api.cesium.com/v1/assets",{fetch:{headers:n}});case 5:if((r=t.sent).ok){t.next=8;break}throw new Error(r.statusText);case 8:return t.next=10,r.json();case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Cs(t,e){return Ls.apply(this,arguments)}function Ls(){return(Ls=Object(Hn.a)(Gn.a.mark((function t(e,n){var r,i,o,a,s;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(tr.a)(e,n),r={Authorization:"Bearer ".concat(e)},i="".concat(Ss,"/").concat(n),t.next=5,Object(Es.a)("".concat(i),{fetch:{headers:r}});case 5:if((o=t.sent).ok){t.next=8;break}throw new Error(o.statusText);case 8:return t.next=10,o.json();case 10:return a=t.sent,t.next=13,Object(Es.a)("".concat(i,"/endpoint"),{fetch:{headers:r}});case 13:if((o=t.sent).ok){t.next=16;break}throw new Error(o.statusText);case 16:return t.next=18,o.json();case 18:return s=t.sent,a=Ps(Ps({},a),s),t.abrupt("return",a);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rs(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bs(){return(Bs=Object(Hn.a)(Gn.a.mark((function t(e){var n,r,i,o,a=arguments;return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(n=a.length>1&&void 0!==a[1]?a[1]:{})["cesium-ion"]||{},r=n.accessToken,i=n.assetId,Number.isFinite(i)||(o=e.match(/\/([0-9]+)\/tileset.json/),i=o&&o[1]),t.abrupt("return",As(r,i));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Us,zs=Ns(Ns({},bs),{},{id:"cesium-ion",name:"Cesium Ion",preload:function(t){return Bs.apply(this,arguments)},parse:(Us=Object(Hn.a)(Gn.a.mark((function t(e,n,r){return Gn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Ns({},n))["3d-tiles"]=n["cesium-ion"],n.loader=zs,t.abrupt("return",bs.parse(e,n,r));case 4:case"end":return t.stop()}}),t)}))),function(t,e,n){return Us.apply(this,arguments)}),options:{"cesium-ion":Ns(Ns({},bs.options["3d-tiles"]),{},{accessToken:null})}});function Fs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fs(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Gs={latitude:40,longitude:-75,pitch:45,maxPitch:60,bearing:0,minZoom:2,maxZoom:30,zoom:17};function Hs(t){var e=t.mapStyle,n=void 0===e?"https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json":e,r=t.updateAttributions,i=Object(c.useState)(Gs),o=i[0],a=i[1],s=new Fn.a({id:"tile-3d-layer",pointSize:2,data:"https://assets.cesium.com/43978/tileset.json",loader:zs,loadOptions:{"cesium-ion":{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlYWMxMzcyYy0zZjJkLTQwODctODNlNi01MDRkZmMzMjIxOWIiLCJpZCI6OTYyMCwic2NvcGVzIjpbImFzbCIsImFzciIsImdjIl0sImlhdCI6MTU2Mjg2NjI3M30.1FNiClUyk00YH_nWfSGpiQAjR5V2OvREDq1PJ5QMjWQ"}},onTilesetLoad:function(t){var e=t.cartographicCenter,n=t.zoom;a(Vs(Vs({},Gs),{},{longitude:e[0],latitude:e[1],zoom:n})),r&&r(t.credits&&t.credits.attributions)}});return u.a.createElement(zn.a,{layers:[s],initialViewState:o,controller:!0},u.a.createElement(J,{reuseMaps:!0,mapStyle:n,preventStyleDiffing:!0}))}var qs=n("CtqP"),Zs=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._updateAttributions=function(t){e.props.onStateChange({attributions:t})},e}return Object(s.a)(e,t),e.renderInfo=function(t){if(!t.attributions)return null;var e=t.attributions;return u.a.createElement("div",{style:{marginTop:"0.5cm"}},u.a.createElement("div",{style:{textAlign:"center",borderStyle:"groove"}},Boolean(e.length)&&u.a.createElement("b",null,"Tileset Credentials"),e.map((function(t){return u.a.createElement("div",{key:t.html,dangerouslySetInnerHTML:{__html:t.html}})}))))},e.prototype.render=function(){return u.a.createElement(Hs,Object.assign({},this.props,{updateAttributions:this._updateAttributions}))},e}(c.Component);Zs.title="City of Melbourne 3D Point Cloud",Zs.code=l.b+"/examples/website/3d-tiles",Zs.parameters={},Zs.mapStyle=l.c.DARK;e.default=Object(qs.a)(Zs)},A67p:function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document},o=i.global||i.self||i.window||{},a="object"!=typeof r||"[object process]"!==String(r)||r.browser,s="function"==typeof importScripts,c=("undefined"!=typeof window&&window.orientation,void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version));c&&parseFloat(c[1])}).call(this,n("yLpj"),n("8oxB"))},D9qG:function(t,e,n){"use strict";(function(t){n("E9XD");var r=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&c()}function s(){a(o)}function c(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return c}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;s.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},h=m(0,0,0,0);function p(t){return parseFloat(t)||0}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+p(t["border-"+n+"-width"])}),0)}function v(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return h;var r=f(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=p(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=p(r.width),c=p(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=d(r,"left","right")+o),Math.round(c+a)!==n&&(c-=d(r,"top","bottom")+a)),!function(t){return t===f(t).document.documentElement}(t)){var u=Math.round(s+o)-e,l=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return m(i.left,i.top,s,c)}var y="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"==typeof t.getBBox};function b(t){return i?y(t)?function(t){var e=t.getBBox();return m(0,0,e.width,e.height)}(t):v(t):h}function m(t,e,n,r){return{x:t,y:e,width:n,height:r}}var g=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=b(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),O=function(t,e){var n,r,i,o,a,s,c,u=(r=(n=e).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),l(c,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),c);l(this,{target:t,contentRect:u})},w=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new g(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new O(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),j="undefined"!=typeof WeakMap?new WeakMap:new r,_=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new w(e,n,this);j.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){_.prototype[t]=function(){var e;return(e=j.get(this))[t].apply(e,arguments)}}));var E=void 0!==o.ResizeObserver?o.ResizeObserver:_;e.a=E}).call(this,n("yLpj"))},"X4Q+":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("rePB");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function u(t){if(!t)return null;if("string"==typeof t)return t;t.toJS&&(t=t.toJS());var e,n={},r=a(t.layers);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.id]=i}}catch(u){r.e(u)}finally{r.f()}var s=t.layers.map((function(t){var e=n[t.ref],r=null;if("interactive"in t&&delete(r=o({},t)).interactive,e){delete(r=r||o({},t)).ref;var i,s=a(c);try{for(s.s();!(i=s.n()).done;){var l=i.value;l in e&&(r[l]=e[l])}}catch(u){s.e(u)}finally{s.f()}}return r||t}));return o(o({},t),{},{layers:s})}},d1Eg:function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(P){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new _(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=c;var l={};function f(){}function h(){}function p(){}var d={};d[i]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&n.call(y,i)&&(d=y);var b=p.prototype=f.prototype=Object.create(d);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=b.constructor=p,p.constructor=h,h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},m(g.prototype),g.prototype[o]=function(){return this},t.AsyncIterator=g,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new g(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(b),s(b,a,"Generator"),b[i]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},oJR1:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));"undefined"!=typeof window&&window,void 0!==t||window;var r="undefined"!=typeof document?document:{}}).call(this,n("yLpj"))},q8n8:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var r="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i="undefined"!=typeof window?window:t,o=(void 0!==t||window,"undefined"!=typeof document&&document,!1);try{var a={get passive(){return o=!0,!0}};i.addEventListener("test",a,a),i.removeEventListener("test",a,a)}catch(s){}}).call(this,n("yLpj"))}}]);