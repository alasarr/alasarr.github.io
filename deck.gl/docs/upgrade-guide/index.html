<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.32.0"/><title data-react-helmet="true">deck.gl | Upgrade Guide</title><link data-react-helmet="true" rel="stylesheet" href="/deck.gl/styles.css" type="text/css"/><link data-react-helmet="true" rel="icon" type="img/ico" href="favicon.ico"/><meta data-react-helmet="true" name="description" content="WebGL-powered visualization framework for large-scale datasets"/><meta data-react-helmet="true" name="image" content="https://deck.gl/images/trips-layer-unfurl-4.0.jpg"/><meta data-react-helmet="true" property="og:url" content="https://deck.gl/*"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="deck.gl | Upgrade Guide"/><meta data-react-helmet="true" property="og:description" content="WebGL-powered visualization framework for large-scale datasets"/><meta data-react-helmet="true" property="og:image" content="https://deck.gl/images/trips-layer-unfurl-4.0.jpg"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:title" content="deck.gl | Upgrade Guide"/><meta data-react-helmet="true" name="twitter:description" content="WebGL-powered visualization framework for large-scale datasets"/><meta data-react-helmet="true" name="twitter:image" content="https://deck.gl/images/trips-layer-unfurl-4.0.jpg"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://deck.gl","name":"deck.gl"},[{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://deck.gl/*","name":"deck.gl | Upgrade Guide","image":"https://deck.gl/images/trips-layer-unfurl-4.0.jpg"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://deck.gl","name":"deck.gl | Upgrade Guide","headline":"deck.gl | Upgrade Guide","image":{"@type":"ImageObject","url":"https://deck.gl/images/trips-layer-unfurl-4.0.jpg"},"description":"WebGL-powered visualization framework for large-scale datasets"}]]</script><script data-react-helmet="true" async="" src="https://www.googletagmanager.com/gtag/js?id=UA-74374017-2"></script><style data-styled="ckjqBY kTxBVF ffpMvA esBTyf gwvshP kGHZqi ljEIIX isdBno gGlvpi bfuDSM bYHnBw femPON FcGip ccSUJg hsydZS iVEvtf idNLwm iTIrjR dMTgn dvhuEd jYCwIr ePRhQs cncNYa gicMXt fjuJKd hsOfQe kVRSNy dMoEUD dMIfYV dNeACf bnjLCb gJgcGl cWOyyE" data-styled-version="4.4.1">
/* sc-component-id: body__BodyContainerToC-lvm4v2-1 */
.idNLwm{height:100%;width:100%;padding:64px 0 0 300px;} @media screen and (max-width:768px){.idNLwm{height:calc(100vh - 64px);padding:0;-webkit-order:2;-ms-flex-order:2;order:2;}}
/* sc-component-id: body__Body-lvm4v2-3 */
.ckjqBY{font:normal 14px/20px UberMove,Helvetica,Arial,sans-serif;width:100vw;height:100vh;}
/* sc-component-id: toc__TocChevron-c2gnov-0 */
.ljEIIX{height:16px;width:16px;position:absolute;left:24px;top:20px;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transition:-webkit-transform 0.3s;-webkit-transition:transform 0.3s;transition:transform 0.3s;}.isdBno{height:16px;width:16px;position:absolute;left:24px;top:20px;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:-webkit-transform 0.3s;-webkit-transition:transform 0.3s;transition:transform 0.3s;}.gGlvpi{height:16px;width:16px;position:absolute;left:36px;top:20px;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:-webkit-transform 0.3s;-webkit-transition:transform 0.3s;transition:transform 0.3s;}
/* sc-component-id: toc__TocEntry-c2gnov-1 */
.esBTyf{font:bold 14px/20px UberMove,Helvetica,Arial,sans-serif;border-top:1px solid tranparent;color:#19202C;cursor:pointer;margin:-0.5px 0;position:relative;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}.gwvshP{font:bold 14px/20px UberMove,Helvetica,Arial,sans-serif;border-top:1px solid tranparent;color:#485668;cursor:pointer;margin:-0.5px 0;position:relative;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}.kGHZqi{font:bold 14px/20px UberMove,Helvetica,Arial,sans-serif;border-top:1px solid #E1E8F0;color:#19202C;cursor:pointer;margin:-0.5px 0;position:relative;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}
/* sc-component-id: toc__TocHeader-c2gnov-2 */
.bfuDSM{display:block;padding:16px 16px 16px 48px;} .bfuDSM:hover{background:#F7FAFC;}.bYHnBw{display:block;padding:16px 16px 16px 60px;} .bYHnBw:hover{background:#F7FAFC;}
/* sc-component-id: toc__TocLink-c2gnov-3 */
.ccSUJg a{display:block;padding:16px 16px 16px 60px;color:#485668 !important;-webkit-text-decoration:none;text-decoration:none;} .ccSUJg:hover{background:#F7FAFC;}.hsydZS a{display:block;padding:16px 16px 16px 60px;color:#00ADE6 !important;-webkit-text-decoration:none;text-decoration:none;} .hsydZS:hover{background:#F7FAFC;}.iVEvtf a{display:block;padding:16px 16px 16px 72px;color:#485668 !important;-webkit-text-decoration:none;text-decoration:none;} .iVEvtf:hover{background:#F7FAFC;}
/* sc-component-id: toc__TocSubpages-c2gnov-4 */
.femPON{list-style:none;margin:0;max-height:280px;overflow:hidden;padding:0;-webkit-transition:max-height 0.3s;transition:max-height 0.3s;}.FcGip{list-style:none;margin:0;max-height:0px;overflow:hidden;padding:0;-webkit-transition:max-height 0.3s;transition:max-height 0.3s;}
/* sc-component-id: toc__TocContainer-c2gnov-5 */
.ffpMvA{position:fixed;top:0;padding:64px 0;max-width:300px;height:100%;z-index:2;border-right:1px solid #CAD5E0;overflow-y:auto;overflow-x:hidden;width:100%;} @media screen and (max-width:768px){.ffpMvA{max-width:100%;height:initial;border-right:none;position:-webkit-sticky;position:sticky;padding:0;-webkit-transition:opacity 0.3s,-webkit-transform 0.3s;-webkit-transition:opacity 0.3s,transform 0.3s;transition:opacity 0.3s,transform 0.3s;opacity:0;max-height:0;overflow:hidden;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px);}}
/* sc-component-id: header__HeaderContainer-sc-3r2dxq-1 */
.kTxBVF{grid-column:1/3;grid-row:1/2;} @media screen and (max-width:768px){.kTxBVF{-webkit-order:1;-ms-flex-order:1;order:1;}}
/* sc-component-id: sc-global-3868639009 */
body{margin:0;overflow-x:hidden;-webkit-text-size-adjust:100%;} *{box-sizing:border-box;}
/* sc-component-id: typography__A-sc-1pmaksm-0 */
.dvhuEd{-webkit-text-decoration:none;text-decoration:none;color:#00ADE6;} .dvhuEd:visited{color:#174EB6;} .dvhuEd:active{color:#123D90;} .dvhuEd:hover{color:#123D90;}
/* sc-component-id: typography__GatsbyA-sc-1pmaksm-1 */
.dMoEUD{-webkit-text-decoration:none;text-decoration:none;color:#00ADE6;} .dMoEUD:visited{color:#174EB6;} .dMoEUD:active{color:#123D90;} .dMoEUD:hover{color:#123D90;}
/* sc-component-id: typography__H1-sc-1pmaksm-2 */
.dMTgn{font:bold 40px/56px UberMove,Helvetica,Arial,sans-serif;-webkit-letter-spacing:0.02em;-moz-letter-spacing:0.02em;-ms-letter-spacing:0.02em;letter-spacing:0.02em;margin:4px 0 24px;}
/* sc-component-id: typography__H2-sc-1pmaksm-3 */
.jYCwIr{font:bold 32px/48px UberMove,Helvetica,Arial,sans-serif;margin:24px 0 16px;}
/* sc-component-id: typography__H3-sc-1pmaksm-4 */
.ePRhQs{font:bold 24px/36px UberMove,Helvetica,Arial,sans-serif;}
/* sc-component-id: typography__H4-sc-1pmaksm-5 */
.dMIfYV{font:bold 20px/28px UberMove,Helvetica,Arial,sans-serif;}
/* sc-component-id: typography__H5-sc-1pmaksm-6 */
.dNeACf{font:bold 16px/24px UberMove,Helvetica,Arial,sans-serif;}
/* sc-component-id: typography__P-sc-1pmaksm-8 */
.cncNYa{margin:'0 0 16px';}
/* sc-component-id: typography__List-sc-1pmaksm-9 */
.hsOfQe{margin:0 0 12px;}
/* sc-component-id: typography__ListItem-sc-1pmaksm-10 */
.kVRSNy{margin-bottom:4px;}
/* sc-component-id: typography__MarkdownBody-sc-1pmaksm-11 */
.iTIrjR{font:normal 14px/20px UberMove,Helvetica,Arial,sans-serif;padding:36px;max-width:692px;}
/* sc-component-id: typography__InlineCode-sc-1pmaksm-12 */
.gicMXt{background-color:#F7FAFC;border-radius:4px;padding:0 5px;font-family:Consolas,Menlo,Monaco,'Andale Mono WT','Andale Mono','Lucida Console','Lucida Sans Typewriter','DejaVu Sans Mono','Bitstream Vera Sans Mono','Liberation Mono','Nimbus Mono L','Courier New',Courier,monospace;font-size:0.9em;margin:1px 0;line-height:calc(1.5em / 0.9 - 2px);display:inline-block;vertical-align:top;}
/* sc-component-id: typography__Pre-sc-1pmaksm-14 */
.fjuJKd{font-size:14px;background-color:#F7FAFC;padding:6px;overflow-x:auto;} .fjuJKd .token.comment,.fjuJKd .token.prolog,.fjuJKd .token.doctype,.fjuJKd .token.cdata{color:slategray;} .fjuJKd .token.punctuation{color:#999;} .fjuJKd .token.namespace{opacity:.7;} .fjuJKd .token.property,.fjuJKd .token.tag,.fjuJKd .token.boolean,.fjuJKd .token.number,.fjuJKd .token.constant,.fjuJKd .token.symbol,.fjuJKd .token.deleted{color:#905;} .fjuJKd .token.selector,.fjuJKd .token.attr-name,.fjuJKd .token.string,.fjuJKd .token.char,.fjuJKd .token.builtin,.fjuJKd .token.inserted{color:#690;} .fjuJKd .token.operator,.fjuJKd .token.entity,.fjuJKd .token.url,.fjuJKd .language-css .token.string,.fjuJKd .style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,.5);} .fjuJKd .token.atrule,.fjuJKd .token.attr-value,.fjuJKd .token.keyword{color:#07a;} .fjuJKd .token.function,.fjuJKd .token.class-name{color:#DD4A68;} .fjuJKd .token.regex,.fjuJKd .token.important,.fjuJKd .token.variable{color:#e90;} .fjuJKd .token.important,.fjuJKd .token.bold{font-weight:bold;} .fjuJKd .token.italic{font-style:italic;} .fjuJKd .token.entity{cursor:help;}
/* sc-component-id: typography__Table-sc-1pmaksm-17 */
.bnjLCb{border-collapse:collapse;border-spacing:1px;width:100%;}
/* sc-component-id: typography__TableHeaderCell-sc-1pmaksm-18 */
.gJgcGl{padding:4px;text-align:left;background:#F7FAFC;font-weight:bold;border:1px solid #E1E8F0;}
/* sc-component-id: typography__TableBodyCell-sc-1pmaksm-19 */
.cWOyyE{padding:4px;text-align:left;border:1px solid #E1E8F0;}</style><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 64)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/deck.gl/webpack-runtime-b383bf68ee9daae06629.js"/><link as="script" rel="preload" href="/deck.gl/framework-a5153769f2c95affa126.js"/><link as="script" rel="preload" href="/deck.gl/2d7ef48f-f748d0e17429148f6483.js"/><link as="script" rel="preload" href="/deck.gl/fe95a7ce-e5e2949357402d5273d1.js"/><link as="script" rel="preload" href="/deck.gl/app-b684684db8b35b196508.js"/><link as="script" rel="preload" href="/deck.gl/component---node-modules-gatsby-theme-ocular-src-react-templates-documentation-jsx-b5c6fcc0e706ecb665be.js"/><link as="fetch" rel="preload" href="/deck.gl/page-data/docs/upgrade-guide/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/deck.gl/page-data/sq/d/484347790.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/deck.gl/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="body__Body-lvm4v2-3 ckjqBY"><div class="header__HeaderContainer-sc-3r2dxq-1 kTxBVF"><div></div></div><div class="toc__TocContainer-c2gnov-5 ffpMvA"><div><div title="Overview" class="toc__TocEntry-c2gnov-1 esBTyf"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 ljEIIX" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bfuDSM">Overview</span></div><ul class="toc__TocSubpages-c2gnov-4 femPON"><div><li><div title="Introduction" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 ccSUJg"><a title="Introduction" href="/deck.gl/docs">Introduction</a></div></div></li></div><div><li><div title="What&#x27;s New" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 ccSUJg"><a title="What&#x27;s New" href="/deck.gl/docs/whats-new">What&#x27;s New</a></div></div></li></div><div><li><div title="Upgrade Guide" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 hsydZS"><a aria-current="page" title="Upgrade Guide" class="" href="/deck.gl/docs/upgrade-guide">Upgrade Guide</a></div></div></li></div><div><li><div title="Contributing to deck.gl" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 ccSUJg"><a title="Contributing to deck.gl" href="/deck.gl/docs/contributing">Contributing to deck.gl</a></div></div></li></div><div><li><div title="Frequently Asked Questions" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 ccSUJg"><a title="Frequently Asked Questions" href="/deck.gl/docs/faq">Frequently Asked Questions</a></div></div></li></div></ul></div><div><div title="Getting Started" class="toc__TocEntry-c2gnov-1 kGHZqi"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 isdBno" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bfuDSM">Getting Started</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="Installing and Running Examples" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 ccSUJg"><a title="Installing and Running Examples" href="/deck.gl/docs/get-started/getting-started">Installing and Running Examples</a></div></div></li></div><div><li><div title="Using deck.gl without React" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 ccSUJg"><a title="Using deck.gl without React" href="/deck.gl/docs/get-started/using-standalone">Using deck.gl without React</a></div></div></li></div><div><li><div title="Using deck.gl with React" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 ccSUJg"><a title="Using deck.gl with React" href="/deck.gl/docs/get-started/using-with-react">Using deck.gl with React</a></div></div></li></div><div><li><div title="Using deck.gl with a Base Map" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 ccSUJg"><a title="Using deck.gl with a Base Map" href="/deck.gl/docs/get-started/using-with-map">Using deck.gl with a Base Map</a></div></div></li></div><div><li><div title="Learning Resources" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 ccSUJg"><a title="Learning Resources" href="/deck.gl/docs/get-started/learning-resources">Learning Resources</a></div></div></li></div></ul></div><div><div title="Developer Guide" class="toc__TocEntry-c2gnov-1 kGHZqi"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 isdBno" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bfuDSM">Developer Guide</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><div title="Using the API" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Using the API</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="Using Layers" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Using Layers" href="/deck.gl/docs/developer-guide/using-layers">Using Layers</a></div></div></li></div><div><li><div title="Adding Interactivity" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Adding Interactivity" href="/deck.gl/docs/developer-guide/interactivity">Adding Interactivity</a></div></div></li></div><div><li><div title="Coordinate Systems" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Coordinate Systems" href="/deck.gl/docs/developer-guide/coordinate-systems">Coordinate Systems</a></div></div></li></div><div><li><div title="Views and Projections" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Views and Projections" href="/deck.gl/docs/developer-guide/views">Views and Projections</a></div></div></li></div><div><li><div title="View State Transitions" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="View State Transitions" href="/deck.gl/docs/developer-guide/view-state-transitions">View State Transitions</a></div></div></li></div><div><li><div title="Loading Data" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Loading Data" href="/deck.gl/docs/developer-guide/loading-data">Loading Data</a></div></div></li></div><div><li><div title="Using Lighting" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Using Lighting" href="/deck.gl/docs/developer-guide/using-lighting">Using Lighting</a></div></div></li></div><div><li><div title="Performance Optimization" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Performance Optimization" href="/deck.gl/docs/developer-guide/performance">Performance Optimization</a></div></div></li></div><div><li><div title="About 64-bit Layers" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="About 64-bit Layers" href="/deck.gl/docs/developer-guide/64-bits">About 64-bit Layers</a></div></div></li></div><div><li><div title="Tips and Tricks" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Tips and Tricks" href="/deck.gl/docs/developer-guide/tips-and-tricks">Tips and Tricks</a></div></div></li></div><div><li><div title="Building Apps" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Building Apps" href="/deck.gl/docs/developer-guide/building-apps">Building Apps</a></div></div></li></div><div><li><div title="Debugging" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Debugging" href="/deck.gl/docs/developer-guide/debugging">Debugging</a></div></div></li></div><div><li><div title="Testing Layers and Applications" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Testing Layers and Applications" href="/deck.gl/docs/developer-guide/testing">Testing Layers and Applications</a></div></div></li></div></ul></div><div><div title="Writing Custom Layers" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Writing Custom Layers</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="Writing Your Own Layer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Writing Your Own Layer" href="/deck.gl/docs/developer-guide/custom-layers">Writing Your Own Layer</a></div></div></li></div><div><li><div title="Layer Lifecycle" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Layer Lifecycle" href="/deck.gl/docs/developer-guide/custom-layers/layer-lifecycle">Layer Lifecycle</a></div></div></li></div><div><li><div title="Picking" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Picking" href="/deck.gl/docs/developer-guide/custom-layers/picking">Picking</a></div></div></li></div><div><li><div title="Composite Layers" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Composite Layers" href="/deck.gl/docs/developer-guide/custom-layers/composite-layers">Composite Layers</a></div></div></li></div><div><li><div title="Subclassed Layers" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Subclassed Layers" href="/deck.gl/docs/developer-guide/custom-layers/subclassed-layers">Subclassed Layers</a></div></div></li></div><div><li><div title="Primitive Layers" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Primitive Layers" href="/deck.gl/docs/developer-guide/custom-layers/primitive-layers">Primitive Layers</a></div></div></li></div><div><li><div title="Property Types" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Property Types" href="/deck.gl/docs/developer-guide/custom-layers/prop-types">Property Types</a></div></div></li></div><div><li><div title="Attribute Management" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Attribute Management" href="/deck.gl/docs/developer-guide/custom-layers/attribute-management">Attribute Management</a></div></div></li></div><div><li><div title="Writing Shaders" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Writing Shaders" href="/deck.gl/docs/developer-guide/custom-layers/writing-shaders">Writing Shaders</a></div></div></li></div></ul></div></ul></div><div><div title="API Reference" class="toc__TocEntry-c2gnov-1 kGHZqi"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 isdBno" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bfuDSM">API Reference</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><div title="Core Classes" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Core Classes</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="Deck" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Deck" href="/deck.gl/docs/api-reference/core/deck">Deck</a></div></div></li></div><div><li><div title="AttributeManager" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="AttributeManager" href="/deck.gl/docs/api-reference/core/attribute-manager">AttributeManager</a></div></div></li></div></ul></div><div><div title="Layers" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Layers</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="Layer Catalog Overview" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Layer Catalog Overview" href="/deck.gl/docs/api-reference/layers">Layer Catalog Overview</a></div></div></li></div><div><li><div title="Layer Class" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Layer Class" href="/deck.gl/docs/api-reference/core/layer">Layer Class</a></div></div></li></div><div><li><div title="CompositeLayer Class" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="CompositeLayer Class" href="/deck.gl/docs/api-reference/core/composite-layer">CompositeLayer Class</a></div></div></li></div><div><li><div title="ArcLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="ArcLayer" href="/deck.gl/docs/api-reference/layers/arc-layer">ArcLayer</a></div></div></li></div><div><li><div title="BitmapLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="BitmapLayer" href="/deck.gl/docs/api-reference/layers/bitmap-layer">BitmapLayer</a></div></div></li></div><div><li><div title="ColumnLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="ColumnLayer" href="/deck.gl/docs/api-reference/layers/column-layer">ColumnLayer</a></div></div></li></div><div><li><div title="CPUGridLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="CPUGridLayer" href="/deck.gl/docs/api-reference/aggregation-layers/cpu-grid-layer">CPUGridLayer</a></div></div></li></div><div><li><div title="ContourLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="ContourLayer" href="/deck.gl/docs/api-reference/aggregation-layers/contour-layer">ContourLayer</a></div></div></li></div><div><li><div title="GeoJsonLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="GeoJsonLayer" href="/deck.gl/docs/api-reference/layers/geojson-layer">GeoJsonLayer</a></div></div></li></div><div><li><div title="GPUGridLayer (WebGL2)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="GPUGridLayer (WebGL2)" href="/deck.gl/docs/api-reference/aggregation-layers/gpu-grid-layer">GPUGridLayer (WebGL2)</a></div></div></li></div><div><li><div title="GreatCircleLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="GreatCircleLayer" href="/deck.gl/docs/api-reference/geo-layers/great-circle-layer">GreatCircleLayer</a></div></div></li></div><div><li><div title="GridCellLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="GridCellLayer" href="/deck.gl/docs/api-reference/layers/grid-cell-layer">GridCellLayer</a></div></div></li></div><div><li><div title="GridLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="GridLayer" href="/deck.gl/docs/api-reference/aggregation-layers/grid-layer">GridLayer</a></div></div></li></div><div><li><div title="H3ClusterLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="H3ClusterLayer" href="/deck.gl/docs/api-reference/geo-layers/h3-cluster-layer">H3ClusterLayer</a></div></div></li></div><div><li><div title="H3HexagonLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="H3HexagonLayer" href="/deck.gl/docs/api-reference/geo-layers/h3-hexagon-layer">H3HexagonLayer</a></div></div></li></div><div><li><div title="HeatmapLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="HeatmapLayer" href="/deck.gl/docs/api-reference/aggregation-layers/heatmap-layer">HeatmapLayer</a></div></div></li></div><div><li><div title="HexagonLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="HexagonLayer" href="/deck.gl/docs/api-reference/aggregation-layers/hexagon-layer">HexagonLayer</a></div></div></li></div><div><li><div title="IconLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="IconLayer" href="/deck.gl/docs/api-reference/layers/icon-layer">IconLayer</a></div></div></li></div><div><li><div title="LineLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="LineLayer" href="/deck.gl/docs/api-reference/layers/line-layer">LineLayer</a></div></div></li></div><div><li><div title="MVTLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="MVTLayer" href="/deck.gl/docs/api-reference/geo-layers/mvt-layer">MVTLayer</a></div></div></li></div><div><li><div title="PathLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="PathLayer" href="/deck.gl/docs/api-reference/layers/path-layer">PathLayer</a></div></div></li></div><div><li><div title="PointCloudLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="PointCloudLayer" href="/deck.gl/docs/api-reference/layers/point-cloud-layer">PointCloudLayer</a></div></div></li></div><div><li><div title="PolygonLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="PolygonLayer" href="/deck.gl/docs/api-reference/layers/polygon-layer">PolygonLayer</a></div></div></li></div><div><li><div title="S2Layer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="S2Layer" href="/deck.gl/docs/api-reference/geo-layers/s2-layer">S2Layer</a></div></div></li></div><div><li><div title="ScatterplotLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="ScatterplotLayer" href="/deck.gl/docs/api-reference/layers/scatterplot-layer">ScatterplotLayer</a></div></div></li></div><div><li><div title="ScenegraphLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="ScenegraphLayer" href="/deck.gl/docs/api-reference/mesh-layers/scenegraph-layer">ScenegraphLayer</a></div></div></li></div><div><li><div title="ScreenGridLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="ScreenGridLayer" href="/deck.gl/docs/api-reference/aggregation-layers/screen-grid-layer">ScreenGridLayer</a></div></div></li></div><div><li><div title="SimpleMeshLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="SimpleMeshLayer" href="/deck.gl/docs/api-reference/mesh-layers/simple-mesh-layer">SimpleMeshLayer</a></div></div></li></div><div><li><div title="SolidPolygonLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="SolidPolygonLayer" href="/deck.gl/docs/api-reference/layers/solid-polygon-layer">SolidPolygonLayer</a></div></div></li></div><div><li><div title="TerrainLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="TerrainLayer" href="/deck.gl/docs/api-reference/geo-layers/terrain-layer">TerrainLayer</a></div></div></li></div><div><li><div title="TextLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="TextLayer" href="/deck.gl/docs/api-reference/layers/text-layer">TextLayer</a></div></div></li></div><div><li><div title="TileLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="TileLayer" href="/deck.gl/docs/api-reference/geo-layers/tile-layer">TileLayer</a></div></div></li></div><div><li><div title="Tile3DLayer (Experimental)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Tile3DLayer (Experimental)" href="/deck.gl/docs/api-reference/geo-layers/tile-3d-layer">Tile3DLayer (Experimental)</a></div></div></li></div><div><li><div title="Trips Layer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Trips Layer" href="/deck.gl/docs/api-reference/geo-layers/trips-layer">Trips Layer</a></div></div></li></div></ul></div><div><div title="Scripting Interface" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Scripting Interface</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="DeckGL (Scripting Interface)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="DeckGL (Scripting Interface)" href="/deck.gl/docs/api-reference/core/deckgl">DeckGL (Scripting Interface)</a></div></div></li></div></ul></div><div><div title="Shader Modules" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Shader Modules</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="project (Shader Module)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="project (Shader Module)" href="/deck.gl/docs/api-reference/core/project">project (Shader Module)</a></div></div></li></div><div><li><div title="project32 (Shader Module)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="project32 (Shader Module)" href="/deck.gl/docs/api-reference/core/project32">project32 (Shader Module)</a></div></div></li></div><div><li><div title="project64 (Shader Module)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="project64 (Shader Module)" href="/deck.gl/docs/api-reference/core/project64">project64 (Shader Module)</a></div></div></li></div></ul></div><div><div title="Viewports" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Viewports</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="Viewport" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Viewport" href="/deck.gl/docs/api-reference/core/viewport">Viewport</a></div></div></li></div><div><li><div title="GlobeViewport (Experimental)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="GlobeViewport (Experimental)" href="/deck.gl/docs/api-reference/core/globe-viewport">GlobeViewport (Experimental)</a></div></div></li></div><div><li><div title="WebMercatorViewport" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="WebMercatorViewport" href="/deck.gl/docs/api-reference/core/web-mercator-viewport">WebMercatorViewport</a></div></div></li></div></ul></div><div><div title="Views" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Views</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="View Class" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="View Class" href="/deck.gl/docs/api-reference/core/view">View Class</a></div></div></li></div><div><li><div title="MapView" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="MapView" href="/deck.gl/docs/api-reference/core/map-view">MapView</a></div></div></li></div><div><li><div title="GlobeView (Experimental)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="GlobeView (Experimental)" href="/deck.gl/docs/api-reference/core/globe-view">GlobeView (Experimental)</a></div></div></li></div><div><li><div title="FirstPersonView" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="FirstPersonView" href="/deck.gl/docs/api-reference/core/first-person-view">FirstPersonView</a></div></div></li></div><div><li><div title="OrthographicView" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="OrthographicView" href="/deck.gl/docs/api-reference/core/orthographic-view">OrthographicView</a></div></div></li></div><div><li><div title="OrbitView" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="OrbitView" href="/deck.gl/docs/api-reference/core/orbit-view">OrbitView</a></div></div></li></div></ul></div><div><div title="Controllers" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Controllers</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="Controller" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Controller" href="/deck.gl/docs/api-reference/core/controller">Controller</a></div></div></li></div><div><li><div title="MapController" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="MapController" href="/deck.gl/docs/api-reference/core/map-controller">MapController</a></div></div></li></div><div><li><div title="GlobeController (Experimental)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="GlobeController (Experimental)" href="/deck.gl/docs/api-reference/core/globe-controller">GlobeController (Experimental)</a></div></div></li></div><div><li><div title="FirstPersonController" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="FirstPersonController" href="/deck.gl/docs/api-reference/core/first-person-controller">FirstPersonController</a></div></div></li></div><div><li><div title="OrthographicController" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="OrthographicController" href="/deck.gl/docs/api-reference/core/orthographic-controller">OrthographicController</a></div></div></li></div><div><li><div title="OrbitController" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="OrbitController" href="/deck.gl/docs/api-reference/core/orbit-controller">OrbitController</a></div></div></li></div></ul></div><div><div title="Transitions" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Transitions</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="LinearInterpolator" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="LinearInterpolator" href="/deck.gl/docs/api-reference/core/linear-interpolator">LinearInterpolator</a></div></div></li></div><div><li><div title="FlyToInterpolator" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="FlyToInterpolator" href="/deck.gl/docs/api-reference/core/fly-to-interpolator">FlyToInterpolator</a></div></div></li></div><div><li><div title="TransitionInterpolator" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="TransitionInterpolator" href="/deck.gl/docs/api-reference/core/transition-interpolator">TransitionInterpolator</a></div></div></li></div></ul></div><div><div title="Effects" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Effects</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="LightingEffect" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="LightingEffect" href="/deck.gl/docs/api-reference/core/lighting-effect">LightingEffect</a></div></div></li></div><div><li><div title="PostProcessEffect" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="PostProcessEffect" href="/deck.gl/docs/api-reference/core/post-process-effect">PostProcessEffect</a></div></div></li></div></ul></div><div><div title="Lights" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">Lights</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="AmbientLight" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="AmbientLight" href="/deck.gl/docs/api-reference/core/ambient-light">AmbientLight</a></div></div></li></div><div><li><div title="PointLight" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="PointLight" href="/deck.gl/docs/api-reference/core/point-light">PointLight</a></div></div></li></div><div><li><div title="DirectionalLight" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="DirectionalLight" href="/deck.gl/docs/api-reference/core/directional-light">DirectionalLight</a></div></div></li></div><div><li><div title="CameraLight (Experimental)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="CameraLight (Experimental)" href="/deck.gl/docs/api-reference/core/camera-light">CameraLight (Experimental)</a></div></div></li></div><div><li><div title="SunLight (Experimental)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="SunLight (Experimental)" href="/deck.gl/docs/api-reference/core/sun-light">SunLight (Experimental)</a></div></div></li></div></ul></div></ul></div><div><div title="Submodule API Reference" class="toc__TocEntry-c2gnov-1 kGHZqi"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 isdBno" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bfuDSM">Submodule API Reference</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><div title="@deck.gl/arcgis" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">@deck.gl/arcgis</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="@deck.gl/arcgis" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="@deck.gl/arcgis" href="/deck.gl/docs/api-reference/arcgis/overview">@deck.gl/arcgis</a></div></div></li></div><div><li><div title="DeckLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="DeckLayer" href="/deck.gl/docs/api-reference/arcgis/deck-layer">DeckLayer</a></div></div></li></div><div><li><div title="DeckRenderer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="DeckRenderer" href="/deck.gl/docs/api-reference/arcgis/deck-renderer">DeckRenderer</a></div></div></li></div><div><li><div title="loadArcGISModules" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="loadArcGISModules" href="/deck.gl/docs/api-reference/arcgis/load-arcgis-modules">loadArcGISModules</a></div></div></li></div></ul></div><div><div title="@deck.gl/carto" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">@deck.gl/carto</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="@deck.gl/carto" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="@deck.gl/carto" href="/deck.gl/docs/api-reference/carto/overview">@deck.gl/carto</a></div></div></li></div><div><li><div title="CartoLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="CartoLayer" href="/deck.gl/docs/api-reference/carto/carto-layer">CartoLayer</a></div></div></li></div><div><li><div title="CartoSQLLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="CartoSQLLayer" href="/deck.gl/docs/api-reference/carto/carto-sql-layer">CartoSQLLayer</a></div></div></li></div><div><li><div title="CartoBQTilerLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="CartoBQTilerLayer" href="/deck.gl/docs/api-reference/carto/carto-bqtiler-layer">CartoBQTilerLayer</a></div></div></li></div><div><li><div title="BASEMAP" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="BASEMAP" href="/deck.gl/docs/api-reference/carto/basemap">BASEMAP</a></div></div></li></div><div><li><div title="Styles" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Styles" href="/deck.gl/docs/api-reference/carto/styles">Styles</a></div></div></li></div></ul></div><div><div title="@deck.gl/google-maps" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">@deck.gl/google-maps</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="@deck.gl/google-maps" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="@deck.gl/google-maps" href="/deck.gl/docs/api-reference/google-maps/overview">@deck.gl/google-maps</a></div></div></li></div><div><li><div title="GoogleMapsOverlay" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="GoogleMapsOverlay" href="/deck.gl/docs/api-reference/google-maps/google-maps-overlay">GoogleMapsOverlay</a></div></div></li></div></ul></div><div><div title="@deck.gl/extensions" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">@deck.gl/extensions</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="@deck.gl/extensions" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="@deck.gl/extensions" href="/deck.gl/docs/api-reference/extensions/overview">@deck.gl/extensions</a></div></div></li></div><div><li><div title="BrushingExtension" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="BrushingExtension" href="/deck.gl/docs/api-reference/extensions/brushing-extension">BrushingExtension</a></div></div></li></div><div><li><div title="DataFilterExtension" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="DataFilterExtension" href="/deck.gl/docs/api-reference/extensions/data-filter-extension">DataFilterExtension</a></div></div></li></div><div><li><div title="FillStyleExtension" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="FillStyleExtension" href="/deck.gl/docs/api-reference/extensions/fill-style-extension">FillStyleExtension</a></div></div></li></div><div><li><div title="Fp64Extension" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Fp64Extension" href="/deck.gl/docs/api-reference/extensions/fp64-extension">Fp64Extension</a></div></div></li></div><div><li><div title="PathStyleExtension" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="PathStyleExtension" href="/deck.gl/docs/api-reference/extensions/path-style-extension">PathStyleExtension</a></div></div></li></div></ul></div><div><div title="@deck.gl/json" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">@deck.gl/json</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="@deck.gl/json" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="@deck.gl/json" href="/deck.gl/docs/api-reference/json/overview">@deck.gl/json</a></div></div></li></div><div><li><div title="JSONConverter" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="JSONConverter" href="/deck.gl/docs/api-reference/json/json-converter">JSONConverter</a></div></div></li></div><div><li><div title="JSONConfiguration" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="JSONConfiguration" href="/deck.gl/docs/api-reference/json/json-configuration">JSONConfiguration</a></div></div></li></div><div><li><div title="Conversion Reference" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="Conversion Reference" href="/deck.gl/docs/api-reference/json/conversion-reference">Conversion Reference</a></div></div></li></div></ul></div><div><div title="@deck.gl/mapbox" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">@deck.gl/mapbox</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="@deck.gl/mapbox" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="@deck.gl/mapbox" href="/deck.gl/docs/api-reference/mapbox/overview">@deck.gl/mapbox</a></div></div></li></div><div><li><div title="MapboxLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="MapboxLayer" href="/deck.gl/docs/api-reference/mapbox/mapbox-layer">MapboxLayer</a></div></div></li></div></ul></div><div><div title="@deck.gl/react" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">@deck.gl/react</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="DeckGL (React Component)" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="DeckGL (React Component)" href="/deck.gl/docs/api-reference/react/deckgl">DeckGL (React Component)</a></div></div></li></div></ul></div><div><div title="@deck.gl/test-utils" class="toc__TocEntry-c2gnov-1 gwvshP"><svg viewBox="0 0 24 24" class="toc__TocChevron-c2gnov-0 gGlvpi" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-c2gnov-2 bYHnBw">@deck.gl/test-utils</span></div><ul class="toc__TocSubpages-c2gnov-4 FcGip"><div><li><div title="@deck.gl/test-utils" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="@deck.gl/test-utils" href="/deck.gl/docs/api-reference/test-utils/overview">@deck.gl/test-utils</a></div></div></li></div><div><li><div title="generateLayerTests" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="generateLayerTests" href="/deck.gl/docs/api-reference/test-utils/generate-layer-tests">generateLayerTests</a></div></div></li></div><div><li><div title="testLayer" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="testLayer" href="/deck.gl/docs/api-reference/test-utils/test-layer">testLayer</a></div></div></li></div><div><li><div title="SnapshotTestRunner" class="toc__TocEntry-c2gnov-1 gwvshP"><div class="toc__TocLink-c2gnov-3 iVEvtf"><a title="SnapshotTestRunner" href="/deck.gl/docs/api-reference/test-utils/snapshot-test-runner">SnapshotTestRunner</a></div></div></li></div></ul></div></ul></div></div><div class="body__BodyContainerToC-lvm4v2-1 idNLwm"><div style="position:relative"><div class="typography__MarkdownBody-sc-1pmaksm-11 iTIrjR"><h1 id="upgrade-guide" style="position:relative" class="typography__H1-sc-1pmaksm-2 dMTgn"><a href="#upgrade-guide" aria-label="upgrade guide permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrade Guide</h1><h2 style="position:relative" id="upgrading-from-deckgl-v85-to-v86" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v85-to-v86" aria-label="upgrading from deckgl v85 to v86 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v8.5 to v8.6</h2><h3 style="position:relative" id="meter-size-projection" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#meter-size-projection" aria-label="meter size projection permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Meter size projection</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">Dimensions (radius/width/size) that are defined in meters are now projected accurately in the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">MapView</code> according to the Web Mercator projection. This means that scatterplot radius, path widths etc. may now appear larger than they used to at high latitudes, reflecting the <a href="https://en.wikipedia.org/wiki/Mercator_projection#/media/File:Mercator_with_Tissot&#x27;s_Indicatrices_of_Distortion.svg" class="typography__A-sc-1pmaksm-0 dvhuEd">distortion of the Mercator projection</a>. The visual difference is visible when viewing a dataset covering a large range of latitudes on a global scale.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">This change is technically a bug fix. However, if you have been using meter sizes to visualize non-cartographic values (e.g. population, income), the Mercator distortion may be undesirable. If this is the case, consider moving to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">radiusUnits</code>/<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">widthUnits</code>/<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">sizeUnits</code>: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">&#x27;common&#x27;</code>, as detailed in the updated documentation on the <a href="/deck.gl/docs/developer-guide/coordinate-system.md#supported-units" class="typography__A-sc-1pmaksm-0 dvhuEd">unit system</a>.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">As a stop-gap measure, applications can revert to the old projection behavior with the following prop on <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Deck</code>/<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL</code>:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js">views<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">MapView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>legacyMeterSizes<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">Note that this flag may be removed in a future release.</p><h3 style="position:relative" id="layer-filtering" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#layer-filtering" aria-label="layer filtering permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layer filtering</h3><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">H3HexagonLayer</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">highPrecision</code> prop default value is changed to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">&#x27;auto&#x27;</code>. Setting <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">highPrecision</code> to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">false</code> now forces instanced rendering. See updated <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/geo-layers/h3-hexagon-layer#highprecision-boolean-optional">layer documentation</a> for details.</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">layerFilter</code> is now only called with top-level layers. For example, if you have a <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code> with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">id: &#x27;regions&#x27;</code>, in previous versions the callback would look like:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token function-variable function">layerFilter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>layer<span class="token punctuation">,</span> viewport<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>layer<span class="token punctuation">.</span>id<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#x27;regions&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// regions-points, regions-polygons, etc.</span>
    <span class="token keyword">return</span> viewport<span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">&#x27;main&#x27;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">Now the callback can be:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token function-variable function">layerFilter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>layer<span class="token punctuation">,</span> viewport<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>layer<span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">&#x27;region&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// everything rendered by the GeoJsonLayer</span>
    <span class="token keyword">return</span> viewport<span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">&#x27;main&#x27;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">This change is intended to make this callback easier to use for the most common use cases. Using this callback to filter out specific nested sub layers is no longer supportd. Instead, you need to either set the <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/composite-layer#_subLayerProps">_subLayerProps</a> prop (stock layer) or implement the <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/composite-layer#filtersublayer">filterSubLayer</a> method (custom layer).</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa">If a composite layer has <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">visible: false</code>, all of the layers generated by it will also be hidden regardless of their own <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">visible</code> prop. In previous versions, a descendant layer may be visible as long as it has <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">visible: true</code>, which often led to confusing behavior if a composite layer does not propagate its props correctly.</p></li></ul><h2 style="position:relative" id="upgrading-from-deckgl-v84-to-v85" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v84-to-v85" aria-label="upgrading from deckgl v84 to v85 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v8.4 to v8.5</h2><h3 style="position:relative" id="transpilation" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#transpilation" aria-label="transpilation permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Transpilation</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">The module entry point is now only lightly transpiled for the most commonly used evergreen browsers. This change offers significant savings on bundle size. If your application needs to support older browsers such as IE 11, make sure to include <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">node_modules</code> in your babel config.</p><h3 style="position:relative" id="layers" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#layers" aria-label="layers permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layers</h3><h4 style="position:relative" id="breaking-changes" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#breaking-changes" aria-label="breaking changes permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking changes</h4><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa">A bug is fixed in projecting sizes in billboard mode. Pixel sizes now match their CSS counterparts and objects now have the same size whether in billboard mode or not. As a result, some items are now 1.5 times bigger than they used to be in many common cases, because previously you didn&#x27;t get the sizes you were asking for. This change affects the following layers when used with a <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">MapView</code>:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ArcLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LineLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PointCloudLayer</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">IconLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TextLayer</code> with the default <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">billboard</code> prop</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code> with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">billboard: true</code></li></ul><p class="typography__P-sc-1pmaksm-8 cncNYa">After upgrading to v8.5, in order to maintain the same appearance in these cases, you need to multiply the objects&#x27; width/size by <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">2/3</code>. This can be done by either changing the accessor (<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getWidth</code>/<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getSize</code>) or the scaling prop (<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">sizeScale</code>/<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">widthScale</code>).</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TextLayer</code>&#x27;s default <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">fontSettings</code> have changed. When using <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">sdf</code>, the default <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">buffer</code> is now <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">4</code> and the default <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">radius</code> is now <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">12</code>.</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">lineJointRounded</code> prop now only controls line joints. To use rounded line caps, set <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">lineCapRounded</code> to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">true</code>.</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa">Dashed lines via <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathStyleExtension</code> now draw rounded dash caps if <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">capRounded</code> is <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">true</code>.</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">@deck.gl/geo-layers</code> now depends on <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">@deck.gl/extensions</code>.</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">HeatmapLayer</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">colorDomain</code> prop has redefined the unit of its values. See updated <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/aggregation-layers/heatmap-layer">layer documentation</a> for details.</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TileLayer</code> no longer uses <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">tileSize</code> to offset zoom in non-geospatial views. It is recommended to use the new <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">zoomOffset</code> prop to affect the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">zoom</code> resolution at which tiles are fetched.</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">MVTLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TerrainLayer</code>&#x27;s default loaders no longer support parsing on the main thread. This does not change the layers&#x27; default behavior, just reduces the bundle size by dropping unused code. Should you need to use the layers in an environment where web worker is not available, or debug the loaders, follow the examples in <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/developer-guide/loading-data#loaders-and-web-workers">loaders and workers</a>.</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TerrainLayer</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">workerUrl</code> prop is removed, use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">loadOptions.terrain.workerUrl</code> instead.</p></li></ul><h4 style="position:relative" id="deprecations" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#deprecations" aria-label="deprecations permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deprecations</h4><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TextLayer</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">backgroundColor</code> prop is deprecated. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">background: true</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getBackgroundColor</code> instead.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">rounded</code> prop is deprecated, replaced by two separate flags <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">jointRounded</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">capRounded</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getRadius</code> props is deprecated, replaced by <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getPointRadius</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">CartoBQTilerLayer</code> is deprecated and will be removed in 8.6. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">CartoLayer</code> instead with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">type</code> set to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">MAP_TYPES.TILESET</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">CartoSQLLayer</code> is deprecated and will be removed in 8.6. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">CartoLayer</code> instead with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">type</code> set to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">MAP_TYPES.QUERY</code>.</li></ul><h3 style="position:relative" id="onerror-callback" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#onerror-callback" aria-label="onerror callback permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>onError Callback</h3><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Deck</code>&#x27;s default <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onError</code> callback is changed to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">console.error</code>. Explicitly setting <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onError</code> to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">null</code> now silently ignores all errors, instead of logging them to console.</p><h3 style="position:relative" id="loadersgl-v30" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#loadersgl-v30" aria-label="loadersgl v30 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>loaders.gl v3.0</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">deck.gl now depends on <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">@loaders.gl/core@^3.0.0</code>. It is strongly recommended that you upgrade all loaders.gl dependencies to v3 as v2.x loaders are not tested with the v3.0 core. Visit loaders.gl&#x27;s <a href="https://loaders.gl/docs/upgrade-guide" class="typography__A-sc-1pmaksm-0 dvhuEd">upgrade guide</a> for instructions on each loader module.</p><h3 style="position:relative" id="orbitview" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#orbitview" aria-label="orbitview permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OrbitView</h3><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">OrbitView</code> no longer allows <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">orbitAxis</code> to be specified in the view state. Set <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">orbitAxis</code> in the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">OrbitView</code> constructor instead.</p><h2 style="position:relative" id="upgrading-from-deckgl-v83-to-v84" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v83-to-v84" aria-label="upgrading from deckgl v83 to v84 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v8.3 to v8.4</h2><h3 style="position:relative" id="wraplongitude" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#wraplongitude" aria-label="wraplongitude permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>wrapLongitude</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">The behavior of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">wrapLongitude</code> has changed. Before, setting this prop to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">true</code> would project vertices to a copy of the map that is closer to the current center. Starting with v8.4, enabling this prop would &quot;normalize&quot; the geometry to the <!-- -->[-180, 180]<!-- --> longitude range. See the following list for layer-specific changes:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LineLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ArcLayer</code>: always draw the shortest path between source and target positions. If the shortest path crosses the 180th meridian, it is split into two segments.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Layers that draw each object with a single position anchor, e.g. <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ScatterplotLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">IconLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TextLayer</code>: move the anchor point into the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">[-180, 180]</code> range.</li></ul><p class="typography__P-sc-1pmaksm-8 cncNYa">This change makes layers render more predictably at low zoom levels. To draw horizontally continuous map with multiple copies of the world, use <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/map-view">MapView</a> with the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">repeat</code> option:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token keyword">new</span> <span class="token class-name">Deck</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  views<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">MapView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>repeat<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><h3 style="position:relative" id="pickinginfo" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#pickinginfo" aria-label="pickinginfo permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>pickingInfo</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">A legacy field <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">pickingInfo.lngLat</code> has been removed. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">pickingInfo.coordinate</code> instead.</p><h3 style="position:relative" id="layers-1" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#layers-1" aria-label="layers 1 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layers</h3><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">MVTLayer</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onHover</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onClick</code> callbacks now yield the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">info.object</code> feature coordinates in WGS84 standard.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ScenegraphLayer</code> now has built-in support for <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GLTFLoader</code>. It&#x27;s no longer necessary to call <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">registerLoaders</code> before using it.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">SolidPolygonLayer</code> now enforces the winding order for outer polygons and holes. This ensures the correct orientation of an extruded polygon&#x27;s surfaces, and therefore consistent culling and lighting effect results. This may change the visual outcome of your layers if the winding order was wrongly deduced in the previous versions. When using this layer with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_normalize: false</code>, a new prop <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_windingOrder</code> can be used to specify the winding order used by your polygon data.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ColumnLayer</code> now enforces the winding order for vertices. This may change the lighting effect appearance in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">HexagonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">H3HexagonLayer</code> slightly.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TileLayer</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onViewportLoad</code> callback now receives as argument an array of loaded <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/geo-layers/tile-layer#tile">Tile</a> instances. At previous version the argument was an array of tile content.</li></ul><h2 style="position:relative" id="upgrading-from-deckgl-v82-to-v83" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v82-to-v83" aria-label="upgrading from deckgl v82 to v83 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v8.2 to v8.3</h2><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">The following is added to the default image loading options: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">{imagebitmap: {premultiplyAlpha: &#x27;none&#x27;}}</code> (previously <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">default</code>). This generates more visually similar outcome between <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ImageBitmap</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Image</code> formats (see changes in 8.2 below). You can override this behavior with the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">loadOptions</code> prop of a layer. See <a href="https://loaders.gl/modules/images/docs/api-reference/image-loader#options" class="typography__A-sc-1pmaksm-0 dvhuEd">ImageLoader options</a> for more information.</li></ul><h2 style="position:relative" id="upgrading-from-deckgl-v81-to-v82" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v81-to-v82" aria-label="upgrading from deckgl v81 to v82 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v8.1 to v8.2</h2><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TileLayer</code> now rounds the current <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">zoom</code> to determine the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">z</code> at which to load tiles. This will load less tiles than the previous version. You can adjust the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">tileSize</code> prop to modify this behavior.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Image URLs are now by default loaded in the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ImageBitmap</code> format, versus <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Image</code> in the previous version. This improves the performance of loading textures. You may override this by supplying the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">loadOptions</code> prop of a layer:</li></ul><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js">loadOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
  image<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">&#x27;image&#x27;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">See <a href="https://loaders.gl/modules/images/docs/api-reference/image-loader#options" class="typography__A-sc-1pmaksm-0 dvhuEd">ImageLoader options</a>;</p><h2 style="position:relative" id="upgrading-from-deckgl-v80-to-v81" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v80-to-v81" aria-label="upgrading from deckgl v80 to v81 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v8.0 to v8.1</h2><h3 style="position:relative" id="breaking-changes-1" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#breaking-changes-1" aria-label="breaking changes 1 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h3><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">s2-geometry</code> is no longer a dependency of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">@deck.gl/geo-layers</code>. If you were using this module in an application, it needs to be explicitly added to package.json.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">deck.gl no longer crashes if one of the layers encounters an error during update and/or render. By default, errors are now logged to the console. Specify the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onError</code> callback to manually handle errors in your application.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Deck</code> now reacts to changes in the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">initialViewState</code> prop. In 8.0 and earlier versions, this prop was not monitored after the deck instance was constructed. Starting 8.1, if <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">initialViewState</code> changes deeply, the camera will be reset. It is recommended that you use a constant for <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">initialViewState</code> to achieve behavior consistent with the previous versions.</li></ul><h5 style="position:relative" id="tile3dlayer" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#tile3dlayer" aria-label="tile3dlayer permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tile3DLayer</h5><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">A new prop <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">loader</code> needs to be provided, one of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">CesiumIonLoader</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Tiles3DLoader</code> from (<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">@loaders.gl/3d-tiles</code>) or <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">I3SLoader</code> from (<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">@loaders.gl/i3s</code>).</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">loadOptions</code> prop is now used for passing all loaders.gl options, not just <a href="https://loaders.gl/modules/tiles/docs/api-reference/tileset-3d#constructor-1" class="typography__A-sc-1pmaksm-0 dvhuEd"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Tileset3D</code></a>. To revert back to the 8.0 behavior, use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">{tileset: {throttleRequest: true}}</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_ionAccessId</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_ionAccesToken</code> props are removed. To render an ion dataset with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Tile3DLayer</code>, follow this example:</li></ul><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>CesiumIonLoader<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@loaders.gl/3d-tiles&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Tile3DLayer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@deck.gl/geo-layers&#x27;</span><span class="token punctuation">;</span>

<span class="token comment">// load 3d tiles from Cesium ion</span>
<span class="token keyword">const</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tile3DLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&#x27;tile-3d-layer&#x27;</span><span class="token punctuation">,</span>
  <span class="token comment">// tileset json file url</span>
  data<span class="token operator">:</span> <span class="token string">&#x27;https://assets.cesium.com/&lt;ion_access_id&gt;/tileset.json&#x27;</span><span class="token punctuation">,</span>
  loader<span class="token operator">:</span> CesiumIonLoader<span class="token punctuation">,</span>
  <span class="token comment">// https://cesium.com/docs/rest-api/</span>
  loadOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// https://loaders.gl/modules/tiles/docs/api-reference/tileset-3d#constructor-1</span>
    tileset<span class="token operator">:</span> <span class="token punctuation">{</span>
      throttleRequests<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;cesium-ion&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>accessToken<span class="token operator">:</span> <span class="token string">&#x27;&lt;ion_access_token_for_your_asset&gt;&#x27;</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><h2 style="position:relative" id="upgrading-from-deckgl-v7x-to-v80" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v7x-to-v80" aria-label="upgrading from deckgl v7x to v80 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v7.x to v8.0</h2><h3 style="position:relative" id="breaking-changes-2" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#breaking-changes-2" aria-label="breaking changes 2 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h3><h5 style="position:relative" id="defaults" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#defaults" aria-label="defaults permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Defaults</h5><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">opacity</code> prop of all layers is now default to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">1</code> (used to be <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">0.8</code>).</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/mesh-layers/simple-mesh-layer"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">SimpleMeshLayer</code></a> and <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/mesh-layers/scenegraph-layer"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ScenegraphLayer</code></a>: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">modelMatrix</code> will be composed to instance transformation matrix (derived from  layer props <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getOrientation</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getScale</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getTranslation</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getTransformMatrix</code>) under <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">CARTESIAN</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">METER_OFFSETS</code> <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/developer-guide/coordinate-systems">coordinates</a>.</li></ul><h5 style="position:relative" id="removed" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#removed" aria-label="removed permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removed</h5><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ArcLayer</code> props<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getStrokeWidth</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getWidth</code></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LineLayer</code> props<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getStrokeWidth</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getWidth</code></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code> props<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getDashArray</code>: use <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/extensions/path-style-extension">PathStyleExtension</a></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PolygonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code> props<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getLineDashArray</code>: use <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/extensions/path-style-extension">PathStyleExtension</a></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">H3HexagonLayer</code> props<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getColor</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getFillColor</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getLineColor</code></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Tile3DLayer</code> props:<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onTileLoadFail</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onTileError</code></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TileLayer</code> props:<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onViewportLoaded</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onViewportLoad</code></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project</code> shader module<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_scale</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_size</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_to_clipspace</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_position_to_clipspace</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_pixel_to_clipspace</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_pixel_size_to_clipspace</code></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">WebMercatorViewport</code> class<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getLocationAtPoint</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getMapCenterByLngLatPosition</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">lngLatDeltaToMeters</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">metersToLngLatDelta</code></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Layer</code> class<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">setLayerNeedsUpdate</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">setNeedsUpdate</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">setUniforms</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">model.setUniforms</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">use64bitProjection</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">projectFlat</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">projectPosition</code></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PerspectiveView</code> class - use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">FirstPersonView</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ThirdPersonView</code> class - use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">MapView</code> (geospatial) or <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">OrbitView</code> (info-vis)</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">COORDINATE_SYSTEM</code> enum<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LNGLAT_DEPRECATED</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LNGLAT</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">METERS</code>: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">METER_OFFSETS</code></li></ul></li></ul><h5 style="position:relative" id="react" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#react" aria-label="react permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React</h5><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL</code> no longer injects its children with view props (<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">width</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">height</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">viewState</code> etc.). If your custom component needs these props, consider using the <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/react/deckgl#react-context">ContextProvider</a> or a render callback:</p><div class="gatsby-highlight" data-language="jsx"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-jsx"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DeckGL</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> viewState<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DeckGL</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa">The children of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL</code> are now placed above the canvas by default (except the react-map-gl base map). Wrap them in e.g. <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">&lt;div style={{zIndex: -1}}&gt;</code> if they are intended to be placed behind the canvas.</p></li></ul><h5 style="position:relative" id="debugging" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#debugging" aria-label="debugging permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Debugging</h5><p class="typography__P-sc-1pmaksm-8 cncNYa">deck.gl now removes most logging when bundling under <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">NODE_ENV=production</code>.</p><h5 style="position:relative" id="standalone-bundle" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#standalone-bundle" aria-label="standalone bundle permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Standalone bundle</h5><p class="typography__P-sc-1pmaksm-8 cncNYa">The pre-bundled version, a.k.a. the <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/get-started/using-standalone#using-the-scripting-api">scripting API</a> has been aligned with the interface of the core <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/deck">Deck</a> class.</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Top-level view state props such as <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">longitude</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">latitude</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">zoom</code> are no longer supported. To specify the default view state, use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">initialViewState</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">controller</code> is no longer on by default, use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">controller: true</code>.</li></ul><h5 style="position:relative" id="textures" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#textures" aria-label="textures permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Textures</h5><p class="typography__P-sc-1pmaksm-8 cncNYa">In older versions of deck, we used to set <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">UNPACK_FLIP_Y_WEBGL</code> by default when creating textures from images. This is removed in v8.0 to better align with <a href="https://github.com/KhronosGroup/WebGL/issues/2577" class="typography__A-sc-1pmaksm-0 dvhuEd">WebGL best practice</a>. As a result, the texCoords in the shaders of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">BitmapLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">IconLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TextLayer</code> are y-flipped. This only affects users who extend these layers.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">Users of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">SimpleMeshLayer</code> with texture will need to flip their texture image vertically.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">The change has allowed us to support loading textures from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ImageBitmap</code>, in use cases such as rendering to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">OffscreenCanvas</code> on a web worker.</p><h5 style="position:relative" id="projection-system" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#projection-system" aria-label="projection system permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>projection system</h5><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">The <a href="/deck.gl/docs/shader-module/project.md" class="typography__A-sc-1pmaksm-0 dvhuEd">common space</a> is no longer scaled to the current zoom level. This is part of an effort to make the geometry calculation more consistent and predictable. While one old common unit is equivalent to 1 screen pixel at the viewport center, one new common unit is equivalent to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">viewport.scale</code> pixels at the viewport center.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">viewport.distanceScales</code> keys are renamed:<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">pixelsPerMeter</code> -&gt; <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">unitsPerMeter</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">metersPerPixel</code> -&gt; <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">metersPerUnit</code></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Low part of a <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DOUBLE</code> attribute is renamed from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">*64xyLow</code> to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">*64Low</code> and uses the same size as the high part. This mainly affect position attributes, e.g. all <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">vec2 positions64xyLow</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">vec2 instancePositions64xyLow</code> are now <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">vec3 positions64Low</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">vec3 instancePositions64Low</code>.<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project</code>: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">vec3 project_position(vec3 position, vec2 position64xyLow)</code> is now <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">vec3 project_position(vec3 position, vec3 position64Low)</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project</code>: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">vec4 project_position(vec4 position, vec2 position64xyLow)</code> is now <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">vec4 project_position(vec4 position, vec3 position64Low)</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project32</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project64</code>: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">vec4 project_position_to_clipspace(vec3 position, vec2 position64xyLow, vec3 offset)</code> is now <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">vec4 project_position_to_clipspace(vec3 position, vec3 position64Low, vec3 offset)</code>.</li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">The shader module <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/project64">project64</a> is no longer included in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">@deck.gl/core</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">deck.gl</code>. You can still import it from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">@deck.gl/extensions</code>.</li></ul><h5 style="position:relative" id="shader-modules" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#shader-modules" aria-label="shader modules permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shader modules</h5><p class="typography__P-sc-1pmaksm-8 cncNYa">This change affects custom layers. deck.gl is no longer registering shaders by default. This means any <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">modules</code> array defined in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">layer.getShaders()</code> or <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">new Model()</code> must now use the full shader module objects, instead of just their names. All supported shader modules can be imported from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">@deck.gl/core</code>.</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token comment">/// OLD</span>
<span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  modules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;picking&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;project32&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;gouraud-lighting&#x27;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">Should now become</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>picking<span class="token punctuation">,</span> project32<span class="token punctuation">,</span> gouraudLighting<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@deck.gl/core&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">/// NEW</span>
<span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  modules<span class="token operator">:</span> <span class="token punctuation">[</span>picking<span class="token punctuation">,</span> project32<span class="token punctuation">,</span> gouraudLighting<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><h5 style="position:relative" id="auto-view-state-update" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#auto-view-state-update" aria-label="auto view state update permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Auto view state update</h5><p class="typography__P-sc-1pmaksm-8 cncNYa">A bug was fixed where initial view state tracking could sometimes overwrite user-provided <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">viewState</code> prop. Apps that rely on auto view state update by specifying <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">initialViewState</code> should make sure that <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">viewState</code> is never assigned. If manual view state update is desired, use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">viewState</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onViewStateChange</code> instead. See <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/developer-guide/views#using-a-view-class-with-view-state">developer guide</a> for examples.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">We have fixed a bug when using <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">initialViewState</code> with multiple views. In the past, the state change in one view is unintendedly propagated to all views. As a result of this fix, multiple views (e.g. mini map) are no longer synchronized by default. To synchronize them, define the views with an explicit <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">viewState.id</code>:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token keyword">new</span> <span class="token class-name">Deck</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  views<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MapView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token string">&#x27;main&#x27;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">MapView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token string">&#x27;minimap&#x27;</span><span class="token punctuation">,</span> controller<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> viewState<span class="token operator">:</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token string">&#x27;main&#x27;</span><span class="token punctuation">,</span> pitch<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> zoom<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">See <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/view">View class</a> documentation for details.</p><h2 style="position:relative" id="upgrading-from-deckgl-v72-to-v73" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v72-to-v73" aria-label="upgrading from deckgl v72 to v73 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v7.2 to v7.3</h2><h4 style="position:relative" id="core" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#core" aria-label="core permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Core</h4><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">layer.setLayerNeedsUpdate</code> is renamed to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">layer.setNeedsUpdate()</code> and the old name will be removed in the next major release.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Previously deprecated <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Layer</code> class method, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">screenToDevicePixels</code>, is removed. Use luma.gl <a href="https://luma.gl/docs/api-reference/webgl-2-classes/device-pixels" class="typography__A-sc-1pmaksm-0 dvhuEd">utility methods</a> instead.</li></ul><h4 style="position:relative" id="layers-2" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#layers-2" aria-label="layers 2 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layers</h4><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ScreenGridLayer</code>: support is now limited to browsers that implement either WebGL2 or the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">OES_texture_float</code> extension. <a href="https://webglstats.com/webgl/extension/OES_texture_float" class="typography__A-sc-1pmaksm-0 dvhuEd">coverage stats</a></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Some shader attributes are renamed for consistency:</li></ul><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Layer</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Old</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">New</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LineLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceSourceTargetPositions64xyLow.xy</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceSourcePositions64xyLow</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceSourceTargetPositions64xyLow.zw</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceTargetPositions64xyLow</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceLeftStartPositions64xyLow.xy</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceLeftPositions64xyLow</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceLeftStartPositions64xyLow.zw</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceStartPositions64xyLow</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceEndRightPositions64xyLow.xy</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceEndPositions64xyLow</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceEndRightPositions64xyLow.zw</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instanceRightPositions64xyLow</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ArcLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instancePositions64Low</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instancePositions64xyLow</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ScenegraphLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instancePositions64xy</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instancePositions64xyLow</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">SimpleMeshLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instancePositions64xy</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">instancePositions64xyLow</code></td></tr></tbody></table><h4 style="position:relative" id="deckgljson" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#deckgljson" aria-label="deckgljson permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>@deck.gl/json</h4><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Non-breaking Change: The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_JSONConverter</code> class has been renamed to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">JSONConverter</code> (deprecated alias still available).</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Non-breaking Change: The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_JSONConverter.convertJson()</code> method has been renamed to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">JSONConverter.convert()</code>  (deprecated stub still available).</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Breaking Change: The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_JSONConverter</code> no longer automatically injects deck.gl <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">View</code> classes and enumerations. If required need to import and add these to your <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">JSONConfiguration</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Removed: The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">JSONLayer</code> is no longer included in this module. The code for this layer has been moved to an example in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">/test/apps/json-layer</code>, and would need to be copied into applications to be used.</li></ul><h2 style="position:relative" id="upgrading-from-deckgl-v71-to-v72" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v71-to-v72" aria-label="upgrading from deckgl v71 to v72 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v7.1 to v7.2</h2><h4 style="position:relative" id="breaking-changes-3" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#breaking-changes-3" aria-label="breaking changes 3 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h4><h5 style="position:relative" id="layer-methods" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#layer-methods" aria-label="layer methods permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layer methods</h5><p class="typography__P-sc-1pmaksm-8 cncNYa">Following <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Layer</code> class methods have been removed :</p><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Removed</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Alternate</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Comment</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">use64bitProjection</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Fp64Extension</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">details in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">fp64 prop</code> section below</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">is64bitEnabled</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Fp64Extension</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">details in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">fp64 prop</code> section below</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">updateAttributes</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_updateAttributes</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">method is renamed</td></tr></tbody></table><h5 style="position:relative" id="fp64-prop" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#fp64-prop" aria-label="fp64 prop permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fp64 prop</h5><p class="typography__P-sc-1pmaksm-8 cncNYa">The deprecated <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">fp64</code> prop is removed. The current 32-bit projection is generally precise enough for almost all use cases. If you previously use this feature:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token comment">/// old</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">COORDINATE_SYSTEM</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@deck.gl/core&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">ScatterplotLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  coordinateSystem<span class="token operator">:</span> <span class="token constant">COORDINATE_SYSTEM</span><span class="token punctuation">.</span><span class="token constant">LNGLAT_DEPRECATED</span><span class="token punctuation">,</span>
  fp64<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">  It can be changed to:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token comment">/// new</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">COORDINATE_SYSTEM</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@deck.gl/core&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Fp64Extension<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@deck.gl/extensions&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">ScatterplotLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  coordinateSystem<span class="token operator">:</span> <span class="token constant">COORDINATE_SYSTEM</span><span class="token punctuation">.</span><span class="token constant">LNGLAT_DEPRECATED</span><span class="token punctuation">,</span>
  extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Fp64Extension</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><h5 style="position:relative" id="color-attributes-and-uniforms" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#color-attributes-and-uniforms" aria-label="color attributes and uniforms permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Color Attributes and Uniforms</h5><p class="typography__P-sc-1pmaksm-8 cncNYa">All core layer shaders now receive <strong>normalized</strong> color attributes and uniforms. If you were previously subclassing a core layer with custom vertex shaders, you should expect the color attributes to be in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">[0, 1]</code> range instead of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">[0, 255]</code>.</p><h5 style="position:relative" id="project64-shader-module" class="typography__H5-sc-1pmaksm-6 dNeACf"><a href="#project64-shader-module" aria-label="project64 shader module permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>project64 Shader Module</h5><p class="typography__P-sc-1pmaksm-8 cncNYa">The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project64</code> shader module is no longer registered by default. If you were previously using a custom layer that depends on this module:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token function">getShaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>vs<span class="token punctuation">,</span> fs<span class="token punctuation">,</span> modules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;project64&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">  It can be changed to:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>project64<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@deck.gl/core&#x27;</span><span class="token punctuation">;</span>

<span class="token function">getShaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>vs<span class="token punctuation">,</span> fs<span class="token punctuation">,</span> modules<span class="token operator">:</span> <span class="token punctuation">[</span>project64<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><h4 style="position:relative" id="cpu-grid-layer-and-hexagon-layer-updatetriggers" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#cpu-grid-layer-and-hexagon-layer-updatetriggers" aria-label="cpu grid layer and hexagon layer updatetriggers permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CPU Grid layer and Hexagon layer updateTriggers</h4><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getElevationValue</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getElevationWeight</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getColorValue</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getColorWeight</code> are now compared using <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">updateTriggers</code> like other layer <a href="https://github.com/visgl/deck.gl/blob/master/docs/developer-guide/using-layers.md#accessors" class="typography__A-sc-1pmaksm-0 dvhuEd">accessors</a>. Update them without passing updateTriggers will no longer trigger layer update.</p><h4 style="position:relative" id="deprecations-1" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#deprecations-1" aria-label="deprecations 1 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deprecations</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">IE support is deprecated and will be removed in the next major release.</p><h2 style="position:relative" id="upgrading-from-deckgl-v70-to-v71" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v70-to-v71" aria-label="upgrading from deckgl v70 to v71 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v7.0 to v7.1</h2><h4 style="position:relative" id="breaking-changes-4" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#breaking-changes-4" aria-label="breaking changes 4 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h4><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa">Fixed a bug where <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">coordinateOrigin</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">z</code> is not applied in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">METER_OFFSETS</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LNGLAT_OFFSETS</code> coordinate systems.</p></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><p class="typography__P-sc-1pmaksm-8 cncNYa">If your application was subclassing <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GridLayer</code>, you should now subclass <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">CPUGridLayer</code> instead, and either use it directly, or provide it as the sublayer class for <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GridLayer</code> using <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_subLayerProps</code>:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token keyword">class</span> <span class="token class-name">EnhancedCPUGridLayer</span> <span class="token keyword">extends</span> <span class="token class-name">CPUGridLayer</span> <span class="token punctuation">{</span>
<span class="token comment">// enhancments</span>
<span class="token punctuation">}</span>

<span class="token comment">// Code initilizing GridLayer</span>
<span class="token keyword">const</span> myGridLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GridLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// props</span>
  <span class="token operator">...</span>
  <span class="token comment">// Override sublayer type for &#x27;CPU&#x27;</span>
  _subLayerProps<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">CPU</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> EnhancedCPUGridLayer
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></li></ul><h4 style="position:relative" id="deprecations-2" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#deprecations-2" aria-label="deprecations 2 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deprecations</h4><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getColor</code> props in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ColumnLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">H3HexagonLayer</code> are deprecated. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getLineColor</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getFillColor</code> instead.</li></ul><h2 style="position:relative" id="upgrading-from-deckgl-v64-to-v70" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v64-to-v70" aria-label="upgrading from deckgl v64 to v70 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v6.4 to v7.0</h2><h4 style="position:relative" id="submodule-structure-and-dependency-changes" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#submodule-structure-and-dependency-changes" aria-label="submodule structure and dependency changes permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Submodule Structure and Dependency Changes</h4><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/core</code> is moved from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">dependencies</code> to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">devDependencies</code> for all submodules. This will reduce the runtime error caused by installing multiple copies of the core.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">The master module <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">deck.gl</code> now include all submodules except <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/test-utils</code>. See <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/get-started/getting-started#selectively-install-dependencies">list of submodules</a> for details.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ContourLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GridLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">HexagonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ScreenGridLayer</code> are moved from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/layers</code> to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/aggregation-layers</code>. No action is required if you are importing them from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">deck.gl</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/experimental-layers</code> is deprecated. Experimental layers will be exported from their respective modules with a <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_</code> prefix.<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">BitmapLayer</code> is moved to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/layers</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">MeshLayer</code> is renamed to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">SimpleMeshLayer</code> and moved to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/mesh-layers</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TileLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TripsLayer</code> are moved to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/geo-layers</code>.</li></ul></li></ul><h4 style="position:relative" id="deck-class" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#deck-class" aria-label="deck class permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deck Class</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Breaking Changes:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onLayerHover</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onLayerClick</code> props are replaced with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onHover</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onClick</code>. The first argument passed to the callback will always be a valid <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/developer-guide/interactivity#the-picking-info-object">picking info</a> object, and the second argument is the pointer event. This change makes these two events behave consistently with other event callbacks.</li></ul><h4 style="position:relative" id="layers-3" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#layers-3" aria-label="layers 3 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layers</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Deprecations:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ArcLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LineLayer</code>&#x27;s <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getStrokeWidth</code> props are deprecated. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getWidth</code> instead.</li></ul><p class="typography__P-sc-1pmaksm-8 cncNYa">Breaking Changes:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">HexagonCellLayer</code> is removed. Use <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/layers/column-layer">ColumnLayer</a> with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">diskResolution: 6</code> instead.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">A bug in projecting elevation was fixed in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">HexagonLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GridLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GridCellLayer</code>. The resulting heights of extruded grids/hexagons have changed. You may adjust them to match previous behavior by tweaking <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">elevationScale</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">The following former experimental layers&#x27; APIs are redesigned as they graduate to official layers. Refer to their documentations for details:<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/layers/column-layer">BitmapLayer</a></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/mesh-layers/simple-mesh-layer">SimpleMeshLayer</a></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/geo-layers/tile-layer">TileLayer</a></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/geo-layers/trips-layer">TripsLayer</a></li></ul></li></ul><h4 style="position:relative" id="lighting" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#lighting" aria-label="lighting permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lighting</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">The old experimental prop <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">lightSettings</code> in many 3D layers is no longer supported. The new and improved settings are split into two places: a <a href="https://github.com/visgl/luma.gl/tree/master/docs/api-reference/core/materials" class="typography__A-sc-1pmaksm-0 dvhuEd">material</a> prop for each 3D layer and a shared set of lights specified by <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/lighting-effect">LightingEffect</a> with the <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/deck#effects">effects prop of Deck</a>.
Check <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/developer-guide/using-lighting">Using Lighting</a> in developer guide for more details.</p><h4 style="position:relative" id="views" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#views" aria-label="views permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Views</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">v7.0 includes major bug fixes for <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/orbit-view">OrbitView</a> and <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/orthographic-view">OrthographicView</a>. Their APIs are also changed for better clarity and consistency.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">Breaking Changes:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">View state: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">zoom</code> is now logarithmic in all <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">View</code> classes. <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">zoom: 0</code> maps one unit in world space to one pixel in screen space.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">View state: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">minZoom</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">maxZoom</code> now default to no limit.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">View state: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">offset</code> (pixel-shift of the viewport center) is removed, use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">target</code> (world position <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">[x, y, z]</code> of the viewport center) instead.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Constructor prop: added <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">target</code> to specify the viewport center in world position.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">OrthographicView</code>&#x27;s constructor props <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">left</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">right</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">top</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">bottom</code> are removed. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">target</code> to specify viewport center.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">OrbitView</code>&#x27;s constructor prop <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">distance</code> and static method <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getDistance</code> are removed. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">fovy</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">zoom</code> instead.</li></ul><h4 style="position:relative" id="project-shader-module" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#project-shader-module" aria-label="project shader module permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>project Shader Module</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Deprecations:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_scale</code> -&gt; <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_size</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_to_clipspace</code> -&gt; <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_common_position_to_clipspace</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_to_clipspace_fp64</code> -&gt; <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_common_position_to_clipspace_fp64</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_pixel_to_clipspace</code> -&gt; <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_pixel_size_to_clipspace</code></li></ul><h4 style="position:relative" id="react-1" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#react-1" aria-label="react 1 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">If you are using DeckGL with react-map-gl, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/react@^7.0.0</code> no longer works with react-map-gl v3.x.</p><h2 style="position:relative" id="upgrading-from-deckgl-v63-to-v64" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v63-to-v64" aria-label="upgrading from deckgl v63 to v64 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v6.3 to v6.4</h2><h4 style="position:relative" id="orthographicview" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#orthographicview" aria-label="orthographicview permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OrthographicView</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">The experimental <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">OrthographicView</code> class has the following breaking changes:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">zoom</code> is reversed (larger value means zooming in) and switched to logarithmic scale.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Changed view state defaults:<ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">zoom</code> - <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">1</code> -&gt; <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">0</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">offset</code> - <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">[0, 1]</code> -&gt; <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">[0, 0]</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">minZoom</code> - <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">0.1</code> -&gt; <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">-10</code></li></ul></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">eye</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">lookAt</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">up</code> are now set in the  <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">OrthographicView</code> constructor instead of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">viewState</code>.</li></ul><h4 style="position:relative" id="scatterplotlayer" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#scatterplotlayer" aria-label="scatterplotlayer permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ScatterplotLayer</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Deprecations:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">outline</code> is deprecated: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">stroked</code> instead.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">strokeWidth</code> is deprecated: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getLineWidth</code> instead. Note that while <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">strokeWidth</code> is in pixels, line width is now specified in meters. The old appearance can be achieved by using <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">lineWidthMinPixels</code> and/or <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">lineWidthMaxPixels</code>.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getColor</code> is deprecated: use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getFillColor</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getLineColor</code> instead.</li></ul><p class="typography__P-sc-1pmaksm-8 cncNYa">Breaking changes:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">outline</code> / <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">stroked</code> no longer turns off fill. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">filled: false</code> instead.</li></ul><h4 style="position:relative" id="geojsonlayer" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#geojsonlayer" aria-label="geojsonlayer permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GeoJsonLayer</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Breaking changes:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">stroked</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getLineWidth</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getLineColor</code> props now apply to point features (rendered with a ScatterplotLayer) in addition to polygon features. To revert to the old appearance, supply a <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">_subLayerProps</code> override:</li></ul><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token keyword">new</span> <span class="token class-name">GeoJsonLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...other props</span>
  stroked<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  _subLayerProps<span class="token operator">:</span> <span class="token punctuation">{</span>
    points<span class="token operator">:</span> <span class="token punctuation">{</span>stroked<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><h2 style="position:relative" id="upgrading-from-deckgl-v62-to-v63" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v62-to-v63" aria-label="upgrading from deckgl v62 to v63 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v6.2 to v6.3</h2><h4 style="position:relative" id="gridlayer-and-hexagonlayer" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#gridlayer-and-hexagonlayer" aria-label="gridlayer and hexagonlayer permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GridLayer and HexagonLayer</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Shallow changes in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getColorValue</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getElevationValue</code> props are now ignored by default. To trigger an update, use the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">updateTriggers</code> prop. This new behavior is aligned with other core layers and improves runtime performance.</p><h4 style="position:relative" id="prop-types-in-custom-layers" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#prop-types-in-custom-layers" aria-label="prop types in custom layers permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prop Types in Custom Layers</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Although the <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/developer-guide/custom-layers/prop-types">prop types system</a> is largely backward-compatible, it is possible that some custom layers may stop updating when a certain prop changes. This is because the automatically deduced prop type from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">defaultProps</code> does not match its desired usage. Switch to explicit descriptors will fix the issue, e.g. from:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js">MyLayer<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  prop<span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">To:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js">MyLayer<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  prop<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">&#x27;number&#x27;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> min<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div><h2 style="position:relative" id="upgrading-from-deckgl-v61-to-v62" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v61-to-v62" aria-label="upgrading from deckgl v61 to v62 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v6.1 to v6.2</h2><h4 style="position:relative" id="fp64" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#fp64" aria-label="fp64 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fp64</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">The default coordinate system <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">COORDINATE_SYSTEM.LNGLAT</code> is upgraded to offer high-precision results in a way that is much faster and more cross-platform compatible. The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">fp64</code> layer prop is ignored when using this new coordinate system. You can get the old fp64 mode back by using <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">coordinateSystem: COORDINATE_SYSTEM.LNGLAT_DEPRECATED</code> with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">fp64: true</code>.</p><h2 style="position:relative" id="upgrading-from-deckgl-v53-to-v60" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v53-to-v60" aria-label="upgrading from deckgl v53 to v60 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v5.3 to v6.0</h2><h4 style="position:relative" id="lumagl-v60" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#lumagl-v60" aria-label="lumagl v60 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>luma.gl v6.0</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">deck.gl v6.0 brings in luma.gl v6.0 which is a major release with a few breaking changes. The change that is most likely to affect deck.gl applications is probably that the way the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GL</code> constant is imported has changed. For details, see to the luma.gl <a href="https://luma.gl/docs/overview/upgrade-guide" class="typography__A-sc-1pmaksm-0 dvhuEd">Upgrade Guide</a>.</p><h4 style="position:relative" id="pixel-sizes" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#pixel-sizes" aria-label="pixel sizes permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pixel sizes</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Pixel sizes in line, icon and text layers now match their HTML/SVG counterparts. To achieve the same rendering output as v5, you should use half the previous value in the following props:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ArcLayer.getStrokeWidth</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LineLayer.getStrokeWidth</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">IconLayer.getSize</code> or <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">IconLayer.sizeScale</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TextLayer.getSize</code> or <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">TextLayer.sizeScale</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PointCloudLayer.radiusPixels</code></li></ul><h4 style="position:relative" id="accessors" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#accessors" aria-label="accessors permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Accessors</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">All layer accessors that support constant values have had their default values changed to constants. For example, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ScatterplotLayer</code>&#x27;s default <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getRadius</code> prop is changed from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">d =&gt; d.radius || 1</code> to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">1</code>. All dynamic attributes now must be explicitly specified. This change makes sure that using default values results in best performance.</p><h4 style="position:relative" id="views-and-controllers" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#views-and-controllers" aria-label="views and controllers permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Views and Controllers</h4><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">(React only) Viewport constraint props: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">maxZoom</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">minZoom</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">maxPitch</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">minPitch</code> are no longer supported by the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL</code> component. They must be specified as part of the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">viewState</code> object.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">(React only) <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ViewportController</code> React component has been removed. The functionality is now built in to the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Deck</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL</code> classes.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Deck.onViewportChange(viewport)</code> etc callbacks are no longer supported. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Deck.onViewStateChange({viewState})</code></li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL.viewport</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL.viewports</code> props are no longer supported. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL.views</code>.</li></ul><h4 style="position:relative" id="screengridlayer" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#screengridlayer" aria-label="screengridlayer permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ScreenGridLayer</h4><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">minColor</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">maxColor</code> props are deprecated. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">colorRange</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">colorDomain</code> props.</p><h4 style="position:relative" id="shader-modules-1" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#shader-modules-1" aria-label="shader modules 1 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shader Modules</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Some previously deprecated <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">project_</code> module GLSL functions have now been removed.</p><h4 style="position:relative" id="attribute" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#attribute" aria-label="attribute permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attribute</h4><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">isGeneric</code> field of attribute object returned by <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">AttributeManager</code>&#x27;s update callbacks is replaced by <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">constant</code>. For more details check <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/core/attribute-manager"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">attribute manager</code></a>.</p><h2 style="position:relative" id="upgrading-from-deckgl-v52-to-v53" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v52-to-v53" aria-label="upgrading from deckgl v52 to v53 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v5.2 to v5.3</h2><h3 style="position:relative" id="viewport-classes" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#viewport-classes" aria-label="viewport classes permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Viewport classes</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">Continuing the changes that started in 5.2: while the base <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Viewport</code> class will remain supported, the various <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Viewport</code> subclasses are now deprecated. For now, if for projection purposes you need to create a <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Viewport</code> instance matching one of your <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">View</code> instances you can use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">View.makeViewport</code>:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token keyword">new</span> <span class="token class-name">MapView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">makeViewport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> viewState<span class="token operator">:</span> <span class="token punctuation">{</span>longitude<span class="token punctuation">,</span> latitude<span class="token punctuation">,</span> zoom<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><h3 style="position:relative" id="layer-properties" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#layer-properties" aria-label="layer properties permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layer properties</h3><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Layer</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Removed Prop</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">New Prop</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Comment</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ArcLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">strokeWidth</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getStrokeWidth</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Can be set to constant value</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LineLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">strokeWidth</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">getStrokeWidth</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Can be set to constant value</td></tr></tbody></table><h3 style="position:relative" id="pure-js-applications" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#pure-js-applications" aria-label="pure js applications permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pure JS applications</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">Core layers are broken out from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/core</code> to a new submodule <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text"> @deck.gl/layers</code>. Non-React users of deck.gl should now install both submodules:</p><div class="gatsby-highlight" data-language="bash"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-bash"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-bash"><span class="token function">npm</span> <span class="token function">install</span> @deck.gl/core @deck.gl/layers</code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">And import layers from the new submodule instead of core:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>ScatterplotLayer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@deck.gl/layers&#x27;</span><span class="token punctuation">;</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">Users of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">deck.gl</code> are not affected by this change.</p><h2 style="position:relative" id="upgrading-from-deckgl-v51-to-v52" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v51-to-v52" aria-label="upgrading from deckgl v51 to v52 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v5.1 to v5.2</h2><h3 style="position:relative" id="deckgl-component" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#deckgl-component" aria-label="deckgl component permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DeckGL component</h3><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL.viewports</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL.viewport</code> are deprecated and should be replaced with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL.views</code>.</li></ul><h3 style="position:relative" id="viewport-classes-1" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#viewport-classes-1" aria-label="viewport classes 1 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Viewport classes</h3><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">A number of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Viewport</code> subclasses have been deprecated. They should be replaced with their <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">View</code> counterparts.</li></ul><h3 style="position:relative" id="experimental-features" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#experimental-features" aria-label="experimental features permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Experimental Features</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">Some experimental exports have been removed:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">The experimental React controller components (<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">MapController</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">OrbitController</code>) have been removed. These are now replaced with JavaScript classes that can be used with the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Deck.controller</code> / <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL.controller</code> property.</li></ul><h2 style="position:relative" id="upgrading-from-deckgl-v5-to-v51" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v5-to-v51" aria-label="upgrading from deckgl v5 to v51 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v5 to v5.1</h2><p class="typography__P-sc-1pmaksm-8 cncNYa">N/A</p><h2 style="position:relative" id="upgrading-from-deckgl-v41-to-v5" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v41-to-v5" aria-label="upgrading from deckgl v41 to v5 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v4.1 to v5</h2><h3 style="position:relative" id="dependencies" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#dependencies" aria-label="dependencies permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dependencies</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">deck.gl 4.1 requires luma.gl as peer dependency, but 5.0 specifies it as a normal &quot;dependency&quot;. This means that many applications no longer need to list luma.gl in their package.json. Applications that do might get multiple copies of luma.gl installed, which will not work. <strong>luma.gl will detect this situation during run-time throwing an exception</strong>, but <strong>npm and yarn will not detect it during install time</strong>. Thus your build can look successful during upgrade but fail during runtime.</p><h3 style="position:relative" id="layer-props" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#layer-props" aria-label="layer props permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layer Props</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">Coordinate system related props have been renamed for clarity. The old props are no longer supported and will generate errors when used.</p><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Layer</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Removed Prop</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">New Prop</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Comment</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Layer</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">projectionMode</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">coordinateSystem</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Any constant from <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">COORDINATE_SYSTEM</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Layer</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">projectionOrigin</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">coordinateOrigin</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">[lng, lat]</td></tr></tbody></table><p class="typography__P-sc-1pmaksm-8 cncNYa">Note; There is also an important semantical change in that using <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">coordinateSystem</code> instead of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">projectionMode</code> causes the superimposed <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">METER_OFFSET</code> system&#x27;s y-axis to point north instead of south. This was always the intention so in some sense this was regarded as a bug fix.</p><h3 style="position:relative" id="deckgl-component-1" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#deckgl-component-1" aria-label="deckgl component 1 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DeckGL component</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">Following methods and props have been renamed for clarity. The semantics are unchanged. The old props are still available but will generate a deprecation warning.</p><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Old Method</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">New Method</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Comment</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">queryObject</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">pickObject</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">These names were previously aligned with react-map-gl, but ended up confusing users. Since rest of the deck.gl documentation talks extensively about &quot;picking&quot; it made sense to stay with that terminology.</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">queryVisibleObjects</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">pickObjects</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">The word &quot;visible&quot; was intended to remind the user that this function only selects the objects that are actually visible in at least one pixel, but again it confused more than it helped.</td></tr></tbody></table><h3 style="position:relative" id="removed-picking-uniforms" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#removed-picking-uniforms" aria-label="removed picking uniforms permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removed picking Uniforms</h3><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Removed uniform</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Comment</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">renderPickingBuffer</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><a href="https://github.com/visgl/luma.gl/tree/5.0-release/src/shadertools/modules/picking" class="typography__A-sc-1pmaksm-0 dvhuEd">picking shader module</a></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">pickingEnabled</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><a href="https://github.com/visgl/luma.gl/tree/5.0-release/src/shadertools/modules/picking" class="typography__A-sc-1pmaksm-0 dvhuEd">picking shader module</a></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">selectedPickingColor</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><a href="https://github.com/visgl/luma.gl/tree/5.0-release/src/shadertools/modules/picking" class="typography__A-sc-1pmaksm-0 dvhuEd">picking shader module</a></td></tr></tbody></table><p class="typography__P-sc-1pmaksm-8 cncNYa">The shader uniforms are used for implementing picking in custom shaders, these uniforms are no longer set by the deck.gl. Custom shaders can now use luma.gl <a href="https://github.com/visgl/luma.gl/tree/5.0-release/src/shadertools/modules/picking" class="typography__A-sc-1pmaksm-0 dvhuEd">picking shader module</a>.</p><h3 style="position:relative" id="initial-webgl-state" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#initial-webgl-state" aria-label="initial webgl state permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Initial WebGL State</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">Following WebGL parameters are set during DeckGL component initialization.</p><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">WebGL State</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Value</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">depthTest</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">true</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">depthFunc</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">gl.LEQUAL</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">blendFuncSeparate</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">[gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA]</td></tr></tbody></table><p class="typography__P-sc-1pmaksm-8 cncNYa">All our layers enable depth test so we are going set this state during initialization. We are also changing blend function for more appropriate rendering when multiple elements are blended.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">For any custom needs, these parameters can be overwritten by updating them in <a class="typography__GatsbyA-sc-1pmaksm-1 dMoEUD" href="/deck.gl/docs/api-reference/react/deckgl#onWebGLInitialized"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">onWebGLInitialized</code></a> callback or by passing them in <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">parameters</code> object to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">drawLayer</code> method of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Layer</code> class.</p><h3 style="position:relative" id="assembleshaders" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#assembleshaders" aria-label="assembleshaders permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>assembleShaders</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">assembleShaders</code> function was moved to luma.gl in v4.1 and is no longer re-exported from deck.gl. As described in v4.1 upgrade guide please use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Model</code> class instead or import it from luma.gl.</p><h3 style="position:relative" id="removed-immutable-support" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#removed-immutable-support" aria-label="removed immutable support permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removed Immutable support</h3><p class="typography__P-sc-1pmaksm-8 cncNYa"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ScatterplotLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PolygonLayer</code> supported immutable/ES6 containers using <a href="https://github.com/visgl/deck.gl/blob/5.0-release/src/core/utils/get.js" class="typography__A-sc-1pmaksm-0 dvhuEd"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">get</code></a> method, due to performance reasons this support has been dropped.</p><h2 style="position:relative" id="upgrading-from-deckgl-v4-to-v41" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v4-to-v41" aria-label="upgrading from deckgl v4 to v41 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v4 to v4.1</h2><p class="typography__P-sc-1pmaksm-8 cncNYa">deck.gl v4.1 is a backward-compatible release. Most of the functionality and APIs remain unchanged but there are smaller changes that might requires developers&#x27; attention if they <strong>develop custom layers</strong>. Note that applications that are only using the provided layers should not need to make any changes issues.</p><h3 style="position:relative" id="dependencies-1" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#dependencies-1" aria-label="dependencies 1 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dependencies</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">Be aware that deck.gl 4.1 bumps the luma.gl peer dependency from 3.0 to 4.0. There have been instances where this was not detected by the installer during update.</p><h3 style="position:relative" id="layer-life-cycle-optimization" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#layer-life-cycle-optimization" aria-label="layer life cycle optimization permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layer Life Cycle Optimization</h3><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><strong>shouldUpdateState</strong> - deck.gl v4.1 contains additional optimizations of the layer lifecycle and layer diffing algorithms. Most of these changes are completely under the hood but one  visible change is that the default implementation of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Layer.shouldUpdate</code> no longer returns true if only the viewport has changed. This means that layers that need to update state in response to changes in screen space (viewport) will need to redefine <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">shouldUpdate</code>:</li></ul><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js">  <span class="token function">shouldUpdateState</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>changeFlags<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> changeFlags<span class="token punctuation">.</span>somethingChanged<span class="token punctuation">;</span> <span class="token comment">// default is now changeFlags.propsOrDataChanged;</span>
  <span class="token punctuation">}</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">Note that this change has already been done in all the provided deck.gl layers that are screen space based, including the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ScreenGridLayer</code> and the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">HexagonLayer</code>.</p><h3 style="position:relative" id="lumagl-model-class-api-change" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#lumagl-model-class-api-change" aria-label="lumagl code classlanguage textmodelcode class api change permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>luma.gl <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Model</code> class API change</h3><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">deck.gl v4.1 bumps luma.gl to from v3 to v4. This is major release that brings full WebGL2 enablement to deck.gl. This should not affect you if you are mainly using the provided deck.gl layers but if you are writing your own layers using luma.gl classes you may want to look at the upgrade guide of luma.gl.</li></ul><p class="typography__P-sc-1pmaksm-8 cncNYa">The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">gl</code> parameter is provided as a separate argument in luma.gl v4, instead of part of the options object.</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token comment">// luma.gl v4</span>
<span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> <span class="token punctuation">{</span>opts<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// luma.gl v3</span>
<span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span>gl<span class="token punctuation">,</span> <span class="token operator">...</span>opts<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><h3 style="position:relative" id="shader-assembly" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#shader-assembly" aria-label="shader assembly permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shader Assembly</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">Custom layers are <strong>no longer expected</strong> to call <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">assembleShaders</code> directly. Instead, the new <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Model</code> class from luma.gl v4 will take shaders and the modules they are using as parameters and assemble shaders automatically.</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token comment">// luma.gl v4</span>
<span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  vs<span class="token operator">:</span> <span class="token constant">VERTEX_SHADER</span><span class="token punctuation">,</span>
  fs<span class="token operator">:</span> <span class="token constant">FRAGMENT_SHADER</span><span class="token punctuation">,</span>
  modules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;fp64&#x27;</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  shaderCache<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>shaderCache
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// luma.gl v3</span>
<span class="token keyword">const</span> shaders <span class="token operator">=</span> <span class="token function">assembleShaders</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  vs<span class="token operator">:</span> <span class="token constant">VERTEX_SHADER</span><span class="token punctuation">,</span>
  fs<span class="token operator">:</span> <span class="token constant">FRAGMENT_SHADER</span><span class="token punctuation">,</span>
  modules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;fp64&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;project64&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  shaderCache<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>shaderCache
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  gl<span class="token punctuation">,</span>
  vs<span class="token operator">:</span> shaders<span class="token punctuation">.</span>vs<span class="token punctuation">,</span>
  fs<span class="token operator">:</span> shaders<span class="token punctuation">.</span>fs<span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><h3 style="position:relative" id="removed-layers" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#removed-layers" aria-label="removed layers permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removed Layers</h3><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Layer</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Status</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Replacement</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ChoroplethLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Removed</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PolygonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ChoroplethLayer64</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Removed</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PolygonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ExtrudedChoroplethLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Removed</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PolygonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code></td></tr></tbody></table><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">ChoroplethLayer, ChoroplethLayer64, ExtrudedChoroplethLayer</li></ul><p class="typography__P-sc-1pmaksm-8 cncNYa">These set of layers were deprecated in deck.gl v4, and are now removed in v5. You can still get same functionality using more unified, flexible and performant layers:
<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PolygonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code>.</p><h2 style="position:relative" id="upgrading-from-deckgl-v3-to-v4" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#upgrading-from-deckgl-v3-to-v4" aria-label="upgrading from deckgl v3 to v4 permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading from deck.gl v3 to v4</h2><h3 style="position:relative" id="changed-import-the-deckgl-react-component" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#changed-import-the-deckgl-react-component" aria-label="changed import the code classlanguage textdeckglcode react component permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changed Import: The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">DeckGL</code> React component</h3><p class="typography__P-sc-1pmaksm-8 cncNYa">A small but breaking change that will affect all applications is that the &#x27;deck.gl/react&#x27; import is no longer available. As of v4.0, the app is required to import deck.gl as follows:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 fjuJKd language-js"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-js"><span class="token comment">// V4</span>
<span class="token keyword">import</span> DeckGL <span class="token keyword">from</span> <span class="token string">&#x27;deck.gl&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// V3</span>
<span class="token keyword">import</span> DeckGL <span class="token keyword">from</span> <span class="token string">&#x27;deck.gl/react&#x27;</span><span class="token punctuation">;</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 cncNYa">While it would have been preferable to avoid this change, a significant modernization of the deck.gl build process and preparations for &quot;tree-shaking&quot; support combined to make it impractical to keep supporting the old import style.</p><h3 style="position:relative" id="deprecatedremoved-layers" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#deprecatedremoved-layers" aria-label="deprecatedremoved layers permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deprecated/Removed Layers</h3><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Layer</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Status</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Replacement</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ChoroplethLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Deprecated</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PolygonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ChoroplethLayer64</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Deprecated</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PolygonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ExtrudedChoroplethLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Deprecated</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PolygonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">EnhancedChoroplethLayer</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Moved to examples</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code></td></tr></tbody></table><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">ChoroplethLayer, ChoroplethLayer64, ExtrudedChoroplethLayer</li></ul><p class="typography__P-sc-1pmaksm-8 cncNYa">These set of layers are deprecated in deck.gl v4, with their functionality completely substituted by more unified, flexible and performant new layers:
<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>, <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PolygonLayer</code> and <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code>.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">Developers should be able to just supply the same geojson data that are used with <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ChoroplethLayer</code>s to the new <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code>. The props of the <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GeoJsonLayer</code> are a bit different from the old <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">ChoroplethLayer</code>, so proper testing is recommended to achieve satisfactory result.</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">EnhancedChoroplethLayer</li></ul><p class="typography__P-sc-1pmaksm-8 cncNYa">This was a a sample layer in deck.gl v3 and has now been moved to a stand-alone example and is no longer exported from the deck.gl npm module.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">Developers can either copy this layer from the example folder into their application&#x27;s source tree, or consider using the new <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">PathLayer</code> which also handles wide lines albeit in a slightly different way.</p><h3 style="position:relative" id="removed-changed-and-deprecated-layer-properties" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#removed-changed-and-deprecated-layer-properties" aria-label="removed changed and deprecated layer properties permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removed, Changed and Deprecated Layer Properties</h3><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Layer</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Old Prop</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">New Prop</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 gJgcGl">Comment</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Layer</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">dataIterator</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">N/A</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Prop was not functional in v3</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">ScatterplotLayer</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">radius</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">radiusScale</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">Default has changed from 30 to 1</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">ScatterplotLayer</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">drawOutline</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">outline</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">ScreenGridLayer</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">unitWidth</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">cellSizePixels</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE">ScreenGridLayer</td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">unitHeight</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"><code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">cellSizePixels</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 cWOyyE"></td></tr></tbody></table><h4 style="position:relative" id="note-about-strokewidth-props" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#note-about-strokewidth-props" aria-label="note about code classlanguage textstrokewidthcode props permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Note about <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">strokeWidth</code> props</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">All line based layers (<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">LineLayer and </code>ArcLayer<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">and the</code>ScatterplotLayer<code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">in outline mode) now use use shaders to render an exact pixel thickness on lines, instead of using the</code>GL.LINE` drawing mode.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">This particular change was caused by browsers dropping support for this feature (<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=60124" class="typography__A-sc-1pmaksm-0 dvhuEd">Chrome</a> and <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=634506" class="typography__A-sc-1pmaksm-0 dvhuEd">Firefox</a>).</p><p class="typography__P-sc-1pmaksm-8 cncNYa">Also <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">GL.LINE</code> mode rendering always had significant limitations in terms of lack of support for mitering, unreliable support for anti-aliasing and platform dependent line width limits so this should represent an improvement in visual quality and consistency for these layers.</p><h4 style="position:relative" id="removed-prop-layerdataiterator" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#removed-prop-layerdataiterator" aria-label="removed prop code classlanguage textlayerdataiteratorcode permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removed prop: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Layer.dataIterator</code></h4><p class="typography__P-sc-1pmaksm-8 cncNYa">This prop has been removed in deck.gl v4. Note that it was not functioning as documented in deck.gl v3.</p><h4 style="position:relative" id="renamed-props-the-scale-suffix" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#renamed-props-the-scale-suffix" aria-label="renamed props the code classlanguage textscalecode suffix permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Renamed Props: The <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">...Scale</code> suffix</h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Props that have their name end of <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Scale</code> is a set of props that multiply some existing value for all objects in the layers. These props usually correspond to WebGL shader uniforms that &quot;scaling&quot; all values of specific attributes simultaneously.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">For API consistency reasons these have all been renamed with the suffix <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">..Scale</code>. See the property table above.</p><h4 style="position:relative" id="removed-lifecycle-method-layerwillreceiveprops" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#removed-lifecycle-method-layerwillreceiveprops" aria-label="removed lifecycle method code classlanguage textlayerwillreceivepropscode permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removed lifecycle method: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Layer.willReceiveProps</code></h4><p class="typography__P-sc-1pmaksm-8 cncNYa">This lifecycle was deprecated in v3 and is now removed in v4. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">Layer.updateState</code> instead.</p><h4 style="position:relative" id="changes-to-updatetriggers" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#changes-to-updatetriggers" aria-label="changes to code classlanguage textupdatetriggerscode permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changes to <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">updateTriggers</code></h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Update triggers can now be specified by referring to the name of the accessor, instead of the name of the actual WebGL attribute.</p><p class="typography__P-sc-1pmaksm-8 cncNYa">Note that this is supported on all layers supplied by deck.gl v4, but if you are using older layers, they need a small addition to their attribute definitions to specify the name of the accessor.</p><h3 style="position:relative" id="attributemanager-changes" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#attributemanager-changes" aria-label="attributemanager changes permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AttributeManager changes</h3><h4 style="position:relative" id="removed-method-attributemanagersetlogfunctions" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#removed-method-attributemanagersetlogfunctions" aria-label="removed method code classlanguage textattributemanagersetlogfunctionscode permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removed method: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">AttributeManager.setLogFunctions</code></h4><p class="typography__P-sc-1pmaksm-8 cncNYa">Use the new static function <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">AttributeManager.setDefaultLogFunctions</code> to set loggers for all AttributeManagers (i.e. for all layers).</p><h4 style="position:relative" id="removed-method-attributemanageradddynamic" class="typography__H4-sc-1pmaksm-5 dMIfYV"><a href="#removed-method-attributemanageradddynamic" aria-label="removed method code classlanguage textattributemanageradddynamiccode permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removed method: <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">AttributeManager.addDynamic</code></h4><p class="typography__P-sc-1pmaksm-8 cncNYa">This method has been deprecated since version 2.5 and is now removed in v4. Use <code class="typography__InlineCode-sc-1pmaksm-12 gicMXt language-text">AttributeManager.add()</code> instead.</p></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/docs/upgrade-guide";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-6301654cce334657e45f.js"],"app":["/app-b684684db8b35b196508.js"],"component---node-modules-gatsby-theme-ocular-src-react-templates-documentation-jsx":["/component---node-modules-gatsby-theme-ocular-src-react-templates-documentation-jsx-b5c6fcc0e706ecb665be.js"],"component---node-modules-gatsby-theme-ocular-src-react-templates-examples-jsx":["/component---node-modules-gatsby-theme-ocular-src-react-templates-examples-jsx-90990f3b8f90e0c4e8c0.js"],"component---node-modules-gatsby-theme-ocular-src-react-templates-search-jsx":["/component---node-modules-gatsby-theme-ocular-src-react-templates-search-jsx-176f4bc0dc86940d1fef.js"],"component---src-examples-arc-layer-js":["/component---src-examples-arc-layer-js-4ea2b96eccef5398f6b2.js"],"component---src-examples-arcgis-js":["/component---src-examples-arcgis-js-8897fb8c3d691983e329.js"],"component---src-examples-brushing-extension-js":["/component---src-examples-brushing-extension-js-53fe6446c786b243696d.js"],"component---src-examples-carto-js":["/component---src-examples-carto-js-d19014fee3b9b7d03c55.js"],"component---src-examples-contour-layer-js":["/component---src-examples-contour-layer-js-c263cb9b7959c5d0b801.js"],"component---src-examples-data-filter-extension-js":["/component---src-examples-data-filter-extension-js-bf77ae8564eff2f5bfde.js"],"component---src-examples-first-person-view-js":["/component---src-examples-first-person-view-js-b92615ccb2c33486058e.js"],"component---src-examples-geojson-layer-paths-js":["/component---src-examples-geojson-layer-paths-js-a25b46b19295e5f5bb4f.js"],"component---src-examples-geojson-layer-polygons-js":["/component---src-examples-geojson-layer-polygons-js-c823f9741e14711c5c83.js"],"component---src-examples-globe-view-js":["/component---src-examples-globe-view-js-feebe424d884ec657733.js"],"component---src-examples-google-maps-js":["/component---src-examples-google-maps-js-c523b6020e6663950de6.js"],"component---src-examples-heatmap-layer-js":["/component---src-examples-heatmap-layer-js-0785b5730873dcb73500.js"],"component---src-examples-hexagon-layer-js":["/component---src-examples-hexagon-layer-js-3e97e875557dae55e3d9.js"],"component---src-examples-icon-layer-js":["/component---src-examples-icon-layer-js-1e543fd5c08056aa3d11.js"],"component---src-examples-line-layer-js":["/component---src-examples-line-layer-js-bc07abb5fafd9e4fa5bc.js"],"component---src-examples-mapbox-js":["/component---src-examples-mapbox-js-542e63b8682efaac56fc.js"],"component---src-examples-multi-view-js":["/component---src-examples-multi-view-js-e661a357d36629040259.js"],"component---src-examples-orthographic-view-js":["/component---src-examples-orthographic-view-js-c9beb6f3701007a9d4b5.js"],"component---src-examples-plot-js":["/component---src-examples-plot-js-8cf8e2d3a2d4d632dbe8.js"],"component---src-examples-point-cloud-layer-js":["/component---src-examples-point-cloud-layer-js-1cd291990f5b1215d7f8.js"],"component---src-examples-scatterplot-layer-js":["/component---src-examples-scatterplot-layer-js-5b947122dc252babc120.js"],"component---src-examples-scenegraph-layer-js":["/component---src-examples-scenegraph-layer-js-cbb0b6cbc92c38a35475.js"],"component---src-examples-screen-grid-layer-js":["/component---src-examples-screen-grid-layer-js-ed7678dc370024930759.js"],"component---src-examples-terrain-layer-js":["/component---src-examples-terrain-layer-js-12bccf54fe523743bd56.js"],"component---src-examples-text-layer-js":["/component---src-examples-text-layer-js-aaf180de313e3ab87c95.js"],"component---src-examples-tile-3-d-layer-js":["/component---src-examples-tile-3-d-layer-js-ecf758deae00f241404d.js"],"component---src-examples-tile-layer-js":["/component---src-examples-tile-layer-js-ec1b42d31a6436cc383c.js"],"component---src-examples-tile-layer-non-geospatial-js":["/component---src-examples-tile-layer-non-geospatial-js-1431abfcfb85312f0e09.js"],"component---src-examples-trips-layer-js":["/component---src-examples-trips-layer-js-5c1f76206dc24196a69f.js"],"component---src-index-js":["/component---src-index-js-4f521a3b7d24d0238506.js"],"component---src-showcase-js":["/component---src-showcase-js-928215bc2809e288ae42.js"]};/*]]>*/</script><script src="/deck.gl/polyfill-6301654cce334657e45f.js" nomodule=""></script><script src="/deck.gl/component---node-modules-gatsby-theme-ocular-src-react-templates-documentation-jsx-b5c6fcc0e706ecb665be.js" async=""></script><script src="/deck.gl/app-b684684db8b35b196508.js" async=""></script><script src="/deck.gl/fe95a7ce-e5e2949357402d5273d1.js" async=""></script><script src="/deck.gl/2d7ef48f-f748d0e17429148f6483.js" async=""></script><script src="/deck.gl/framework-a5153769f2c95affa126.js" async=""></script><script src="/deck.gl/webpack-runtime-b383bf68ee9daae06629.js" async=""></script></body></html>