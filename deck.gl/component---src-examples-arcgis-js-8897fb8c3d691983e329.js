/*! For license information please see component---src-examples-arcgis-js-8897fb8c3d691983e329.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{12:function(t,e){},"49sm":function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},"7ZmC":function(t,e,r){var n=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(w){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof l?e:l,o=Object.create(i.prototype),a=new R(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return O()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=E(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(w){return{type:"throw",arg:w}}}t.wrap=s;var f={};function l(){}function h(){}function d(){}var _={};_[i]=function(){return this};var p=Object.getPrototypeOf,y=p&&p(p(A([])));y&&y!==e&&r.call(y,i)&&(_=y);var v=d.prototype=l.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,o){function a(){return new e((function(n,a){!function n(i,o,a,u){var s=c(t[i],t,o);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function g(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function A(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=v.constructor=d,d.constructor=h,h.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},S(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(s(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(v),u(v,a,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=A,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(g),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),g(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;g(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},H7XF:function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=c(t),a=n[0],u=n[1],s=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,u)),f=0,l=u>0?a-4:a;for(r=0;r<l;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=255&e;2===u&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,s[f++]=255&e);1===u&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,s[f++]=e>>8&255,s[f++]=255&e);return s},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=0,u=r-i;a<u;a+=16383)o.push(f(t,a,a+16383>u?u:a+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)n[u]=a[u],i[a.charCodeAt(u)]=u;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,r){for(var i,o,a=[],u=e;u<r;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HDXh:function(t,e,r){"use strict";(function(t){var n=r("H7XF"),i=r("kVK+"),o=r("49sm");function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=h(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|_(e,r),i=(t=u(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(s.isBuffer(e)){var r=0|d(e.length);return 0===(t=u(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?u(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=u(t,e<0?0:0|d(e)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|d(e.length);t=u(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function _(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(t).length;default:if(n)return H(t).length;e=(""+e).toLowerCase(),n=!0}}function p(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return w(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return O(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:S(t,e,r,n,i);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):S(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function S(t,e,r,n,i){var o,a=1,u=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var f=-1;for(o=r;o<u;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+s>u&&(r=u-s),o=r;o>=0;o--){for(var l=!0,h=0;h<s;h++)if(c(t,o+h)!==c(e,h)){l=!1;break}if(l)return o}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[r+a]=u}return a}function E(t,e,r,n){return F(H(e,t.length-r),t,r,n)}function m(t,e,r,n){return F(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function g(t,e,r,n){return m(t,e,r,n)}function R(t,e,r,n){return F(N(e),t,r,n)}function A(t,e,r,n){return F(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function O(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function w(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,u,s,c=t[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=t[i+1],a=t[i+2],u=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,r){return c(null,t,e,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?u(t,e):void 0!==r?"string"==typeof n?u(t,e).fill(r,n):u(t,e).fill(r):u(t,e)}(null,t,e,r)},s.allocUnsafe=function(t){return l(null,t)},s.allocUnsafeSlow=function(t){return l(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=s.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},s.byteLength=_,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?w(this,0,t):p.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,r,n,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),u=Math.min(o,a),c=this.slice(n,i),f=t.slice(e,r),l=0;l<u;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return g(this,t,e,r);case"base64":return R(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function C(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function P(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=k(t[o]);return i}function D(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function x(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,r,n,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function I(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function B(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function G(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,o){return o||G(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,o){return o||G(t,0,r,8),i.write(t,e,r,n,52,8),r+8}s.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=s.prototype;else{var i=e-t;r=new s(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},s.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},s.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},s.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),i.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),i.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),i.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),i.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||M(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||M(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);M(this,t,e,r,i-1,-i)}var o=0,a=1,u=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);M(this,t,e,r,i-1,-i)}var o=r-1,a=1,u=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=s.isBuffer(t)?t:H(new s(t,n).toString()),u=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%u]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function k(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function N(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r("yLpj"))},YqI2:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return v}));var n=r("vuIU"),i=r("1OyB");new Uint8Array([0]);var o,a,u,s,c,f,l,h,d=[171,75,84,88,32,50,48,187,13,10,26,10];!function(t){t[t.NONE=0]="NONE",t[t.BASISLZ=1]="BASISLZ",t[t.ZSTD=2]="ZSTD",t[t.ZLIB=3]="ZLIB"}(o||(o={})),function(t){t[t.BASICFORMAT=0]="BASICFORMAT"}(a||(a={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ETC1S=163]="ETC1S",t[t.UASTC=166]="UASTC"}(u||(u={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SRGB=1]="SRGB"}(s||(s={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.LINEAR=1]="LINEAR",t[t.SRGB=2]="SRGB",t[t.ITU=3]="ITU",t[t.NTSC=4]="NTSC",t[t.SLOG=5]="SLOG",t[t.SLOG2=6]="SLOG2"}(c||(c={})),function(t){t[t.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",t[t.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(f||(f={})),function(t){t[t.RGB=0]="RGB",t[t.RRR=3]="RRR",t[t.GGG=4]="GGG",t[t.AAA=15]="AAA"}(l||(l={})),function(t){t[t.RGB=0]="RGB",t[t.RGBA=3]="RGBA",t[t.RRR=4]="RRR",t[t.RRRG=5]="RRRG"}(h||(h={}));var _=function t(){Object(i.a)(this,t),this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=o.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:a.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:u.UNSPECIFIED,colorPrimaries:s.SRGB,transferFunction:s.SRGB,flags:f.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null},p=function(){function t(e,r,n,o){Object(i.a)(this,t),this._dataView=new DataView(e.buffer,e.byteOffset+r,n),this._littleEndian=o,this._offset=0}return Object(n.a)(t,[{key:"_nextUint8",value:function(){var t=this._dataView.getUint8(this._offset);return this._offset+=1,t}},{key:"_nextUint16",value:function(){var t=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,t}},{key:"_nextUint32",value:function(){var t=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,t}},{key:"_nextUint64",value:function(){var t=this._dataView.getUint32(this._offset,this._littleEndian)+Math.pow(2,32)*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,t}},{key:"_skip",value:function(t){return this._offset+=t,this}},{key:"_scan",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this._offset,n=0;this._dataView.getUint8(this._offset)!==e&&n<t;)n++,this._offset++;return n<t&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,n)}}]),t}();function y(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):t.from(e).toString("utf8")}function v(t){var e=new Uint8Array(t.buffer,t.byteOffset,d.length);if(e[0]!==d[0]||e[1]!==d[1]||e[2]!==d[2]||e[3]!==d[3]||e[4]!==d[4]||e[5]!==d[5]||e[6]!==d[6]||e[7]!==d[7]||e[8]!==d[8]||e[9]!==d[9]||e[10]!==d[10]||e[11]!==d[11])throw new Error("Missing KTX 2.0 identifier.");var r=new _,n=17*Uint32Array.BYTES_PER_ELEMENT,i=new p(t,d.length,n,!0);r.vkFormat=i._nextUint32(),r.typeSize=i._nextUint32(),r.pixelWidth=i._nextUint32(),r.pixelHeight=i._nextUint32(),r.pixelDepth=i._nextUint32(),r.layerCount=i._nextUint32(),r.faceCount=i._nextUint32();var o=i._nextUint32();r.supercompressionScheme=i._nextUint32();for(var a=i._nextUint32(),u=i._nextUint32(),s=i._nextUint32(),c=i._nextUint32(),f=i._nextUint64(),l=i._nextUint64(),h=new p(t,d.length+n,3*o*8,!0),v=0;v<o;v++)r.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+h._nextUint64(),h._nextUint64()),uncompressedByteLength:h._nextUint64()});for(var S=new p(t,a,u,!0),b={vendorId:S._skip(4)._nextUint16(),descriptorType:S._nextUint16(),versionNumber:S._nextUint16(),descriptorBlockSize:S._nextUint16(),colorModel:S._nextUint8(),colorPrimaries:S._nextUint8(),transferFunction:S._nextUint8(),flags:S._nextUint8(),texelBlockDimension:{x:S._nextUint8()+1,y:S._nextUint8()+1,z:S._nextUint8()+1,w:S._nextUint8()+1},bytesPlane:[S._nextUint8(),S._nextUint8(),S._nextUint8(),S._nextUint8(),S._nextUint8(),S._nextUint8(),S._nextUint8(),S._nextUint8()],samples:[]},E=(b.descriptorBlockSize/4-6)/4,m=0;m<E;m++)b.samples[m]={bitOffset:S._nextUint16(),bitLength:S._nextUint8(),channelID:S._nextUint8(),samplePosition:[S._nextUint8(),S._nextUint8(),S._nextUint8(),S._nextUint8()],sampleLower:S._nextUint32(),sampleUpper:S._nextUint32()};r.dataFormatDescriptor.length=0,r.dataFormatDescriptor.push(b);for(var g=new p(t,s,c,!0);g._offset<c;){var R=g._nextUint32(),A=g._scan(R),O=y(A),w=g._scan(R-A.byteLength);r.keyValue[O]=O.match(/^ktx/i)?y(w):w,R%4&&g._skip(4-R%4)}if(l<=0)return r;for(var T=new p(t,f,l,!0),C=T._nextUint16(),P=T._nextUint16(),D=T._nextUint32(),x=T._nextUint32(),M=T._nextUint32(),I=T._nextUint32(),B=[],G=0;G<o;G++)B.push({imageFlags:T._nextUint32(),rgbSliceByteOffset:T._nextUint32(),rgbSliceByteLength:T._nextUint32(),alphaSliceByteOffset:T._nextUint32(),alphaSliceByteLength:T._nextUint32()});var U=f+T._offset,j=U+D,L=j+x,k=L+M,H=new Uint8Array(t.buffer,t.byteOffset+U,D),N=new Uint8Array(t.buffer,t.byteOffset+j,x),F=new Uint8Array(t.buffer,t.byteOffset+L,M),X=new Uint8Array(t.buffer,t.byteOffset+k,I);return r.globalData={endpointCount:C,selectorCount:P,imageDescs:B,endpointsData:H,selectorsData:N,tablesData:F,extendedData:X},r}}).call(this,r("HDXh").Buffer)},gETK:function(t,e,r){"use strict";(function(t,n){r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return u}));var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document},o=i.global||i.self||i.window||{},a="object"!=typeof n||"[object process]"!==String(n)||n.browser,u="function"==typeof importScripts,s=("undefined"!=typeof window&&window.orientation,void 0!==n&&n.version&&/v([0-9]*)/.exec(n.version));s&&parseFloat(s[1])}).call(this,r("yLpj"),r("8oxB"))},"i+OJ":function(t,e,r){"use strict";r.r(e);var n=r("dI71"),i=r("q1tI"),o=r.n(i),a=r("lxDd"),u=r("o0o1"),s=r.n(u),c=(r("7ZmC"),r("HaE+")),f=r("rePB");r("wcNg");function l(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d={layers:{},layerFilter:{},parameters:{},effects:{},pickingRadius:{},onBeforeRender:{},onAfterRender:{},onClick:{},onHover:{},onDragStart:{},onDrag:{},onDragEnd:{},onError:{},debug:{},drawPickingColors:{},getCursor:{},getTooltip:{}};var _=r("sY70"),p=r("SOuN"),y=r("8nqg"),v=r("oFBv"),S=r("XQ8I");function b(t){var e=this;Object(p.h)(t),this.buffer=new y.a(t,new Int8Array([-1,-1,1,-1,-1,1,1,1])),this.model=new v.a(t,{vs:"\n      attribute vec2 a_pos;\n      varying vec2 v_texcoord;\n      void main(void) {\n          gl_Position = vec4(a_pos, 0.0, 1.0);\n          v_texcoord = (a_pos + 1.0) / 2.0;\n      }\n    ",fs:"\n      precision mediump float;\n      uniform sampler2D u_texture;\n      varying vec2 v_texcoord;\n      void main(void) {\n          vec4 rgba = texture2D(u_texture, v_texcoord);\n          rgba.rgb *= rgba.a;\n          gl_FragColor = rgba;\n      }\n    ",attributes:{a_pos:this.buffer},vertexCount:4,drawMode:t.TRIANGLE_STRIP}),this.deckFbo=new S.a(t,{width:1,height:1}),this.deckInstance=new _.a({viewState:{},controller:!1,gl:t,parameters:{depthTest:!0},_framebuffer:this.deckFbo,width:null,height:null,_customRender:function(t){"arcgis"===t?e.deckInstance._drawLayers(t):e.redraw()}})}function E(t){var e=this,r=t.gl,n=t.width,i=t.height,o=t.viewState,a=r.getParameter(r.FRAMEBUFFER_BINDING),u=window.devicePixelRatio;n=Math.round(n*u),i=Math.round(i*u),this.deckFbo.resize({width:n,height:i}),this.deckInstance.setProps({viewState:o}),this.deckInstance.redraw("arcgis"),Object(p.o)(r,{blend:!0,blendFunc:[r.ONE,r.ONE_MINUS_SRC_ALPHA],framebuffer:a,viewport:[0,0,n,i]},(function(){e.model.setUniforms({u_texture:e.deckFbo}).draw()}))}function m(){var t,e,r,n;null===(t=this.deckInstance)||void 0===t||t.finalize(),this.deckInstance=null,null===(e=this.model)||void 0===e||e.delete(),null===(r=this.buffer)||void 0===r||r.delete(),null===(n=this.deckFbo)||void 0===n||n.delete()}var g=r("iJYz");function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){Object(f.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O=null;function w(t,e){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(s.a.mark((function t(e,r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.isArray(e)?null:e,t.next=3,C(n,r);case 3:if(!Array.isArray(e)){t.next=5;break}return t.abrupt("return",Object(g.loadModules)(e,r).then((function(t){return A(A({},O),{},{modules:t})})));case 5:return t.abrupt("return",O);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t,e){return O||(t?P(t.layers.Layer,t.core.Accessor,t.views["2d"].layers.BaseLayerViewGL2D,t.views["3d"].externalRenderers):Object(g.loadModules)(["esri/layers/Layer","esri/core/Accessor","esri/views/2d/layers/BaseLayerViewGL2D","esri/views/3d/externalRenderers"],e).then((function(t){return P(t[0],t[1],t[2],t[3])})))}function P(t,e,r,n){var i=function(t){return t.createSubclass({properties:d,constructor:function(){var t=this;this._callbacks={},this.watch(Object.keys(d),(function(e,r,n){var i;t.emit("change",((i={})[n]=e,i))}))},on:function(t,e){this._callbacks[t]=this._callbacks[t]||[],this._callbacks[t].push(e)},emit:function(t,e){var r=this._callbacks[t];if(r)for(var n,i=l(r);!(n=i()).done;){(0,n.value)(e)}},toJSON:function(){for(var t,e={},r=l(this.keys());!(t=r()).done;){var n=t.value;void 0!==this[n]&&(e[n]=this[n])}return e}})}(e),o=function(t,e,r){return e.createSubclass({properties:{deck:{},blendMode:{},effect:{}},constructor:function(){this.deck=new t},createLayerView:function(t){return"2d"===t.type?new r({view:t,layer:this}):(console.error("DeckLayer does not support SceneView at the moment. Use DeckRenderer instead."),null)}})}(i,t,function(t){return t.createSubclass({properties:{deckgl:{},deckFbo:{},model:{},buffer:{}},attach:function(){var t=this,e=this.context;b.call(this,e),this.layer.deck.on("change",(function(e){return t.deckInstance.setProps(e)})),this.deckInstance.setProps(this.layer.deck.toJSON())},redraw:function(){this.requestRender()},detach:function(){m.call(this)},render:function(t){var e=this.view.state.size,r=e[0],n=e[1],i=t.state;E.call(this,{gl:t.context,width:r,height:n,viewState:{latitude:this.view.center.latitude,longitude:this.view.center.longitude,zoom:this.view.featuresTilingScheme.scaleToLevel(i.scale),bearing:-i.rotation,pitch:0}})}})}(r)),a=function(t,e){return function(){function r(e,r){this.view=e,this.deck=new t(r)}var n=r.prototype;return n.setup=function(t){var e=this,r=t.gl;b.call(this,r),this.deck.on("change",(function(t){return e.deckInstance.setProps(t)})),this.deckInstance.setProps(this.deck.toJSON())},n.dispose=function(){m.call(this)},n.redraw=function(){e.requestRender(this.view)},n.render=function(t){var e,r,n,i,o=this.view.size,a=o[0],u=o[1];E.call(this,{gl:t.gl,width:a,height:u,viewState:{latitude:this.view.center.latitude,longitude:this.view.center.longitude,altitude:(e=this.view.camera.fov,r=a/u,n=Math.sqrt(1+Math.pow(r,2)),i=e/2/180*Math.PI,n/2/Math.tan(i)),zoom:this.view.zoom,bearing:this.view.camera.heading,pitch:this.view.camera.tilt}})},r}()}(i,n);return O={DeckLayer:o,DeckRenderer:a}}var D=r("49Am"),x=r("KQm4"),M=r("p1p/"),I=r("PC3p"),B=r("SDD5"),G=r("kh/P"),U=r("FlnL"),j=r("kEPd"),L={name:"Draco",id:"draco",module:"draco",version:"3.0.12",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}},k=r("ODXe"),H=r("1OyB"),N=r("vuIU");function F(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,u=t.POSITION?t.POSITION.value:[],s=u&&u.length,c=0;c<s;c+=3){var f=u[c],l=u[c+1],h=u[c+2];e=f<e?f:e,r=l<r?l:r,n=h<n?h:n,i=f>i?f:i,o=l>o?l:o,a=h>a?h:a}return[[e,r,n],[i,o,a]]}function X(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return K(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var z=function(){function t(e,r){Object(H.a)(this,t),Object(f.a)(this,"fields",void 0),Object(f.a)(this,"metadata",void 0),function(t,e){if(!t)throw new Error(e||"loader assertion failed.")}(Array.isArray(e)),function(t){var e,r={},n=X(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;r[i.name]&&console.warn("Schema: duplicated field name",i.name,i),r[i.name]=!0}}catch(o){n.e(o)}finally{n.f()}}(e),this.fields=e,this.metadata=r||new Map}return Object(N.a)(t,[{key:"compareTo",value:function(t){if(this.metadata!==t.metadata)return!1;if(this.fields.length!==t.fields.length)return!1;for(var e=0;e<this.fields.length;++e)if(!this.fields[e].compareTo(t.fields[e]))return!1;return!0}},{key:"select",value:function(){for(var e=Object.create(null),r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var o=0,a=n;o<a.length;o++){var u=a[o];e[u]=!0}var s=this.fields.filter((function(t){return e[t.name]}));return new t(s,this.metadata)}},{key:"selectAt",value:function(){for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n.map((function(t){return e.fields[t]})).filter(Boolean);return new t(o,this.metadata)}},{key:"assign",value:function(e){var r,n=this.metadata;if(e instanceof t){var i=e;r=i.fields,n=Y(Y(new Map,this.metadata),i.metadata)}else r=e;var o,a=Object.create(null),u=X(this.fields);try{for(u.s();!(o=u.n()).done;){var s=o.value;a[s.name]=s}}catch(h){u.e(h)}finally{u.f()}var c,f=X(r);try{for(f.s();!(c=f.n()).done;){var l=c.value;a[l.name]=l}}catch(h){f.e(h)}finally{f.f()}return new t(Object.values(a),n)}}]),t}();function Y(t,e){return new Map([].concat(Object(x.a)(t||new Map),Object(x.a)(e||new Map)))}var V,q,W,Q,J=r("JX7q"),Z=r("Ji7U"),$=r("md7G"),tt=r("foSv");function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(tt.a)(t);if(e){var i=Object(tt.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object($.a)(this,r)}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(V||(V={}));var rt=function(){function t(){Object(H.a)(this,t)}return Object(N.a)(t,[{key:"typeId",get:function(){return V.NONE}},{key:"compareTo",value:function(t){return this===t}}],[{key:"isNull",value:function(t){return t&&t.typeId===V.Null}},{key:"isInt",value:function(t){return t&&t.typeId===V.Int}},{key:"isFloat",value:function(t){return t&&t.typeId===V.Float}},{key:"isBinary",value:function(t){return t&&t.typeId===V.Binary}},{key:"isUtf8",value:function(t){return t&&t.typeId===V.Utf8}},{key:"isBool",value:function(t){return t&&t.typeId===V.Bool}},{key:"isDecimal",value:function(t){return t&&t.typeId===V.Decimal}},{key:"isDate",value:function(t){return t&&t.typeId===V.Date}},{key:"isTime",value:function(t){return t&&t.typeId===V.Time}},{key:"isTimestamp",value:function(t){return t&&t.typeId===V.Timestamp}},{key:"isInterval",value:function(t){return t&&t.typeId===V.Interval}},{key:"isList",value:function(t){return t&&t.typeId===V.List}},{key:"isStruct",value:function(t){return t&&t.typeId===V.Struct}},{key:"isUnion",value:function(t){return t&&t.typeId===V.Union}},{key:"isFixedSizeBinary",value:function(t){return t&&t.typeId===V.FixedSizeBinary}},{key:"isFixedSizeList",value:function(t){return t&&t.typeId===V.FixedSizeList}},{key:"isMap",value:function(t){return t&&t.typeId===V.Map}},{key:"isDictionary",value:function(t){return t&&t.typeId===V.Dictionary}}]),t}();q=Symbol.toStringTag;var nt=function(t){Object(Z.a)(r,t);var e=et(r);function r(t,n){var i;return Object(H.a)(this,r),i=e.call(this),Object(f.a)(Object(J.a)(i),"isSigned",void 0),Object(f.a)(Object(J.a)(i),"bitWidth",void 0),i.isSigned=t,i.bitWidth=n,i}return Object(N.a)(r,[{key:"typeId",get:function(){return V.Int}},{key:q,get:function(){return"Int"}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),r}(rt),it=function(t){Object(Z.a)(r,t);var e=et(r);function r(){return Object(H.a)(this,r),e.call(this,!0,8)}return r}(nt),ot=function(t){Object(Z.a)(r,t);var e=et(r);function r(){return Object(H.a)(this,r),e.call(this,!0,16)}return r}(nt),at=function(t){Object(Z.a)(r,t);var e=et(r);function r(){return Object(H.a)(this,r),e.call(this,!0,32)}return r}(nt),ut=function(t){Object(Z.a)(r,t);var e=et(r);function r(){return Object(H.a)(this,r),e.call(this,!1,8)}return r}(nt),st=function(t){Object(Z.a)(r,t);var e=et(r);function r(){return Object(H.a)(this,r),e.call(this,!1,16)}return r}(nt),ct=function(t){Object(Z.a)(r,t);var e=et(r);function r(){return Object(H.a)(this,r),e.call(this,!1,32)}return r}(nt),ft=32,lt=64;W=Symbol.toStringTag;var ht=function(t){Object(Z.a)(r,t);var e=et(r);function r(t){var n;return Object(H.a)(this,r),n=e.call(this),Object(f.a)(Object(J.a)(n),"precision",void 0),n.precision=t,n}return Object(N.a)(r,[{key:"typeId",get:function(){return V.Float}},{key:W,get:function(){return"Float"}},{key:"toString",value:function(){return"Float".concat(this.precision)}}]),r}(rt),dt=function(t){Object(Z.a)(r,t);var e=et(r);function r(){return Object(H.a)(this,r),e.call(this,ft)}return r}(ht),_t=function(t){Object(Z.a)(r,t);var e=et(r);function r(){return Object(H.a)(this,r),e.call(this,lt)}return r}(ht);Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;Q=Symbol.toStringTag;var pt=function(t){Object(Z.a)(r,t);var e=et(r);function r(t,n){var i;return Object(H.a)(this,r),i=e.call(this),Object(f.a)(Object(J.a)(i),"listSize",void 0),Object(f.a)(Object(J.a)(i),"children",void 0),i.listSize=t,i.children=[n],i}return Object(N.a)(r,[{key:"typeId",get:function(){return V.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:Q,get:function(){return"FixedSizeList"}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),r}(rt);var yt=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;Object(H.a)(this,t),Object(f.a)(this,"name",void 0),Object(f.a)(this,"type",void 0),Object(f.a)(this,"nullable",void 0),Object(f.a)(this,"metadata",void 0),this.name=e,this.type=r,this.nullable=n,this.metadata=i}return Object(N.a)(t,[{key:"typeId",get:function(){return this.type&&this.type.typeId}},{key:"clone",value:function(){return new t(this.name,this.type,this.nullable,this.metadata)}},{key:"compareTo",value:function(t){return this.name===t.name&&this.type===t.type&&this.nullable===t.nullable&&this.metadata===t.metadata}},{key:"toString",value:function(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}]),t}();function vt(t,e,r){var n=bt(e.metadata),i=[],o=function(t){var e={};for(var r in t){var n=t[r];e[n.name||"undefined"]=n}return e}(e.attributes);for(var a in t){var u=St(a,t[a],o[a]);i.push(u)}if(r){var s=St("indices",r);i.push(s)}return new z(i,n)}function St(t,e,r){var n=r?bt(r.metadata):void 0,i=function(t){switch(t.constructor){case Int8Array:return new it;case Uint8Array:return new ut;case Int16Array:return new ot;case Uint16Array:return new st;case Int32Array:return new at;case Uint32Array:return new ct;case Float32Array:return new dt;case Float64Array:return new _t;default:throw new Error("array type not supported")}}(e.value);return new yt(t,new pt(e.size,new yt("value",i)),!1,n)}function bt(t){var e=new Map;for(var r in t)e.set("".concat(r,".string"),JSON.stringify(t[r]));return e}function Et(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(r),!0).forEach((function(e){Object(f.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var At={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},Ot={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},wt=function(){function t(e){Object(H.a)(this,t),Object(f.a)(this,"draco",void 0),Object(f.a)(this,"decoder",void 0),Object(f.a)(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}return Object(N.a)(t,[{key:"destroy",value:function(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}},{key:"parseSync",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new this.draco.DecoderBuffer;r.Init(new Int8Array(t),t.byteLength),this._disableAttributeTransforms(e);var n=this.decoder.GetEncodedGeometryType(r),i=n===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{var o;switch(n){case this.draco.TRIANGULAR_MESH:o=this.decoder.DecodeBufferToMesh(r,i);break;case this.draco.POINT_CLOUD:o=this.decoder.DecodeBufferToPointCloud(r,i);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!o.ok()||!i.ptr){var a="DRACO decompression failed: ".concat(o.error_msg());throw new Error(a)}var u=this._getDracoLoaderData(i,n,e),s=this._getMeshData(i,u,e),c=F(s.attributes),f=vt(s.attributes,u,s.indices),l=Rt(Rt({loader:"draco",loaderData:u,header:{vertexCount:i.num_points(),boundingBox:c}},s),{},{schema:f});return l}finally{this.draco.destroy(r),i&&this.draco.destroy(i)}}},{key:"_getDracoLoaderData",value:function(t,e,r){var n=this._getTopLevelMetadata(t),i=this._getDracoAttributes(t,r);return{geometry_type:e,num_attributes:t.num_attributes(),num_points:t.num_points(),num_faces:t instanceof this.draco.Mesh?t.num_faces():0,metadata:n,attributes:i}}},{key:"_getDracoAttributes",value:function(t,e){for(var r={},n=0;n<t.num_attributes();n++){var i=this.decoder.GetAttribute(t,n),o=this._getAttributeMetadata(t,n);r[i.unique_id()]={unique_id:i.unique_id(),attribute_type:i.attribute_type(),data_type:i.data_type(),num_components:i.num_components(),byte_offset:i.byte_offset(),byte_stride:i.byte_stride(),normalized:i.normalized(),attribute_index:n,metadata:o};var a=this._getQuantizationTransform(i,e);a&&(r[i.unique_id()].quantization_transform=a);var u=this._getOctahedronTransform(i,e);u&&(r[i.unique_id()].octahedron_transform=u)}return r}},{key:"_getMeshData",value:function(t,e,r){var n=this._getMeshAttributes(e,t,r);if(!n.POSITION)throw new Error("DRACO: No position attribute found.");if(t instanceof this.draco.Mesh)switch(r.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:n,indices:{value:this._getTriangleStripIndices(t),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:n,indices:{value:this._getTriangleListIndices(t),size:1}}}return{topology:"point-list",mode:0,attributes:n}}},{key:"_getMeshAttributes",value:function(t,e,r){for(var n={},i=0,o=Object.values(t.attributes);i<o.length;i++){var a=o[i],u=this._deduceAttributeName(a,r);a.name=u;var s=this._getAttributeValues(e,a),c=s.value,f=s.size;n[u]={value:c,size:f,byteOffset:a.byte_offset,byteStride:a.byte_stride,normalized:a.normalized}}return n}},{key:"_getTriangleListIndices",value:function(t){var e=3*t.num_faces(),r=4*e,n=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(t,r,n),new Uint32Array(this.draco.HEAPF32.buffer,n,e).slice()}finally{this.draco._free(n)}}},{key:"_getTriangleStripIndices",value:function(t){var e=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(t,e),function(t){for(var e=t.size(),r=new Int32Array(e),n=0;n<e;n++)r[n]=t.GetValue(n);return r}(e)}finally{this.draco.destroy(e)}}},{key:"_getAttributeValues",value:function(t,e){var r,n=Ot[e.data_type],i=e.num_components,o=t.num_points()*i,a=o*n.BYTES_PER_ELEMENT,u=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32;default:return t.DT_INVALID}}(this.draco,n),s=this.draco._malloc(a);try{var c=this.decoder.GetAttribute(t,e.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(t,c,u,a,s),r=new n(this.draco.HEAPF32.buffer,s,o).slice()}finally{this.draco._free(s)}return{value:r,size:i}}},{key:"_deduceAttributeName",value:function(t,e){for(var r=t.unique_id,n=0,i=Object.entries(e.extraAttributes||{});n<i.length;n++){var o=Object(k.a)(i[n],2),a=o[0];if(o[1]===r)return a}var u=t.attribute_type;for(var s in At){if(this.draco[s]===u)return At[s]}var c=e.attributeNameEntry||"name";return t.metadata[c]?t.metadata[c].string:"CUSTOM_ATTRIBUTE_".concat(r)}},{key:"_getTopLevelMetadata",value:function(t){var e=this.decoder.GetMetadata(t);return this._getDracoMetadata(e)}},{key:"_getAttributeMetadata",value:function(t,e){var r=this.decoder.GetAttributeMetadata(t,e);return this._getDracoMetadata(r)}},{key:"_getDracoMetadata",value:function(t){if(!t||!t.ptr)return{};for(var e={},r=this.metadataQuerier.NumEntries(t),n=0;n<r;n++){var i=this.metadataQuerier.GetEntryName(t,n);e[i]=this._getDracoMetadataField(t,i)}return e}},{key:"_getDracoMetadataField",value:function(t,e){var r=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(t,e,r);var n=function(t){for(var e=t.size(),r=new Int32Array(e),n=0;n<e;n++)r[n]=t.GetValue(n);return r}(r);return{int:this.metadataQuerier.GetIntEntry(t,e),string:this.metadataQuerier.GetStringEntry(t,e),double:this.metadataQuerier.GetDoubleEntry(t,e),intArray:n}}finally{this.draco.destroy(r)}}},{key:"_disableAttributeTransforms",value:function(t){var e,r=t.quantizedAttributes,n=void 0===r?[]:r,i=t.octahedronAttributes,o=void 0===i?[]:i,a=Et([].concat(Object(x.a)(n),Object(x.a)(o)));try{for(a.s();!(e=a.n()).done;){var u=e.value;this.decoder.SkipAttributeTransform(this.draco[u])}}catch(s){a.e(s)}finally{a.f()}}},{key:"_getQuantizationTransform",value:function(t,e){var r=this,n=e.quantizedAttributes,i=void 0===n?[]:n,o=t.attribute_type();if(i.map((function(t){return r.decoder[t]})).includes(o)){var a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(t))return{quantization_bits:a.quantization_bits(),range:a.range(),min_values:new Float32Array([1,2,3]).map((function(t){return a.min_value(t)}))}}finally{this.draco.destroy(a)}}return null}},{key:"_getOctahedronTransform",value:function(t,e){var r=this,n=e.octahedronAttributes,i=void 0===n?[]:n,o=t.attribute_type();if(i.map((function(t){return r.decoder[t]})).includes(o)){var a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(t))return{quantization_bits:a.quantization_bits()}}finally{this.draco.destroy(a)}}return null}}]),t}();var Tt=r("gETK"),Ct=r(12);var Pt={};function Dt(t){return xt.apply(this,arguments)}function xt(){return(xt=Object(c.a)(s.a.mark((function t(e){var r,n,i=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:null,n=i.length>2&&void 0!==i[2]?i[2]:{},r&&(e=Mt(e,r,n)),Pt[e]=Pt[e]||It(e),t.next=6,Pt[e];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mt(t,e,r){if(t.startsWith("http"))return t;var n=r.modules||{};return n[t]?n[t]:Tt.b?r.CDN?(function(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}(r.CDN.startsWith("http")),"".concat(r.CDN,"/").concat(e,"@").concat("3.0.12","/dist/libs/").concat(t)):Tt.c?"../src/libs/".concat(t):"modules/".concat(e,"/src/libs/").concat(t):"modules/".concat(e,"/dist/libs/").concat(t)}function It(t){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(c.a)(s.a.mark((function t(e){var r,n,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.endsWith("wasm")){t.next=7;break}return t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.arrayBuffer();case 6:return t.abrupt("return",t.sent);case 7:if(Tt.b){t.next=14;break}if(t.t0=Ct.requireFromFile,!t.t0){t.next=13;break}return t.next=12,Ct.requireFromFile(e);case 12:t.t0=t.sent;case 13:return t.abrupt("return",t.t0);case 14:if(!Tt.c){t.next=16;break}return t.abrupt("return",importScripts(e));case 16:return t.next=18,fetch(e);case 18:return n=t.sent,t.next=21,n.text();case 21:return i=t.sent,t.abrupt("return",Gt(i,e));case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Gt(t,e){if(!Tt.b)return Ct.requireFromString&&Ct.requireFromString(t,e);if(Tt.c)return eval.call(Tt.a,t),null;var r=document.createElement("script");r.id=e;try{r.appendChild(document.createTextNode(t))}catch(n){r.text=t}return document.body.appendChild(r),null}function Ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(r),!0).forEach((function(e){Object(f.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Lt,kt="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.js"),Ht="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_wasm_wrapper.js"),Nt="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.wasm");"https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js");function Ft(t){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(c.a)(s.a.mark((function t(e){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.modules||{},Lt=r.draco3d?Lt||r.draco3d.createDecoderModule({}).then((function(t){return{draco:t}})):Lt||Kt(e),t.next=4,Lt;case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Kt(t){return zt.apply(this,arguments)}function zt(){return(zt=Object(c.a)(s.a.mark((function t(e){var r,n,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.draco&&e.draco.decoderType,t.next="js"===t.t0?3:(t.t0,7);break;case 3:return t.next=5,Dt(kt,"draco",e);case 5:return r=t.sent,t.abrupt("break",21);case 7:return t.t1=Promise,t.next=10,Dt(Ht,"draco",e);case 10:return t.t2=t.sent,t.next=13,Dt(Nt,"draco",e);case 13:return t.t3=t.sent,t.t4=[t.t2,t.t3],t.next=17,t.t1.all.call(t.t1,t.t4);case 17:i=t.sent,o=Object(k.a)(i,2),r=o[0],n=o[1];case 21:return r=r||globalThis.DracoDecoderModule,t.next=24,Yt(r,n);case 24:return t.abrupt("return",t.sent);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Yt(t,e){var r={};return e&&(r.wasmBinary=e),new Promise((function(e){t(jt(jt({},r),{},{onModuleLoaded:function(t){return e({draco:t})}}))}))}function Vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(r),!0).forEach((function(e){Object(f.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Wt=qt(qt({},L),{},{parse:function(t,e){return Qt.apply(this,arguments)}});function Qt(){return(Qt=Object(c.a)(s.a.mark((function t(e,r){var n,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ft(r);case 2:return n=t.sent,i=n.draco,o=new wt(i),t.prev=5,t.abrupt("return",o.parseSync(e,null==r?void 0:r.draco));case 7:return t.prev=7,o.destroy(),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[5,,7,10]])})))).apply(this,arguments)}var Jt=r("YqI2");function Zt(t,e){for(var r=new Array(e.mipMapLevels),n=e.width,i=e.height,o=0,a=0;a<e.mipMapLevels;++a){var u=te(e,n,i,t,a),s=$t(t,a,o,u);r[a]={compressed:!0,format:e.internalFormat,data:s,width:n,height:i,levelSize:u},n=Math.max(1,n>>1),i=Math.max(1,i>>1),o+=u}return r}function $t(t,e,r,n){return Array.isArray(t)?t[e].levelData:new Uint8Array(t.buffer,t.byteOffset+r,n)}function te(t,e,r,n,i){return Array.isArray(n)?t.sizeFunction(n[i]):t.sizeFunction(e,r)}var ee={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919},re={131:ee.COMPRESSED_RGB_S3TC_DXT1_EXT,132:ee.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:ee.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:ee.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:ee.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:ee.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:ee.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:ee.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:ee.COMPRESSED_RED_RGTC1_EXT,140:ee.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:ee.COMPRESSED_RED_GREEN_RGTC2_EXT,142:ee.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:ee.COMPRESSED_RGB8_ETC2,148:ee.COMPRESSED_SRGB8_ETC2,149:ee.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:ee.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:ee.COMPRESSED_RGBA8_ETC2_EAC,152:ee.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:ee.COMPRESSED_R11_EAC,154:ee.COMPRESSED_SIGNED_R11_EAC,155:ee.COMPRESSED_RG11_EAC,156:ee.COMPRESSED_SIGNED_RG11_EAC,157:ee.COMPRESSED_RGBA_ASTC_4x4_KHR,158:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:ee.COMPRESSED_RGBA_ASTC_5x4_KHR,160:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:ee.COMPRESSED_RGBA_ASTC_5x5_KHR,162:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:ee.COMPRESSED_RGBA_ASTC_6x5_KHR,164:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:ee.COMPRESSED_RGBA_ASTC_6x6_KHR,166:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:ee.COMPRESSED_RGBA_ASTC_8x5_KHR,168:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:ee.COMPRESSED_RGBA_ASTC_8x6_KHR,170:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:ee.COMPRESSED_RGBA_ASTC_8x8_KHR,172:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:ee.COMPRESSED_RGBA_ASTC_10x5_KHR,174:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:ee.COMPRESSED_RGBA_ASTC_10x6_KHR,176:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:ee.COMPRESSED_RGBA_ASTC_10x8_KHR,178:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:ee.COMPRESSED_RGBA_ASTC_10x10_KHR,180:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:ee.COMPRESSED_RGBA_ASTC_12x10_KHR,182:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:ee.COMPRESSED_RGBA_ASTC_12x12_KHR,184:ee.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:ee.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:ee.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:ee.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:ee.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:ee.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:ee.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:ee.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:ee.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:ee.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:ee.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:ee.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:ee.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:ee.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:ee.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:ee.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:ee.COMPRESSED_RGBA_ASTC_12x12_KHR};var ne=[171,75,84,88,32,50,48,187,13,10,26,10];function ie(t){var e,r=new Uint8Array(t),n=Object(Jt.a)(r),i=Math.max(1,n.levels.length),o=n.pixelWidth,a=n.pixelHeight,u=(e=n.vkFormat,re[e]);return Zt(n.levels,{mipMapLevels:i,width:o,height:a,sizeFunction:function(t){return t.uncompressedByteLength},internalFormat:u})}var oe=r("DYWF"),ae={MAGIC_NUMBER:542327876,HEADER_LENGTH:31,MAGIC_NUMBER_INDEX:0,HEADER_SIZE_INDEX:1,HEADER_FLAGS_INDEX:2,HEADER_HEIGHT_INDEX:3,HEADER_WIDTH_INDEX:4,MIPMAPCOUNT_INDEX:7,HEADER_PF_FLAGS_INDEX:20,HEADER_PF_FOURCC_INDEX:21,DDSD_MIPMAPCOUNT:131072,DDPF_FOURCC:4,PIXEL_FORMATS:{DXT1:ee.COMPRESSED_RGB_S3TC_DXT1_EXT,DXT3:ee.COMPRESSED_RGBA_S3TC_DXT3_EXT,DXT5:ee.COMPRESSED_RGBA_S3TC_DXT5_EXT,"ATC ":ee.COMPRESSED_RGB_ATC_WEBGL,ATCA:ee.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,ATCI:ee.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},SIZE_FUNCTIONS:{DXT1:se,DXT3:ce,DXT5:ce,"ATC ":se,ATCA:ce,ATCI:ce}};function ue(t){var e=new Int32Array(t,0,ae.HEADER_LENGTH),r=e[ae.HEADER_PF_FOURCC_INDEX];Object(oe.a)(Boolean(e[ae.HEADER_PF_FLAGS_INDEX]&ae.DDPF_FOURCC),"DDS: Unsupported format, must contain a FourCC code");var n,i=(n=r,String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)),o=ae.PIXEL_FORMATS[i],a=ae.SIZE_FUNCTIONS[i];Object(oe.a)(o&&a,"DDS: Unknown pixel format ".concat(r));var u=1;e[ae.HEADER_FLAGS_INDEX]&ae.DDSD_MIPMAPCOUNT&&(u=Math.max(1,e[ae.MIPMAPCOUNT_INDEX]));var s=e[ae.HEADER_WIDTH_INDEX],c=e[ae.HEADER_HEIGHT_INDEX],f=e[ae.HEADER_SIZE_INDEX]+4;return Zt(new Uint8Array(t,f),{mipMapLevels:u,width:s,height:c,sizeFunction:a,internalFormat:o})}function se(t,e){return(t+3>>2)*(e+3>>2)*8}function ce(t,e){return(t+3>>2)*(e+3>>2)*16}var fe=55727696,le=1347834371,he=13,de=52,_e=0,pe=2,ye=4,ve=6,Se=7,be=11,Ee=12,me={0:[ee.COMPRESSED_RGB_PVRTC_2BPPV1_IMG],1:[ee.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG],2:[ee.COMPRESSED_RGB_PVRTC_4BPPV1_IMG],3:[ee.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG],6:[ee.COMPRESSED_RGB_ETC1_WEBGL],7:[ee.COMPRESSED_RGB_S3TC_DXT1_EXT],9:[ee.COMPRESSED_RGBA_S3TC_DXT3_EXT],11:[ee.COMPRESSED_RGBA_S3TC_DXT5_EXT],22:[ee.COMPRESSED_RGB8_ETC2],23:[ee.COMPRESSED_RGBA8_ETC2_EAC],24:[ee.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2],25:[ee.COMPRESSED_R11_EAC],26:[ee.COMPRESSED_RG11_EAC],27:[ee.COMPRESSED_RGBA_ASTC_4X4_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR],28:[ee.COMPRESSED_RGBA_ASTC_5X4_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR],29:[ee.COMPRESSED_RGBA_ASTC_5X5_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR],30:[ee.COMPRESSED_RGBA_ASTC_6X5_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR],31:[ee.COMPRESSED_RGBA_ASTC_6X6_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR],32:[ee.COMPRESSED_RGBA_ASTC_8X5_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR],33:[ee.COMPRESSED_RGBA_ASTC_8X6_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR],34:[ee.COMPRESSED_RGBA_ASTC_8X8_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR],35:[ee.COMPRESSED_RGBA_ASTC_10X5_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR],36:[ee.COMPRESSED_RGBA_ASTC_10X6_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR],37:[ee.COMPRESSED_RGBA_ASTC_10X8_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR],38:[ee.COMPRESSED_RGBA_ASTC_10X10_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR],39:[ee.COMPRESSED_RGBA_ASTC_12X10_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR],40:[ee.COMPRESSED_RGBA_ASTC_12X12_KHR,ee.COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR]},ge={0:Re,1:Re,2:Ae,3:Ae,6:Oe,7:Oe,9:we,11:we,22:Oe,23:we,24:Oe,25:Oe,26:we,27:we,28:function(t,e){return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16},29:function(t,e){return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16},30:function(t,e){return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16},31:function(t,e){return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16},32:function(t,e){return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16},33:function(t,e){return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16},34:function(t,e){return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16},35:function(t,e){return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16},36:function(t,e){return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16},37:function(t,e){return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16},38:function(t,e){return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16},39:function(t,e){return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16},40:function(t,e){return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16}};function Re(t,e){return(t=Math.max(t,16))*(e=Math.max(e,8))/4}function Ae(t,e){return(t=Math.max(t,8))*(e=Math.max(e,8))/2}function Oe(t,e){return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8}function we(t,e){return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16}function Te(t){if(function(t){var e=new Uint8Array(t.buffer||t,t.byteOffset||0,ne.length);return!(e[0]!==ne[0]||e[1]!==ne[1]||e[2]!==ne[2]||e[3]!==ne[3]||e[4]!==ne[4]||e[5]!==ne[5]||e[6]!==ne[6]||e[7]!==ne[7]||e[8]!==ne[8]||e[9]!==ne[9]||e[10]!==ne[10]||e[11]!==ne[11])}(t))return ie(t);if(function(t){return new Uint32Array(t,0,ae.HEADER_LENGTH)[ae.MAGIC_NUMBER_INDEX]===ae.MAGIC_NUMBER}(t))return ue(t);if(function(t){var e=new Uint32Array(t,0,he)[_e];return e===fe||e===le}(t))return function(t){var e=new Uint32Array(t,0,he),r=e[pe],n=e[ye],i=me[r]||[],o=i.length>1&&n?i[1]:i[0],a=ge[r],u=e[be],s=e[Se],c=e[ve],f=de+e[Ee];return Zt(new Uint8Array(t,f),{mipMapLevels:u,width:s,height:c,sizeFunction:a,internalFormat:o})}(t);throw new Error("Texture container format not recognized")}function Ce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(r),!0).forEach((function(e){Object(f.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var De,xe={name:"Texture Containers",id:"compressed-texture",module:"textures",version:"3.0.12",worker:!0,extensions:["ktx","ktx2","dds","pvr"],mimeTypes:["image/ktx2","image/ktx","image/vnd-ms.dds","image/x-dds","application/octet-stream"],binary:!0,options:{"compressed-texture":{libraryPath:"libs/"}}},Me=Pe(Pe({},xe),{},{parse:(De=Object(c.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Te(e));case 1:case"end":return t.stop()}}),t)}))),function(t){return De.apply(this,arguments)})});function Ie(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?"".concat(t,"?token=").concat(e):t}function Be(t,e){for(var r=[],n=t.attributeStorageInfo,i=t.url,o=0;o<n.length;o++){var a=n[o].key;r.push("".concat(i,"/nodes/").concat(e,"/attributes/").concat(a,"/0"))}return r}var Ge=r("0mpS"),Ue={UInt8:Uint8Array,UInt16:Uint16Array,UInt32:Uint32Array,Float32:Float32Array,UInt64:Float64Array},je={UInt8:Ge.a.UNSIGNED_BYTE,UInt16:Ge.a.UNSIGNED_INT,Float32:Ge.a.FLOAT,UInt32:Ge.a.UNSIGNED_INT,UInt64:Ge.a.DOUBLE},Le={position:"position",normal:"normal",uv0:"uv0",color:"color",region:"region"},ke={vertexAttributes:"vertexAttributes",featureAttributeOrder:"featureAttributeOrder",featureAttributes:"featureAttributes"},He="header",Ne="vertexCount",Fe="featureCount",Xe={UInt8:1,UInt16:2,UInt32:4,Float32:4,UInt64:8};function Ke(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ze(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ze(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function ze(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ye(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ve(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(r),!0).forEach((function(e){Object(f.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var qe=new B.a([0,0,0]),We={jpeg:j.a,png:j.a,"ktx-etc2":Me,dds:Me};function Qe(t,e,r,n,i){return Je.apply(this,arguments)}function Je(){return(Je=Object(c.a)(s.a.mark((function t(e,r,n,i,o){var a,u,c,f,l,h,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.content=r.content||{},r.content.featureIds=r.content.featureIds||null,r.content.featureData=nr(r,n),r.content.attributes={},!r.textureUrl){t.next=25;break}return u=Ie(r.textureUrl,null==i||null===(a=i.i3s)||void 0===a?void 0:a.token),c=We[r.textureFormat]||j.a,t.next=9,fetch(u);case 9:return f=t.sent,t.next=12,f.arrayBuffer();case 12:if(l=t.sent,c!==j.a){t.next=20;break}return h={image:{type:"data"}},t.next=17,o.parse(l,h);case 17:r.content.texture=t.sent,t.next=25;break;case 20:if(c!==Me){t.next=25;break}return t.next=23,Object(M.a)(l,Me);case 23:d=t.sent,r.content.texture={compressed:!0,mipmaps:!1,width:d[0].width,height:d[0].height,data:d};case 25:return r.content.material=sr(r.materialDefinition,r.content.texture),r.content.material&&(r.content.texture=null),t.next=29,Ze(e,r,o);case 29:return t.abrupt("return",t.sent);case 30:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ze(t){return $e.apply(this,arguments)}function $e(){return($e=Object(c.a)(s.a.mark((function t(e){var r,n,i,o,a,u,c,f,l,h,d,_,p,y,v,S,b,E,m,g,R,A,O,w,T,C,P,D,x,M,B,U,j,L=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=L.length>1&&void 0!==L[1]?L[1]:{},L.length>2?L[2]:void 0,r.content){t.next=4;break}return t.abrupt("return",r);case 4:if(n=r.content,a=0,u=0,!r.isDracoGeometry){t.next=20;break}return t.next=10,Object(I.a)(e,Wt,{draco:{attributeNameEntry:"i3s-attribute-type"}});case 10:c=t.sent,o=c.header.vertexCount,f=c.indices.value,l=c.attributes,h=l.POSITION,d=l.NORMAL,_=l.COLOR_0,p=l.TEXCOORD_0,y=l["feature-index"],v=l["uv-region"],tr(i={position:h,normal:d,color:_,uv0:p,uvRegion:v,id:y,indices:f},c),(S=hr(y))&&lr(i,S),t.next=29;break;case 20:b=n.featureData,E=b.vertexAttributes,m=b.attributesOrder,g=b.featureAttributes,R=b.featureAttributeOrder,A=ir(n,e),a=A.byteOffset,o=A.vertexCount,u=A.featureCount,O=or(e,a,E,o,m),w=O.attributes,T=O.byteOffset,C=or(e,T,g,u,R),fr(P=C.attributes),i=er(w,P);case 29:for(j in D=ur(i.position,r),x=D.enuMatrix,M=D.cartographicOrigin,B=D.cartesianOrigin,U=(new G.a).multiplyRight(x),n.attributes={positions:i.position,normals:i.normal,colors:rr(i.color),texCoords:i.uv0,uvRegions:rr(i.uvRegion)},n.indices=i.indices||null,i.id&&i.id.value&&(r.content.featureIds=i.id.value),n.attributes)n.attributes[j]||delete n.attributes[j];return n.vertexCount=o,n.cartographicCenter=M,n.cartesianOrigin=B,n.modelMatrix=U.invert(),n.byteLength=e.byteLength,t.abrupt("return",r);case 41:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tr(t,e){for(var r in e.loaderData.attributes){var n=e.loaderData.attributes[r];switch(n.name){case"POSITION":t.position.metadata=n.metadata;break;case"feature-index":t.id.metadata=n.metadata}}}function er(t,e){return Ve(Ve({},t),e)}function rr(t){return t?(t.normalized=!0,t):t}function nr(t,e){var r=e.store.defaultGeometrySchema,n=r;for(var i in ke)for(var o in Le){var a=r[i][o];if(a){var u=a.byteOffset,s=void 0===u?0:u,c=a.count,f=void 0===c?0:c,l=a.valueType,h=a.valuesPerElement;n[i][o]={valueType:l,valuesPerElement:h,byteOffset:s,count:f}}}return n.attributesOrder=r.ordering,n}function ir(t,e){var r=0,n=0,i=0,o=t.featureData[He];for(var a in o){var u=o[a],s=u.property,c=u.type,f=Ue[c];s===Ne&&(n=new f(e,0,4)[0],r+=Xe[c]),s===Fe&&(i=new f(e,4,4)[0],r+=Xe[c])}return{vertexCount:n,featureCount:i,byteOffset:r}}function or(t,e,r,n,i){var o,a={},u=Ke(i);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(r[s]){var c=r[s],f=c.valueType,l=c.valuesPerElement,h=n;if(e+h*l>t.byteLength)break;var d=t.slice(e),_=[];if("UInt64"===f)_=ar(d,h*l,Xe[f]);else _=new(0,Ue[f])(d,0,h*l);switch(a[s]={value:_,type:je[f],size:l},s){case"color":a.color.normalized=!0}e+=h*l*Xe[f]}}}catch(p){u.e(p)}finally{u.f()}return{attributes:a,byteOffset:e}}function ar(t,e,r){for(var n=[],i=new DataView(t),o=0,a=0;a<e;a++){var u=i.getUint32(o,!0),s=i.getUint32(o+4,!0),c=u+Math.pow(2,32)*s;n.push(c),o+=r}return n}function ur(t,e){var r=e.mbs,n=t.value,i=t.metadata,o=new G.a,a=new B.a(r[0],r[1],r[2]),u=new B.a;return U.a.WGS84.cartographicToCartesian(a,u),U.a.WGS84.eastNorthUpToFixedFrame(u,o),t.value=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=new Float64Array(t.length),i=e["i3s-scale_x"]&&e["i3s-scale_x"].double||1,o=e["i3s-scale_y"]&&e["i3s-scale_y"].double||1,a=0;a<n.length;a+=3)n[a]=t[a]*i+r.x,n[a+1]=t[a+1]*o+r.y,n[a+2]=t[a+2]+r.z;for(var u=0;u<n.length;u+=3)U.a.WGS84.cartographicToCartesian(n.subarray(u,u+3),qe),n[u]=qe.x,n[u+1]=qe.y,n[u+2]=qe.z;return n}(n,i,a),{enuMatrix:o,fixedFrameToENUMatrix:o.invert(),cartographicOrigin:a,cartesianOrigin:u}}function sr(t,e){var r;return t?r=Ve(Ve({},t),{},{pbrMetallicRoughness:t.pbrMetallicRoughness?Ve({},t.pbrMetallicRoughness):{baseColorFactor:[255,255,255,255]}}):(r={pbrMetallicRoughness:{}},e?r.pbrMetallicRoughness.baseColorTexture={texCoord:0}:r.pbrMetallicRoughness.baseColorFactor=[255,255,255,255]),r.alphaCutoff=r.alphaCutoff||.25,r.alphaMode&&(r.alphaMode=r.alphaMode.toUpperCase()),r.emissiveFactor&&(r.emissiveFactor=cr(r.emissiveFactor)),r.pbrMetallicRoughness&&r.pbrMetallicRoughness.baseColorFactor&&(r.pbrMetallicRoughness.baseColorFactor=cr(r.pbrMetallicRoughness.baseColorFactor)),function(t,e){var r={source:{image:e}};t.pbrMetallicRoughness&&t.pbrMetallicRoughness.baseColorTexture?t.pbrMetallicRoughness.baseColorTexture=Ve(Ve({},t.pbrMetallicRoughness.baseColorTexture),{},{texture:r}):t.emissiveTexture?t.emissiveTexture=Ve(Ve({},t.emissiveTexture),{},{texture:r}):t.pbrMetallicRoughness&&t.pbrMetallicRoughness.metallicRoughnessTexture?t.pbrMetallicRoughness.metallicRoughnessTexture=Ve(Ve({},t.pbrMetallicRoughness.metallicRoughnessTexture),{},{texture:r}):t.normalTexture?t.normalTexture=Ve(Ve({},t.normalTexture),{},{texture:r}):t.occlusionTexture&&(t.occlusionTexture=Ve(Ve({},t.occlusionTexture),{},{texture:r}))}(r,e),r}function cr(t){for(var e=Object(x.a)(t),r=0;r<t.length;r++)e[r]=t[r]/255;return e}function fr(t){var e=t.id,r=t.faceRange;if(e&&r){for(var n=e.value,i=r.value,o=i[i.length-1]+1,a=new Uint32Array(3*o),u=0,s=0,c=1;c<i.length;c+=2){var f=Number(n[u]),l=s+3*(i[c]-i[c-1]+1);a.fill(f,s,l),u++,s=l}t.id.value=a}}function lr(t,e){for(var r=t.id.value,n=new Float32Array(r.length),i=0;i<r.length;i++)n[i]=e[r[i]];t.id.value=n}function hr(t){return t&&t.metadata&&t.metadata["i3s-feature-ids"]&&t.metadata["i3s-feature-ids"].intArray}var dr={name:"I3S Content (Indexed Scene Layers)",id:"i3s-content",module:"i3s",worker:!0,version:"3.0.12",mimeTypes:["application/octet-stream"],parse:function(t,e,r){return _r.apply(this,arguments)},extensions:["bin"],options:{"i3s-content":{}}};function _r(){return(_r=Object(c.a)(s.a.mark((function t(e,r,n){var i,o,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(null==r?void 0:r.i3s)||{},o=i.tile,a=i.tileset,t.next=3,Qe(e,o,a,r,n);case 3:return t.abrupt("return",o.content);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var pr=r("DUak"),yr=2,vr="mesh",Sr="I3S";function br(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Er(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Er(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function Er(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var mr=["","WEBKIT_","MOZ_"],gr={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},Rr=null;function Ar(t){if(!Rr){t=t||function(){try{return document.createElement("canvas").getContext("webgl")}catch(t){return null}}()||void 0,Rr=new Set;var e,r=br(mr);try{for(r.s();!(e=r.n()).done;){var n=e.value;for(var i in gr)if(t&&t.getExtension("".concat(n).concat(i))){var o=gr[i];Rr.add(o)}}}catch(a){r.e(a)}finally{r.f()}}return Rr}function Or(t){return wr.apply(this,arguments)}function wr(){return(wr=Object(c.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",JSON.parse((new TextDecoder).decode(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Tr={name:"I3S Node Page",id:"i3s-node-page",module:"i3s",version:"3.0.12",mimeTypes:["application/json"],parse:function(t){return Cr.apply(this,arguments)},extensions:["json"],options:{}};function Cr(){return(Cr=Object(c.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Or(e),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Pr(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Dr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dr(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function Dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var Mr=function(){function t(e,r){Object(H.a)(this,t),Object(f.a)(this,"tileset",void 0),Object(f.a)(this,"nodePages",void 0),Object(f.a)(this,"nodesPerPage",void 0),Object(f.a)(this,"options",void 0),Object(f.a)(this,"lodSelectionMetricType",void 0),Object(f.a)(this,"textureDefinitionsSelectedFormats",void 0),this.tileset=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xr(Object(r),!0).forEach((function(e){Object(f.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e),this.nodesPerPage=e.nodePages.nodesPerPage,this.lodSelectionMetricType=e.nodePages.lodSelectionMetricType,this.options=r,this.nodePages=[],this.textureDefinitionsSelectedFormats=[],this._initSelectedFormatsForTextureDefinitions(e)}var e,r;return Object(N.a)(t,[{key:"getNodeById",value:(r=Object(c.a)(s.a.mark((function t(e){var r,n,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Math.floor(e/this.nodesPerPage),this.nodePages[r]){t.next=7;break}return i=Ie("".concat(this.tileset.url,"/nodepages/").concat(r),null===(n=this.options.i3s)||void 0===n?void 0:n.token),this.nodePages[r]=Object(M.a)(i,Tr,this.options),t.next=6,this.nodePages[r];case 6:this.nodePages[r]=t.sent;case 7:if(!(this.nodePages[r]instanceof Promise)){t.next=11;break}return t.next=10,this.nodePages[r];case 10:this.nodePages[r]=t.sent;case 11:return o=e%this.nodesPerPage,t.abrupt("return",this.nodePages[r].nodes[o]);case 13:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"formTileFromNodePages",value:(e=Object(c.a)(s.a.mark((function t(e){var r,n,i,o,a,u,c,f,l,h,d,_,p,y,v,S,b,E,m,g;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNodeById(e);case 2:r=t.sent,n=[],i=Pr(r.children||[]),t.prev=5,i.s();case 7:if((o=i.n()).done){t.next=15;break}return a=o.value,t.next=11,this.getNodeById(a);case 11:u=t.sent,n.push({id:a,obb:u.obb});case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),i.e(t.t0);case 20:return t.prev=20,i.f(),t.finish(20);case 23:return c=null,f=null,l=null,h="jpeg",d=[],_=!1,r&&r.mesh&&(p=r.mesh.geometry&&this._getContentUrl(r.mesh.geometry)||{url:null,isDracoGeometry:null},y=p.url,v=p.isDracoGeometry,c=y,_=v,S=this._getInformationFromMaterial(r.mesh.material),b=Object(k.a)(S,2),E=b[0],m=b[1],l=m,h=E.format||h,E.name&&(f="".concat(this.tileset.url,"/nodes/").concat(r.mesh.material.resource,"/textures/").concat(E.name)),this.tileset.attributeStorageInfo&&(d=Be(this.tileset,r.mesh.attribute.resource))),g=this._getLodSelection(r),t.abrupt("return",Br({id:e,lodSelection:g,obb:r.obb,contentUrl:c,textureUrl:f,attributeUrls:d,materialDefinition:l,textureFormat:h,children:n,isDracoGeometry:_}));case 32:case"end":return t.stop()}}),t,this,[[5,17,20,23]])}))),function(t){return e.apply(this,arguments)})},{key:"_getContentUrl",value:function(t){var e={},r=this.tileset.geometryDefinitions[t.definition],n=-1;if(this.options.i3s&&this.options.i3s.useDracoGeometry&&(n=r.geometryBuffers.findIndex((function(t){return t.compressedAttributes&&"draco"===t.compressedAttributes.encoding}))),-1===n&&(n=r.geometryBuffers.findIndex((function(t){return!t.compressedAttributes}))),-1!==n){var i=Boolean(r.geometryBuffers[n].compressedAttributes);e={url:"".concat(this.tileset.url,"/nodes/").concat(t.resource,"/geometries/").concat(n),isDracoGeometry:i}}return e}},{key:"_getLodSelection",value:function(t){var e=[];return"maxScreenThresholdSQ"===this.lodSelectionMetricType&&e.push({metricType:"maxScreenThreshold",maxError:Math.sqrt(t.lodThreshold/(.25*Math.PI))}),e.push({metricType:this.lodSelectionMetricType,maxError:t.lodThreshold}),e}},{key:"_getInformationFromMaterial",value:function(t){var e={name:null,format:null};if(t){var r=this.tileset.materialDefinitions[t.definition],n=r&&r.pbrMetallicRoughness&&r.pbrMetallicRoughness.baseColorTexture&&r.pbrMetallicRoughness.baseColorTexture.textureSetDefinitionId;return n||0===n?[this.textureDefinitionsSelectedFormats[n]||e,r]:[e,r]}return[e,null]}},{key:"_initSelectedFormatsForTextureDefinitions",value:function(t){this.textureDefinitionsSelectedFormats=[];var e,r=this._getSupportedTextureFormats(),n=Pr(t.textureSetDefinitions||[]);try{for(n.s();!(e=n.n()).done;){var i,o=e.value,a=o&&o.formats||[],u=null,s=Pr(r);try{var c=function(){var t=i.value,e=a.find((function(e){return e.format===t}));if(e)return u=e,"break"};for(s.s();!(i=s.n()).done;){if("break"===c())break}}catch(f){s.e(f)}finally{s.f()}this.textureDefinitionsSelectedFormats.push(u)}}catch(f){n.e(f)}finally{n.f()}}},{key:"_getSupportedTextureFormats",value:function(){var t=[];if(!this.options.i3s||this.options.i3s.useCompressedTextures){var e=Ar();e.has("etc2")&&t.push("ktx-etc2"),e.has("dxt")&&t.push("dds")}return t.push("jpg"),t.push("png"),t}}]),t}();function Ir(t,e,r){return t.url=r.url,t.featureData&&(t.featureUrl="".concat(t.url,"/").concat(t.featureData[0].href)),t.geometryData&&(t.contentUrl="".concat(t.url,"/").concat(t.geometryData[0].href)),t.textureData&&(t.textureUrl="".concat(t.url,"/").concat(t.textureData[0].href)),t.attributeData&&(t.attributeUrls=function(t){for(var e=t.url,r=t.attributeData,n=[],i=0;i<r.length;i++){var o=r[i].href.replace("./","");n.push("".concat(e,"/").concat(o))}return n}(t)),Br(t)}function Br(t){var e,r=t.obb?[].concat(Object(x.a)(U.a.WGS84.cartographicToCartesian(t.obb.center)),Object(x.a)(t.obb.halfSize),Object(x.a)(t.obb.quaternion)):void 0;if(t.mbs)e=[].concat(Object(x.a)(U.a.WGS84.cartographicToCartesian(t.mbs.slice(0,3))),[t.mbs[3]]);else if(r){var n=(new pr.d).fromCenterHalfSizeQuaternion(r.slice(0,3),t.obb.halfSize,t.obb.quaternion).getBoundingSphere();e=[].concat(Object(x.a)(n.center),[n.radius]),t.mbs=[].concat(Object(x.a)(t.obb.center),[n.radius])}return t.boundingVolume={sphere:e,box:r},t.lodMetricType=t.lodSelection[0].metricType,t.lodMetricValue=t.lodSelection[0].maxError,t.transformMatrix=t.transform,t.type=vr,t.refine=yr,t}function Gr(t,e,r){return Ur.apply(this,arguments)}function Ur(){return(Ur=Object(c.a)(s.a.mark((function t(e,r,n){var i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.url=n.url,!e.nodePages){t.next=8;break}return e.nodePagesTile=new Mr(e,r),t.next=5,e.nodePagesTile.formTileFromNodePages(0);case 5:e.root=t.sent,t.next=12;break;case 8:return o=Ie("".concat(e.url,"/nodes/root"),null===(i=r.i3s)||void 0===i?void 0:i.token),t.next=11,Object(M.a)(o,e.loader,{i3s:{loadContent:!1,isTileHeader:!0,isTileset:!1}});case 11:e.root=t.sent;case 12:e.basePath=e.url,e.type=Sr,e.lodMetricType=e.root.lodMetricType,e.lodMetricValue=e.root.lodMetricValue;case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var jr=/layers\/[0-9]+$/,Lr=/nodes\/([0-9-]+|root)$/,kr={name:"I3S (Indexed Scene Layers)",id:"i3s",module:"i3s",version:"3.0.12",mimeTypes:["application/octet-stream"],parse:function(t,e,r){return Hr.apply(this,arguments)},extensions:["bin"],options:{i3s:{loadContent:!0,token:null,isTileset:"auto",isTileHeader:"auto",tile:null,tileset:null,useDracoGeometry:!0,useCompressedTextures:!0}}};function Hr(){return(Hr=Object(c.a)(s.a.mark((function t(e,r,n){var i,o,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.url,r.i3s=r.i3s||{},"504b0304"!==Vr(e)){t.next=5;break}throw new Error("Files with .slpk extention currently are not supported by I3SLoader");case 5:if(o="auto"===r.i3s.isTileset?jr.test(i):r.i3s.isTileset,a="auto"===r.isTileHeader?Lr.test(i):r.i3s.isTileHeader,!o){t.next=13;break}return t.next=10,Xr(e,r,n);case 10:e=t.sent,t.next=26;break;case 13:if(!a){t.next=23;break}return t.next=16,zr(e,r,n);case 16:if(e=t.sent,!r.i3s.loadContent){t.next=21;break}return r.i3s.tile=e,t.next=21,Object(M.a)(e.contentUrl,kr,r);case 21:t.next=26;break;case 23:return t.next=25,Nr(e,r);case 25:e=t.sent;case 26:return t.abrupt("return",e);case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Nr(t,e){return Fr.apply(this,arguments)}function Fr(){return(Fr=Object(c.a)(s.a.mark((function t(e,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(I.a)(e,dr,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xr(t,e,r){return Kr.apply(this,arguments)}function Kr(){return(Kr=Object(c.a)(s.a.mark((function t(e,r,n){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=JSON.parse((new TextDecoder).decode(e))).loader=kr,t.next=4,Gr(i,r,n);case 4:return t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function zr(t,e,r){return Yr.apply(this,arguments)}function Yr(){return(Yr=Object(c.a)(s.a.mark((function t(e,r,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=JSON.parse((new TextDecoder).decode(e)),t.abrupt("return",Ir(e,0,n));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vr(t){return t instanceof ArrayBuffer?Object(x.a)(new Uint8Array(t,0,4)).map((function(t){return t.toString(16).padStart(2,"0")})).join(""):null}var qr="https://tiles.arcgis.com/tiles/z2tnIkrLQ2BRzr6P/arcgis/rest/services/SanFrancisco_Bldgs/SceneServer/layers/0";function Wr(){return(Wr=Object(c.a)(s.a.mark((function t(e){var r,n,i,o,a,u,c,f;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(["esri/Map","esri/views/SceneView","esri/views/3d/externalRenderers"]);case 2:return r=t.sent,n=r.DeckRenderer,i=r.modules,o=i[0],a=i[1],u=i[2],c=new a({container:e,qualityProfile:"high",map:new o({basemap:"dark-gray-vector"}),environment:{atmosphereEnabled:!1},camera:{position:{x:-122.4,y:37.78,z:3e3},heading:0,tilt:25},viewingMode:"local"}),f=new n(c,{}),u.add(c,f),c.on("layerview-create",(function(){f.deck.layers=[new D.a({id:"tile-3d-layer",data:qr,loader:kr})]})),t.abrupt("return",{remove:function(){c.destroy(),f.dispose()}});case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Qr=r("CtqP"),Jr=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._containerRef=Object(i.createRef)(),e}Object(n.a)(e,t),e.renderInfo=function(t){return o.a.createElement("div",null,o.a.createElement("p",null,"Highly detailed LoD2 textured 3D buildings for downtown San Francisco in I3S format, visualized with deck.gl's Tile3DLayer. This data is provided by ",o.a.createElement("a",{href:"https://www.precisionlightworks.com/"},"Precision Light Works (PLW)"),"."),o.a.createElement("div",null,o.a.createElement("img",{src:"http://downloads.esri.com/blogs/arcgisonline/esrilogo_new.png",alt:"ESRI logo"}),o.a.createElement("a",{href:"https://www.arcgis.com/home/item.html?id=d3344ba99c3f4efaa909ccfbcc052ed5"},"Data profile page")))};var r=e.prototype;return r.componentDidMount=function(){var t=this,e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://js.arcgis.com/4.16/esri/themes/light/main.css"),document.head.appendChild(e),function(t){return Wr.apply(this,arguments)}(this._containerRef.current).then((function(e){return t._view=e}))},r.componentWillUnmount=function(){this._view&&this._view.remove()},r.render=function(){return o.a.createElement("div",{ref:this._containerRef,style:{width:"100%",height:"100%"}})},e}(i.Component);Jr.title="San Francisco 3D Buildings",Jr.code=a.b+"/examples/website/i3s";e.default=Object(Qr.a)(Jr)},iJYz:function(t,e,r){!function(t){"use strict";var e={Promise:"undefined"!=typeof window?window.Promise:void 0};function r(t){if("next"===t.toLowerCase())return"next";var e=t&&t.match(/^(\d)\.(\d+)/);return e&&{major:parseInt(e[1],10),minor:parseInt(e[2],10)}}function n(t){return void 0===t&&(t="4.20"),"https://js.arcgis.com/"+t+"/"}function i(t){return!t||r(t)?function(t){void 0===t&&(t="4.20");var e=n(t),i=r(t);return"next"!==i&&3===i.major?e+(i.minor<=10?"js/":"")+"esri/css/esri.css":e+"esri/themes/light/main.css"}(t):t}function o(t,e){var r=i(t),n=function(t){return document.querySelector('link[href*="'+t+'"]')}(r);return n||function(t,e){if(e){var r=document.querySelector(e);r.parentNode.insertBefore(t,r)}else document.head.appendChild(t)}(n=function(t){var e=document.createElement("link");return e.rel="stylesheet",e.href=t,e}(r),e),n}var a={};function u(t,e,r){var n;r&&(n=function(t,e){var r=function r(n){e(n.error||new Error("There was an error attempting to load "+t.src)),t.removeEventListener("error",r,!1)};return t.addEventListener("error",r,!1),r}(t,r)),t.addEventListener("load",(function r(){e(t),t.removeEventListener("load",r,!1),n&&t.removeEventListener("error",n,!1)}),!1)}function s(){return document.querySelector("script[data-esri-loader]")}function c(){var t=window.require;return t&&t.on}function f(t){void 0===t&&(t={});var r={};[a,t].forEach((function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}));var i=r.version,f=r.url||n(i);return new e.Promise((function(t,e){var n=s();if(n){var a=n.getAttribute("src");a!==f?e(new Error("The ArcGIS API for JavaScript is already loaded ("+a+").")):c()?t(n):u(n,t,e)}else if(c())e(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=r.css;l&&o(!0===l?i:l,r.insertCssBefore),u(n=function(t){var e=document.createElement("script");return e.type="text/javascript",e.src=t,e.setAttribute("data-esri-loader","loading"),e}(f),(function(){n.setAttribute("data-esri-loader","loaded"),t(n)}),e),document.body.appendChild(n)}}))}function l(t){return new e.Promise((function(e,r){var n=window.require.on("error",r);window.require(t,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n.remove(),e(t)}))}))}t.utils=e,t.loadModules=function(t,e){if(void 0===e&&(e={}),c())return l(t);var r=s(),n=r&&r.getAttribute("src");return!e.url&&n&&(e.url=n),f(e).then((function(){return l(t)}))},t.getScript=s,t.isLoaded=c,t.loadScript=f,t.setDefaultOptions=function(t){void 0===t&&(t={}),a=t},t.loadCss=o,Object.defineProperty(t,"__esModule",{value:!0})}(e)},"kVK+":function(t,e){e.read=function(t,e,r,n,i){var o,a,u=8*i-n-1,s=(1<<u)-1,c=s>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=t[e+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=u;f>0;o=256*o+t[e+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,u,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,_=n?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+l>=1?h/s:h*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(e*s-1)*Math.pow(2,i),a+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&u,d+=_,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;t[r+d]=255&a,d+=_,a/=256,c-=8);t[r+d-_]|=128*p}}}]);