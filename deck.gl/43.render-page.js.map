{"version":3,"sources":["webpack://lib/../node_modules/@arcgis/core/core/asyncUtils.js","webpack://lib/../node_modules/@arcgis/core/core/loadAll.js","webpack://lib/../node_modules/@arcgis/core/intl.js","webpack://lib/../node_modules/@arcgis/core/intl/date.js","webpack://lib/../node_modules/@arcgis/core/intl/locale.js","webpack://lib/../node_modules/@arcgis/core/intl/messages.js","webpack://lib/../node_modules/@arcgis/core/intl/number.js","webpack://lib/../node_modules/@arcgis/core/intl/substitute.js","webpack://lib/../node_modules/@arcgis/core/intl/t9n.js","webpack://lib/../node_modules/@arcgis/core/layers/GroupLayer.js","webpack://lib/../node_modules/@arcgis/core/layers/effects/jsonUtils.js","webpack://lib/../node_modules/@arcgis/core/layers/mixins/BlendLayer.js","webpack://lib/../node_modules/@arcgis/core/layers/mixins/PortalLayer.js","webpack://lib/../node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js","webpack://lib/../node_modules/@arcgis/core/renderers/support/lengthUtils.js","webpack://lib/../node_modules/@arcgis/core/support/LayersMixin.js","webpack://lib/../node_modules/@arcgis/core/support/TablesMixin.js","webpack://lib/../node_modules/@arcgis/core/webdoc/support/writeUtils.js"],"names":[],"mappings":"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","file":"43.render-page.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"./maybe.js\";import{eachAlways as o,resolve as t,throwIfAbortError as e}from\"./promiseUtils.js\";function n(r,t,e){return o(r.map(((r,o)=>t.apply(e,[r,o]))))}function u(r,t,e){return o(r.map(((r,o)=>t.apply(e,[r,o])))).then((r=>r.map((r=>r.value))))}function a(o){return r(o)?t():o.then((r=>({ok:!0,value:r}))).catch((r=>({ok:!1,error:r})))}function p(r){return r.then((r=>({ok:!0,value:r}))).catch((r=>(e(r),{ok:!1,error:r})))}function i(r){if(!0===r.ok)return r.value;throw r.error}export{i as assertResult,n as forEach,u as map,a as result,p as resultOrAbort};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{map as o,result as a}from\"./asyncUtils.js\";import r from\"./Collection.js\";import t from\"./Loadable.js\";import{isNone as l}from\"./maybe.js\";async function n(o,a){return await o.load(),i(o,a)}async function i(n,i){const f=[],c=(...o)=>{for(const a of o)l(a)||(Array.isArray(a)?c(...a):r.isCollection(a)?a.forEach((o=>c(o))):t.isLoadable(a)&&f.push(a))};i(c);let e=null;if(await o(f,(async o=>{!1!==(await a(s(o)?o.loadAll():o.load())).ok||e||(e=o)})),e)throw e.loadError;return n}function s(o){return\"loadAll\"in o&&\"function\"==typeof o.loadAll}export{n as default,n as loadAll,i as loadAllChildren};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nexport{convertDateFormatToIntlOptions,formatDate}from\"./intl/date.js\";export{convertNumberFormatToIntlOptions,formatNumber}from\"./intl/number.js\";export{substitute}from\"./intl/substitute.js\";export{getLocale,onLocaleChange,prefersRTL,setLocale}from\"./intl/locale.js\";import{registerMessageBundleLoader as e}from\"./intl/messages.js\";export{fetchMessageBundle,normalizeMessageBundleLocale,registerMessageBundleLoader}from\"./intl/messages.js\";import{createJSONLoader as t}from\"./intl/t9n.js\";export{createJSONLoader}from\"./intl/t9n.js\";import{getAssetUrl as o}from\"./assets.js\";e(t({pattern:\"esri/\",location:o}));\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{strict as t}from\"../core/jsonMap.js\";import{beforeLocaleChange as o,getLocale as e}from\"./locale.js\";const r={year:\"numeric\",month:\"numeric\",day:\"numeric\"},n={year:\"numeric\",month:\"long\",day:\"numeric\"},a={year:\"numeric\",month:\"short\",day:\"numeric\"},h={year:\"numeric\",month:\"long\",weekday:\"long\",day:\"numeric\"},m={hour:\"numeric\",minute:\"numeric\"},i={...m,second:\"numeric\"},s={\"short-date\":r,\"short-date-short-time\":{...r,...m},\"short-date-short-time-24\":{...r,...m,hour12:!1},\"short-date-long-time\":{...r,...i},\"short-date-long-time-24\":{...r,...i,hour12:!1},\"short-date-le\":r,\"short-date-le-short-time\":{...r,...m},\"short-date-le-short-time-24\":{...r,...m,hour12:!1},\"short-date-le-long-time\":{...r,...i},\"short-date-le-long-time-24\":{...r,...i,hour12:!1},\"long-month-day-year\":n,\"long-month-day-year-short-time\":{...n,...m},\"long-month-day-year-short-time-24\":{...n,...m,hour12:!1},\"long-month-day-year-long-time\":{...n,...i},\"long-month-day-year-long-time-24\":{...n,...i,hour12:!1},\"day-short-month-year\":a,\"day-short-month-year-short-time\":{...a,...m},\"day-short-month-year-short-time-24\":{...a,...m,hour12:!1},\"day-short-month-year-long-time\":{...a,...i},\"day-short-month-year-long-time-24\":{...a,...i,hour12:!1},\"long-date\":h,\"long-date-short-time\":{...h,...m},\"long-date-short-time-24\":{...h,...m,hour12:!1},\"long-date-long-time\":{...h,...i},\"long-date-long-time-24\":{...h,...i,hour12:!1},\"long-month-year\":{month:\"long\",year:\"numeric\"},\"short-month-year\":{month:\"short\",year:\"numeric\"},year:{year:\"numeric\"},\"short-time\":m,\"long-time\":i},l=t()({shortDate:\"short-date\",shortDateShortTime:\"short-date-short-time\",shortDateShortTime24:\"short-date-short-time-24\",shortDateLongTime:\"short-date-long-time\",shortDateLongTime24:\"short-date-long-time-24\",shortDateLE:\"short-date-le\",shortDateLEShortTime:\"short-date-le-short-time\",shortDateLEShortTime24:\"short-date-le-short-time-24\",shortDateLELongTime:\"short-date-le-long-time\",shortDateLELongTime24:\"short-date-le-long-time-24\",longMonthDayYear:\"long-month-day-year\",longMonthDayYearShortTime:\"long-month-day-year-short-time\",longMonthDayYearShortTime24:\"long-month-day-year-short-time-24\",longMonthDayYearLongTime:\"long-month-day-year-long-time\",longMonthDayYearLongTime24:\"long-month-day-year-long-time-24\",dayShortMonthYear:\"day-short-month-year\",dayShortMonthYearShortTime:\"day-short-month-year-short-time\",dayShortMonthYearShortTime24:\"day-short-month-year-short-time-24\",dayShortMonthYearLongTime:\"day-short-month-year-long-time\",dayShortMonthYearLongTime24:\"day-short-month-year-long-time-24\",longDate:\"long-date\",longDateShortTime:\"long-date-short-time\",longDateShortTime24:\"long-date-short-time-24\",longDateLongTime:\"long-date-long-time\",longDateLongTime24:\"long-date-long-time-24\",longMonthYear:\"long-month-year\",shortMonthYear:\"short-month-year\",year:\"year\"}),g=l.apiValues,y=l.toJSON.bind(l),d=l.fromJSON.bind(l),u={ar:\"ar-u-nu-latn-ca-gregory\"};let c=new WeakMap,D=s[\"short-date-short-time\"];function T(t){const o=t||D;if(!c.has(o)){const t=e(),r=u[e()]||t;c.set(o,new Intl.DateTimeFormat(r,o))}return c.get(o)}function S(t){return s[t]||null}function L(t,o){return T(o).format(t)}o((()=>{c=new WeakMap,D=s[\"short-date-short-time\"]}));export{S as convertDateFormatToIntlOptions,g as dateFormats,l as dictionary,L as formatDate,d as fromJSON,T as getDateTimeFormatter,y as toJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport n from\"../core/global.js\";var o,l,e;let t,r;const u=null!=(o=null==(l=n.esriConfig)?void 0:l.locale)?o:null==(e=n.dojoConfig)?void 0:e.locale;function c(){var o,l;return null!=(o=null!=u?u:null==(l=n.navigator)?void 0:l.language)?o:\"en\"}function i(){return void 0===r&&(r=c()),r}function a(n){t=n||void 0,m()}function s(n=i()){const o=/^([a-zA-Z]{2,3})(?:[_\\-]\\w+)*$/.exec(n);return null==o?void 0:o[1].toLowerCase()}const f={he:!0,ar:!0};function v(n=i()){const o=s(n);return void 0!==o&&(f[o]||!1)}const d=[];function g(n){return d.push(n),{remove(){d.splice(d.indexOf(n),1)}}}const h=[];function p(n){return h.push(n),{remove(){d.splice(h.indexOf(n),1)}}}function m(){var n;const o=null!=(n=t)?n:c();r!==o&&(r=o,[...h].forEach((n=>{n.call(null,o)})),[...d].forEach((n=>{n.call(null,o)})))}null==n.addEventListener||n.addEventListener(\"languagechange\",m);export{p as beforeLocaleChange,c as getDefaultLocale,s as getLanguage,i as getLocale,g as onLocaleChange,v as prefersRTL,a as setLocale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../core/Error.js\";import{createDeferred as e}from\"../core/promiseUtils.js\";import{beforeLocaleChange as n,getLocale as r}from\"./locale.js\";const s=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,o={ar:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,\"pt-BR\":!0,\"pt-PT\":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,\"zh-CN\":!0,\"zh-HK\":!0,\"zh-TW\":!0};function i(t){var e;return null!=(e=o[t])&&e}const a=[],c=new Map;function d(t){for(const e of c.keys())m(t.pattern,e)&&c.delete(e)}function l(t){return a.includes(t)||(d(t),a.unshift(t)),{remove(){const e=a.indexOf(t);e>-1&&(a.splice(e,1),d(t))}}}async function u(t){const e=r();c.has(t)||c.set(t,f(t,e));const n=c.get(t);return await _.add(n),n}function h(t){if(!s.test(t))return null;const[,e,n]=s.exec(t),r=e+(n?\"-\"+n.toUpperCase():\"\");return i(r)?r:i(e)?e:null}async function f(e,n){const r=[];for(const t of a)if(m(t.pattern,e))try{return await t.fetchMessageBundle(e,n)}catch(s){r.push(s)}if(r.length)throw new t(\"intl:message-bundle-error\",`Errors occurred while loading \"${e}\"`,{errors:r});throw new t(\"intl:no-message-bundle-loader\",`No loader found for message bundle \"${e}\"`)}function m(t,e){return\"string\"==typeof t?e.startsWith(t):t.test(e)}n((()=>{c.clear()}));const _=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=e())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}},p={cache:c,loaders:a};export{u as fetchMessageBundle,h as normalizeMessageBundleLocale,l as registerMessageBundleLoader,p as test};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{assumeNonNull as t}from\"../core/maybe.js\";import{beforeLocaleChange as n,getLocale as r}from\"./locale.js\";const a={ar:\"ar-u-nu-latn\"};let e=new WeakMap,o={};function i(n){const i=n||o;if(!e.has(i)){const t=r(),o=a[r()]||t;e.set(i,new Intl.NumberFormat(o,n))}return t(e.get(i))}function u(t={}){const n={};return null!=t.digitSeparator&&(n.useGrouping=t.digitSeparator),null!=t.places&&(n.minimumFractionDigits=n.maximumFractionDigits=t.places),n}function m(t,n){return i(n).format(t)}n((()=>{e=new WeakMap,o={}}));export{u as convertNumberFormatToIntlOptions,m as formatNumber,i as getFormatter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../core/Logger.js\";import{getDeepValue as r}from\"../core/object.js\";import{replace as e}from\"../core/string.js\";import{formatDate as n}from\"./date.js\";import{formatNumber as o}from\"./number.js\";const i=t.getLogger(\"esri.intl\");function s(t,r,n={}){const{format:o={}}=n;return e(t,(t=>u(t,r,o)))}function u(t,e,n){let o,i;const s=t.indexOf(\":\");if(-1===s?o=t.trim():(o=t.slice(0,s).trim(),i=t.slice(s+1).trim()),!o)return\"\";const u=r(o,e);if(null==u)return\"\";const m=n[i]||n[o];return m?c(u,m):i?a(u,i):f(u)}function c(t,r){switch(r.type){case\"date\":return n(t,r.intlOptions);case\"number\":return o(t,r.intlOptions);default:return i.warn(\"missing format descriptor for key {key}\"),f(t)}}function a(t,r){switch(r.toLowerCase()){case\"dateformat\":return n(t);case\"numberformat\":return o(t);default:return i.warn(`inline format is unsupported since 4.12: ${r}`),/^(dateformat|datestring)/i.test(r)?n(t):/^numberformat/i.test(r)?o(t):f(t)}}function f(t){switch(typeof t){case\"string\":return t;case\"number\":return o(t);case\"boolean\":return\"\"+t;default:return t instanceof Date?n(t):\"\"}}export{s as substitute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";import t from\"../core/Error.js\";import n from\"../core/global.js\";import{isSome as r}from\"../core/maybe.js\";import{normalizeMessageBundleLocale as o}from\"./messages.js\";async function s(e,n,r,s){const a=n.exec(r);if(!a)throw new t(\"esri-intl:invalid-bundle\",`Bundle id \"${r}\" is not compatible with the pattern \"${n}\"`);const c=a[1]?`${a[1]}/`:\"\",l=a[2],h=o(s),u=`${c}${l}.json`,w=h?`${c}${l}_${h}.json`:u;let f;try{f=await i(e(w))}catch(d){if(w===u)throw new t(\"intl:unknown-bundle\",`Bundle \"${r}\" cannot be loaded`,{error:d});try{f=await i(e(u))}catch(d){throw new t(\"intl:unknown-bundle\",`Bundle \"${r}\" cannot be loaded`,{error:d})}}return f}async function i(t){if(r(l.fetchBundleAsset))return l.fetchBundleAsset(t);const n=await e(t,{responseType:\"text\"});return JSON.parse(n.data)}class a{constructor({base:e=\"\",pattern:t,location:r=new URL(window.location.href)}){let o;o=\"string\"==typeof r?e=>new URL(e,new URL(r,n.location)).href:r instanceof URL?e=>new URL(e,r).href:r,this.pattern=\"string\"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=o,e=e?e.endsWith(\"/\")?e:e+\"/\":\"\",this.matcher=new RegExp(`^${e}(?:(.*)/)?(.*)$`)}fetchMessageBundle(e,t){return s(this.getAssetUrl,this.matcher,e,t)}}function c(e){return new a(e)}const l={};export{a as JSONLoader,c as createJSONLoader,l as test};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import{loadAll as e}from\"../core/loadAll.js\";import{isSome as t}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{getProperties as o}from\"../core/accessorSupport/utils.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import p from\"./Layer.js\";import{BlendLayer as n}from\"./mixins/BlendLayer.js\";import{OperationalLayer as y}from\"./mixins/OperationalLayer.js\";import{PortalLayer as h}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as c}from\"./mixins/ScaleRangeLayer.js\";import{LayersMixin as d}from\"../support/LayersMixin.js\";import{TablesMixin as v}from\"../support/TablesMixin.js\";import{getLayerJSON as b}from\"../webdoc/support/writeUtils.js\";let m=class extends(n(c(y(h(v(d(s(p)))))))){constructor(i){super(i),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch(\"visible\",this._visibleWatcher.bind(this),!0)}_writeLayers(i,e,s,r){const o=[];if(!i)return o;i.forEach((i=>{const e=b(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);t(e)&&e.layerType&&o.push(e)})),e.layers=o}set portalItem(i){this._set(\"portalItem\",i)}set visibilityMode(i){const e=this._get(\"visibilityMode\")!==i;this._set(\"visibilityMode\",i),e&&this._enforceVisibility(i,this.visible)}load(i){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},i)),Promise.resolve(this)}loadAll(){return e(this,(i=>{i(this.layers)}))}layerAdded(i){i.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(i):\"inherited\"===this.visibilityMode&&(i.visible=this.visible),this._visibilityHandles[i.uid]=i.watch(\"visible\",this._visibilityWatcher,!0)}layerRemoved(i){const e=this._visibilityHandles[i.uid];e&&(e.remove(),delete this._visibilityHandles[i.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(i){this.layers.forEach((e=>{e!==i&&(e.visible=!1)}))}_enforceVisibility(i,e){if(!o(this).initialized)return;const t=this.layers;let s=t.find((i=>i.visible));switch(i){case\"exclusive\":t.length&&!s&&(s=t.getItemAt(0),s.visible=!0),this._turnOffOtherLayers(s);break;case\"inherited\":t.forEach((i=>{i.visible=e}))}}_visibleWatcher(i){\"inherited\"===this.visibilityMode&&this.layers.forEach((e=>{e.visible=i}))}_visibilityWatcher(i,e,t,s){const r=s;switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case\"inherited\":r.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((i=>i.visible))}};i([r()],m.prototype,\"fullExtent\",void 0),i([r({json:{read:!1,write:{ignoreOrigin:!0}}})],m.prototype,\"layers\",void 0),i([a(\"layers\")],m.prototype,\"_writeLayers\",null),i([r({type:[\"GroupLayer\"]})],m.prototype,\"operationalLayerType\",void 0),i([r({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],m.prototype,\"portalItem\",null),i([r()],m.prototype,\"spatialReference\",void 0),i([r({json:{read:!1},readOnly:!0,value:\"group\"})],m.prototype,\"type\",void 0),i([r({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{read:!1,write:!1}}}})],m.prototype,\"visibilityMode\",null),m=i([l(\"esri.layers.GroupLayer\")],m);var u=m;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{setDeepValue as r}from\"../../core/object.js\";import{parse as t}from\"./parser.js\";function s(e,r,t){try{return a(e)}catch(s){t.messages&&t.messages.push(s)}return null}function n(e,t,s,n){try{const n=o(e);n&&r(s,n,t)}catch(a){n.messages&&n.messages.push(a)}}function o(e){if(!e)return null;if(\"string\"==typeof e)return f(e);const r=[];for(const{scale:t,value:s}of e)r.push({scale:t,value:f(s)});return r}function a(e){if(!e)return null;if(c(e)){const r=[];for(const t of e)r.push({scale:t.scale,value:u(t.value)});return r}return u(e)}function c(e){const r=e[0];return!!r&&\"scale\"in r}function f(e){if(!e)return null;const r=t(e);if(r.error)throw r.error;return r.effects.map((e=>e.toJSON()))}function u(e){if(!e||!e.length)return null;const r=[];for(const s of e){let e=[];switch(s.type){case\"grayscale\":case\"sepia\":case\"saturate\":case\"invert\":case\"brightness\":case\"contrast\":case\"opacity\":e=[i(s,\"amount\")];break;case\"blur\":e=[i(s,\"radius\",\"pt\")];break;case\"hue-rotate\":e=[i(s,\"angle\",\"deg\")];break;case\"drop-shadow\":e=[i(s,\"xoffset\",\"pt\"),i(s,\"yoffset\",\"pt\"),i(s,\"blurRadius\",\"pt\"),l(s,\"color\")];break;case\"bloom\":e=[i(s,\"strength\"),i(s,\"radius\",\"pt\"),i(s,\"threshold\")]}const n=`${s.type}(${e.filter(Boolean).join(\" \")})`,o=t(n);if(o.error)throw o.error;r.push(n)}return r.join(\" \")}function i(r,t,s){if(null==r[t])throw new e(\"effect:missing-parameter\",`Missing parameter '${t}' in ${r.type} effect`,{effect:r});return s?r[t]+s:\"\"+r[t]}function l(r,t){if(null==r[t])throw new e(\"effect:missing-parameter\",`Missing parameter '${t}' in ${r.type} effect`,{effect:r});const s=r[t];return`rgba(${s[0]||0} ${s[1]||0} ${s[2]||0} ${s[3]/255||0})`}export{u as effectFunctionsFromJSON,f as effectFunctionsToJSON,a as fromJSON,s as read,o as toJSON,n as write};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{read as t,write as s}from\"../effects/jsonUtils.js\";const i=i=>{let n=class extends i{constructor(){super(...arguments),this.blendMode=\"normal\",this.effect=null}};return e([r({type:[\"average\",\"color-burn\",\"color-dodge\",\"color\",\"darken\",\"destination-atop\",\"destination-in\",\"destination-out\",\"destination-over\",\"difference\",\"exclusion\",\"hard-light\",\"hue\",\"invert\",\"lighten\",\"lighter\",\"luminosity\",\"minus\",\"multiply\",\"normal\",\"overlay\",\"plus\",\"reflect\",\"saturation\",\"screen\",\"soft-light\",\"source-atop\",\"source-in\",\"source-out\",\"vivid-light\",\"xor\"],nonNullable:!0,json:{read:!1,write:!1,origins:{\"web-map\":{default:\"normal\",read:!0,write:!0}}}})],n.prototype,\"blendMode\",void 0),e([r({json:{read:!1,write:!1,origins:{\"web-map\":{read:{reader:t},write:{writer:s}}}}})],n.prototype,\"effect\",void 0),n=e([o(\"esri.layers.mixins.BlendLayer\")],n),n};export{i as BlendLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{id as e}from\"../../kernel.js\";import r from\"../../request.js\";import{result as s}from\"../../core/asyncUtils.js\";import o from\"../../core/Error.js\";import i from\"../../core/Logger.js\";import{isNone as a,isSome as l}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as p,throwIfAbortError as m}from\"../../core/promiseUtils.js\";import{normalize as u,hasSamePortal as c}from\"../../core/urlUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as h}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as f}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../../core/accessorSupport/decorators/writer.js\";import g from\"../../portal/Portal.js\";import I from\"../../portal/PortalItem.js\";import v from\"../../portal/PortalUser.js\";const j=i.getLogger(\"esri.layers.mixins.PortalLayer\"),w=i=>{let w=class extends i{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,e,r){if(e.itemId)return new I({id:e.itemId,portal:r&&r.portal})}writePortalItem(t,e){t&&t.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem&&this.portalItem.id)try{const r=await import(\"../../portal/support/layersLoader.js\");return n(e),await r.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},e)}catch(r){throw p(r)||j.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${r}`),r}}async finishLoadEditablePortalLayer(t){this._set(\"userHasEditingPrivileges\",await this.fetchUserHasEditingPrivileges(t).catch((t=>(m(t),!0))))}async fetchUserHasEditingPrivileges(t){const r=this.url?null==e?void 0:e.findCredential(this.url):null;if(!r)return!0;const s=P.credential===r?P.user:await this.fetchEditingUser(t);return P.credential=r,P.user=s,a(s)||null==s.privileges||s.privileges.includes(\"features:user:edit\")}async fetchEditingUser(t){var o,i;const a=null==(o=this.portalItem)||null==(i=o.portal)?void 0:i.user;if(a)return a;const n=e.findServerInfo(this.url);if(null==n||!n.owningSystemUrl)return null;const p=`${n.owningSystemUrl}/sharing/rest`,m=g.getDefault();if(m&&m.loaded&&u(m.restUrl)===u(p))return m.user;const c=`${p}/community/self`,d=l(t)?t.signal:null,h=await s(r(c,{authMode:\"no-prompt\",query:{f:\"json\"},signal:d}));return h.ok?v.fromJSON(h.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const r=e&&e.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||g.getDefault());return r&&s&&!c(s.restUrl,r.restUrl)?(e.messages&&e.messages.push(new o(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return t([d({type:I})],w.prototype,\"portalItem\",null),t([h(\"web-document\",\"portalItem\",[\"itemId\"])],w.prototype,\"readPortalItem\",null),t([y(\"web-document\",\"portalItem\",{itemId:{type:String}})],w.prototype,\"writePortalItem\",null),t([d()],w.prototype,\"resourceReferences\",void 0),t([d({readOnly:!0})],w.prototype,\"userHasEditingPrivileges\",void 0),w=t([f(\"esri.layers.mixins.PortalLayer\")],w),w},P={credential:null,user:null};export{w as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let t=class extends s{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return e([r({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"minScale\",void 0),e([r({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"maxScale\",void 0),e([r({readOnly:!0})],t.prototype,\"scaleRangeId\",null),t=e([o(\"esri.layers.mixins.ScaleRangeLayer\")],t),t};export{s as ScaleRangeLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{convertUnit as e,lengthToDegrees as s}from\"../../core/unitUtils.js\";import{earth as t}from\"../../geometry/support/Ellipsoid.js\";const m={inches:e(1,\"meters\",\"inches\"),feet:e(1,\"meters\",\"feet\"),\"us-feet\":e(1,\"meters\",\"us-feet\"),yards:e(1,\"meters\",\"yards\"),miles:e(1,\"meters\",\"miles\"),\"nautical-miles\":e(1,\"meters\",\"nautical-miles\"),millimeters:e(1,\"meters\",\"millimeters\"),centimeters:e(1,\"meters\",\"centimeters\"),decimeters:e(1,\"meters\",\"decimeters\"),meters:e(1,\"meters\",\"meters\"),kilometers:e(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/s(1,\"meters\",t.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import{referenceSetter as t}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{isPromiseLike as o}from\"../core/promiseUtils.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../layers/Layer.js\";function l(e){return e&&\"group\"===e.type}function d(e,r,t){let s,o;if(e)for(let i=0,a=e.length;i<a;i++){if(s=e.getItemAt(i),s[r]===t)return s;if(l(s)&&(o=d(s.layers,r,t),o))return o}}const y=s.getLogger(\"esri.support.LayersMixin\"),p=s=>{let l=class extends s{constructor(...e){super(...e),this.layers=new r;const t=e=>{e.parent&&\"remove\"in e.parent&&e.parent.remove(e)},s=e=>{e.parent=this,this.layerAdded(e),\"elevation\"!==e.type&&\"base-elevation\"!==e.type||y.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},o=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on(\"before-add\",(e=>t(e.item))),this.layers.on(\"after-add\",(e=>s(e.item))),this.layers.on(\"after-remove\",(e=>o(e.item)))}destroy(){const e=this.layers.removeAll();for(const r of e)this.layerRemoved(r),r.destroy();this.layers.destroy()}set layers(e){this._set(\"layers\",t(e,this._get(\"layers\")))}add(e,r){const t=this.layers;if(r=t.getNextIndex(r),e instanceof n){const s=e;s.parent===this?this.reorder(s,r):t.add(s,r)}else o(e)?e.then((e=>{this.destroyed||this.add(e,r)})):y.error(\"#add()\",\"The item being added is not a Layer or a Promise that resolves to a Layer.\")}addMany(e,r){const t=this.layers;r=t.getNextIndex(r),e.slice().forEach((e=>{e.parent!==this?(t.add(e,r),r+=1):this.reorder(e,r)}))}findLayerById(e){return d(this.layers,\"id\",e)}findLayerByUid(e){return d(this.layers,\"uid\",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return e([i()],l.prototype,\"layers\",null),l=e([a(\"esri.support.LayersMixin\")],l),l};export{p as LayersMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/Collection.js\";import{referenceSetter as r}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";const n=\"esri.support.TablesMixin\",a=s.getLogger(n);function l(t){return t&&\"group\"===t.type}function p(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.getItemAt(s);if(o[e]===r)return o;if(l(o)){const t=p(o.tables,e,r);if(t)return t}}}const c=s=>{let l=class extends s{constructor(...t){super(...t),this.tables=new e,this.tables.on(\"after-add\",(t=>{const e=t.item;e.parent&&e.parent!==this&&\"tables\"in e.parent&&e.parent.tables.remove(e),e.parent=this,\"feature\"!==e.type&&a.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on(\"after-remove\",(t=>{t.item.parent=null}))}destroy(){const t=this.tables.removeAll();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set(\"tables\",r(t,this._get(\"tables\")))}findTableById(t){return p(this.tables,\"id\",t)}findTableByUid(t){return p(this.tables,\"uid\",t)}};return t([o()],l.prototype,\"tables\",null),l=t([i(n)],l),l};export{c as TablesMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{clone as t}from\"../../core/lang.js\";import{isSome as n}from\"../../core/maybe.js\";import{getDeepValue as r}from\"../../core/object.js\";import{numberToJSON as i}from\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";const o=new Set([\"bing-maps\",\"imagery\",\"imagery-tile\",\"map-image\",\"open-street-map\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\",\"wms\",\"wmts\"]),l=new Set([\"csv\",\"feature\",\"geo-rss\",\"group\",\"imagery\",\"imagery-tile\",\"kml\",\"map-image\",\"map-notes\",\"ogc-feature\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\",\"wfs\",\"wms\",\"wmts\"]);function a(e){o.delete(e),l.delete(e)}function s(e){o.add(e),l.add(e)}function c(e){return\"basemap\"===e.layerContainerType?o:\"operational-layers\"===e.layerContainerType?l:null}function m(e){return!(\"feature\"!==e.type||e.url||!e.source||\"memory\"!==e.source.type)}function p(e,t){if(t.restrictedWebMapWriting){const r=c(t);return!n(r)||r.has(e.type)&&!m(e)}return!0}function u(e,t){if(m(e)){const n=r(\"featureCollection.layers\",t),i=n&&n[0]&&n[0].layerDefinition;i&&d(e,i)}else if(\"stream\"===e.type){d(e,t.layerDefinition=t.layerDefinition||{})}else\"group\"!==e.type&&d(e,t)}function d(e,t){\"maxScale\"in e&&(t.maxScale=i(e.maxScale)),\"minScale\"in e&&(t.minScale=i(e.minScale))}function f(e,t){if(u(e,t),\"blendMode\"in e&&(t.blendMode=e.blendMode,\"normal\"===t.blendMode&&delete t.blendMode),t.opacity=i(e.opacity),t.title=e.title||\"Layer\",t.visibility=e.visible,\"legendEnabled\"in e&&\"wmts\"!==e.type)if(m(e)){const n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function y(r,i,o){if(!(\"write\"in r)||!r.write)return o&&o.messages&&o.messages.push(new e(\"layer:unsupported\",`Layers (${r.title}, ${r.id}) of type '${r.declaredClass}' cannot be persisted`,{layer:r})),null;if(p(r,o)){const e={};return r.write(e,o)?e:null}return n(i)&&f(r,i=t(i)),i}export{s as disableRestrictedWriting,a as enableRestrictedWriting,y as getLayerJSON};\n"],"sourceRoot":""}