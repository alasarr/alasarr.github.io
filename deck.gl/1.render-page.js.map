{"version":3,"sources":["webpack://lib/../node_modules/@arcgis/core/portal/Portal.js","webpack://lib/../node_modules/@arcgis/core/portal/PortalFolder.js","webpack://lib/../node_modules/@arcgis/core/portal/PortalGroup.js","webpack://lib/../node_modules/@arcgis/core/portal/PortalQueryParams.js","webpack://lib/../node_modules/@arcgis/core/portal/PortalQueryResult.js","webpack://lib/../node_modules/@arcgis/core/portal/PortalUser.js"],"names":[],"mappings":"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","file":"1.render-page.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../config.js\";import\"../intl.js\";import{id as r}from\"../kernel.js\";import o from\"../request.js\";import{deprecatedProperty as s,deprecatedFunction as i}from\"../core/deprecate.js\";import a from\"../core/Error.js\";import{JSONSupportMixin as l}from\"../core/JSONSupport.js\";import n from\"../core/Loadable.js\";import u from\"../core/Logger.js\";import{isSome as p}from\"../core/maybe.js\";import{throwIfAborted as d,isAborted as h,createAbortError as c,throwIfAbortError as y}from\"../core/promiseUtils.js\";import{property as m}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{ensureType as v}from\"../core/accessorSupport/ensureType.js\";import{reader as f}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as S}from\"../core/accessorSupport/decorators/subclass.js\";import g from\"../geometry/Extent.js\";import P from\"./PortalQueryParams.js\";import _ from\"./PortalQueryResult.js\";import O from\"./PortalUser.js\";import{getLocale as G}from\"../intl/locale.js\";var U;let w;const j={PortalGroup:()=>import(\"./PortalGroup.js\"),PortalItem:()=>import(\"./PortalItem.js\"),PortalUser:()=>import(\"./PortalUser.js\")};let C=U=class extends(l(n)){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode=\"auto\",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=t.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return\"string\"==typeof e?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const r of e)-1===t.request.trustedServers.indexOf(r)&&t.request.trustedServers.push(r);return e}readDefaultBasemap(e){if(e){const t=w.fromJSON(e);return t.portalItem={portal:this},t}return null}readDefaultVectorBasemap(e){if(e){const t=w.fromJSON(e);return t.portalItem={portal:this},t}return null}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf(\"/sharing\");e=t>0?e.substring(0,t):this.url.replace(/\\/+$/,\"\"),e+=\"/sharing/rest\"}return e}get stylesGroupQuery(){return s(u.getLogger(this.declaredClass),\"stylesGroupQuery\",{replacement:\"stylesGroupQuery3d\",version:\"4.21\"}),this.stylesGroupQuery3d}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+\"/portals/self/resources/\"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=O.fromJSON(e),t.portal=this),t}load(e){const t=import(\"../Basemap.js\").then((({default:t})=>{d(e),w=t})).then((()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e))).then((e=>{if(r){const e=r;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==U.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=e.on(\"credential-create\",(()=>{e.findCredential(this.restUrl)&&this._signIn()})))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){i(u.getLogger(this.declaredClass),null,{replacement:\"Use helperServices url with esri/rest/closestFacility\",version:\"4.21\"}),await this.load();const e=this._getHelperServiceUrl(\"closestFacility\");return new(0,(await import(\"../tasks/ClosestFacilityTask.js\")).default)(e)}async createElevationLayers(){await this.load();const e=this._getHelperService(\"defaultElevationLayers\"),t=(await import(\"../layers/ElevationLayer.js\")).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async createGeometryService(){i(u.getLogger(this.declaredClass),null,{replacement:\"Use helperServices url with esri/rest/geometryService\",version:\"4.21\"}),await this.load();const e=this._getHelperServiceUrl(\"geometry\");return new(0,(await import(\"../tasks/GeometryService.js\")).default)({url:e})}async createPrintTask(){i(u.getLogger(this.declaredClass),null,{replacement:\"Use helperServices url with esri/rest/print\",version:\"4.21\"}),await this.load();const e=this._getHelperServiceUrl(\"printTask\");return new(0,(await import(\"../tasks/PrintTask.js\")).default)(e)}async createRouteTask(){i(u.getLogger(this.declaredClass),null,{replacement:\"Use helperServices url with esri/rest/route\",version:\"4.21\"}),await this.load();const e=this._getHelperServiceUrl(\"route\");return new(0,(await import(\"../tasks/RouteTask.js\")).default)(e)}async createServiceAreaTask(){i(u.getLogger(this.declaredClass),null,{replacement:\"Use helperServices url with esri/rest/serviceArea\",version:\"4.21\"}),await this.load();const e=this._getHelperServiceUrl(\"serviceArea\");return new(0,(await import(\"../tasks/ServiceAreaTask.js\")).default)(e)}fetchBasemaps(e,t){const r=new P;return r.query=e||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then((e=>{if(r.num=100,r.query='type:\"Web Map\" -type:\"Web Application\"',e.total){const o=e.results[0];return r.sortField=o.sortField||\"name\",r.sortOrder=o.sortOrder||\"desc\",o.queryItems(r,t)}return null})).then((e=>{let t;return t=e&&e.total?e.results.filter((e=>\"Web Map\"===e.type)).map((e=>new w({portalItem:e}))):[],t}))}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+\"/portals/self/categorySchema\",e).then((e=>e.categorySchema)):h(e)?Promise.reject(c()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new P;if(r.num=100,r.sortField=\"title\",t&&t.length){const o=[];for(const e of t)o.push(`(title:\"${e.title}\" AND owner:${e.owner})`);return r.query=o.join(\" OR \"),this.queryGroups(r,e).then((e=>e.results))}return h(e)?Promise.reject(c()):Promise.resolve([])}fetchRegions(e){const t=this.user&&this.user.culture||this.culture||G();return this._request(this.restUrl+\"/portals/regions\",{...e,query:{culture:t}})}static getDefault(){return U._default&&!U._default.destroyed||(U._default=new U),U._default}queryGroups(e,t){return this._queryPortal(\"/community/groups\",e,\"PortalGroup\",t)}queryItems(e,t){return this._queryPortal(\"/search\",e,\"PortalItem\",t)}queryUsers(e,t){return e.sortField||(e.sortField=\"username\"),this._queryPortal(\"/community/users\",e,\"PortalUser\",t)}toJSON(){throw new a(\"internal:not-yet-implemented\",\"Portal.toJSON is not yet implemented\")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error(\"JSON object is already hydrated\");return new U({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new a(\"portal:service-not-found\",`The \\`helperServices\\` do not include an entry named \"${e}\"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new a(\"portal:service-url-not-found\",`The \\`helperServices\\` entry \"${e}\" does not include a \\`url\\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const o=this.restUrl+\"/portals/self\",s={authMode:e,query:{culture:G().toLowerCase()},...r};return\"auto\"===s.authMode&&(s.authMode=\"no-prompt\"),t&&(s.query.default=!0),this._request(o,s)}_queryPortal(e,t,r,o){const s=v(P,t),i=t=>this._request(this.restUrl+e,{...s.toRequestOptions(this),...o}).then((e=>{const r=s.clone();return r.start=e.nextStart,new _({nextQueryParams:r,queryParams:s,total:e.total,results:U._resultsToTypedArray(t,{portal:this},e,o)})})).then((e=>Promise.all(e.results.map((t=>\"function\"==typeof t.when?t.when():e))).then((()=>e),(t=>(y(t),e)))));return r&&j[r]?j[r]().then((({default:e})=>(d(o),i(e)))):i()}_signIn(){if(this.authMode===U.AUTH_MODE_ANONYMOUS)return Promise.reject(new a(\"portal:invalid-auth-mode\",`Current \"authMode\"' is \"${this.authMode}\"`));if(\"failed\"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>\"not-loaded\"===this.loadStatus?(e||(this.authMode=\"immediate\"),this.load().then((()=>null))):\"loading\"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this._fetchSelf(\"immediate\")))):this.user&&this.credential===e?null:(this.credential=e,this._fetchSelf(\"immediate\")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return r?r.getCredential(this.restUrl).then((t=>e(t))):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,\"https:\").replace(\":7080\",\":7443\")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf(\"?\")>-1?\"&\":\"?\")+\"token=\"+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then((e=>{const t=U._resultsToTypedArray(r,{portal:this},e);return Promise.all(t.map((t=>\"function\"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}_request(e,t={}){const r={f:\"json\",...t.query},{authMode:s=(this.authMode===U.AUTH_MODE_ANONYMOUS?\"anonymous\":\"auto\"),body:i=null,cacheBust:a=!1,method:l=\"auto\",responseType:n=\"json\",signal:u}=t,p={authMode:s,body:i,cacheBust:a,method:l,query:r,responseType:n,timeout:0,signal:u};return o(this._normalizeSSL(e),p).then((e=>e.data))}static _resultsToTypedArray(e,t,r,o){let s;if(r){const i=p(o)?o.signal:null;s=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(s=s.map((r=>{const o=Object.assign(e?e.fromJSON(r):r,t);return\"function\"==typeof o.load&&o.load(i),o})))}else s=[];return s}};C.AUTH_MODE_ANONYMOUS=\"anonymous\",C.AUTH_MODE_AUTO=\"auto\",C.AUTH_MODE_IMMEDIATE=\"immediate\",e([m()],C.prototype,\"access\",void 0),e([m()],C.prototype,\"allSSL\",void 0),e([m()],C.prototype,\"authMode\",void 0),e([m()],C.prototype,\"authorizedCrossOriginDomains\",void 0),e([f(\"authorizedCrossOriginDomains\")],C.prototype,\"readAuthorizedCrossOriginDomains\",null),e([m()],C.prototype,\"basemapGalleryGroupQuery\",void 0),e([m()],C.prototype,\"bingKey\",void 0),e([m()],C.prototype,\"canListApps\",void 0),e([m()],C.prototype,\"canListData\",void 0),e([m()],C.prototype,\"canListPreProvisionedItems\",void 0),e([m()],C.prototype,\"canProvisionDirectPurchase\",void 0),e([m()],C.prototype,\"canSearchPublic\",void 0),e([m()],C.prototype,\"canShareBingPublic\",void 0),e([m()],C.prototype,\"canSharePublic\",void 0),e([m()],C.prototype,\"canSignInArcGIS\",void 0),e([m()],C.prototype,\"canSignInIDP\",void 0),e([m()],C.prototype,\"colorSetsGroupQuery\",void 0),e([m()],C.prototype,\"commentsEnabled\",void 0),e([m({type:Date})],C.prototype,\"created\",void 0),e([m()],C.prototype,\"credential\",void 0),e([m()],C.prototype,\"culture\",void 0),e([m()],C.prototype,\"currentVersion\",void 0),e([m()],C.prototype,\"customBaseUrl\",void 0),e([m()],C.prototype,\"defaultBasemap\",void 0),e([f(\"defaultBasemap\")],C.prototype,\"readDefaultBasemap\",null),e([m({type:g})],C.prototype,\"defaultExtent\",void 0),e([m()],C.prototype,\"defaultVectorBasemap\",void 0),e([f(\"defaultVectorBasemap\")],C.prototype,\"readDefaultVectorBasemap\",null),e([m()],C.prototype,\"description\",void 0),e([m()],C.prototype,\"eueiEnabled\",void 0),e([m({readOnly:!0})],C.prototype,\"extraQuery\",null),e([m()],C.prototype,\"featuredGroups\",void 0),e([m()],C.prototype,\"featuredItemsGroupQuery\",void 0),e([m()],C.prototype,\"galleryTemplatesGroupQuery\",void 0),e([m()],C.prototype,\"livingAtlasGroupQuery\",void 0),e([m()],C.prototype,\"hasCategorySchema\",void 0),e([m()],C.prototype,\"helpBase\",void 0),e([m()],C.prototype,\"helperServices\",void 0),e([m()],C.prototype,\"helpMap\",void 0),e([m()],C.prototype,\"homePageFeaturedContent\",void 0),e([m()],C.prototype,\"homePageFeaturedContentCount\",void 0),e([m()],C.prototype,\"httpPort\",void 0),e([m()],C.prototype,\"httpsPort\",void 0),e([m()],C.prototype,\"id\",void 0),e([m()],C.prototype,\"ipCntryCode\",void 0),e([m({readOnly:!0})],C.prototype,\"isOrganization\",null),e([m()],C.prototype,\"isPortal\",void 0),e([m()],C.prototype,\"isReadOnly\",void 0),e([m()],C.prototype,\"layerTemplatesGroupQuery\",void 0),e([m()],C.prototype,\"maxTokenExpirationMinutes\",void 0),e([m({type:Date})],C.prototype,\"modified\",void 0),e([m()],C.prototype,\"name\",void 0),e([m()],C.prototype,\"portalHostname\",void 0),e([m()],C.prototype,\"portalMode\",void 0),e([m()],C.prototype,\"portalProperties\",void 0),e([m()],C.prototype,\"region\",void 0),e([m({readOnly:!0})],C.prototype,\"restUrl\",null),e([m()],C.prototype,\"rotatorPanels\",void 0),e([m()],C.prototype,\"showHomePageDescription\",void 0),e([m()],C.prototype,\"sourceJSON\",void 0),e([m()],C.prototype,\"staticImagesUrl\",void 0),e([m({readOnly:!0,json:{read:!1}})],C.prototype,\"stylesGroupQuery\",null),e([m({json:{name:\"2DStylesGroupQuery\"}})],C.prototype,\"stylesGroupQuery2d\",void 0),e([m({json:{name:\"stylesGroupQuery\"}})],C.prototype,\"stylesGroupQuery3d\",void 0),e([m()],C.prototype,\"supportsHostedServices\",void 0),e([m()],C.prototype,\"symbolSetsGroupQuery\",void 0),e([m()],C.prototype,\"templatesGroupQuery\",void 0),e([m()],C.prototype,\"thumbnail\",void 0),e([m({readOnly:!0})],C.prototype,\"thumbnailUrl\",null),e([m()],C.prototype,\"units\",void 0),e([m()],C.prototype,\"url\",void 0),e([m()],C.prototype,\"urlKey\",void 0),e([f(\"urlKey\")],C.prototype,\"readUrlKey\",null),e([m()],C.prototype,\"user\",void 0),e([f(\"user\")],C.prototype,\"readUser\",null),e([m()],C.prototype,\"useStandardizedQuery\",void 0),e([m()],C.prototype,\"useVectorBasemaps\",void 0),e([m()],C.prototype,\"vectorBasemapGalleryGroupQuery\",void 0),C=U=e([S(\"esri.portal.Portal\")],C);var Q=C;export{Q as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"../core/Error.js\";import{JSONSupport as o}from\"../core/JSONSupport.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";let p=class extends o{constructor(r){super(r),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const r=this.get(\"portal.restUrl\");return r?`${r}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new t(\"internal:not-yet-implemented\",\"PortalFolder.toJSON is not yet implemented\")}};r([e({type:Date})],p.prototype,\"created\",void 0),r([e()],p.prototype,\"id\",void 0),r([e()],p.prototype,\"portal\",void 0),r([e()],p.prototype,\"title\",void 0),r([e({readOnly:!0})],p.prototype,\"url\",null),r([e()],p.prototype,\"username\",void 0),p=r([s(\"esri.portal.PortalFolder\")],p);var l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../core/Error.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{ensureType as s}from\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"./PortalQueryParams.js\";let l=class extends e{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,r=this.thumbnail;return t&&r?this.portal._normalizeUrl(`${t}/info/${r}?f=json`):null}get url(){const t=this.get(\"portal.restUrl\");return t?t+\"/community/groups/\"+this.id:null}fetchCategorySchema(t){return this.portal._request(this.url+\"/categorySchema\",t).then((r=>{const e=r.categorySchema||[];return e.some((t=>\"contentCategorySetsGroupQuery.LivingAtlas\"===t.source))?this._fetchCategorySchemaSet(\"LivingAtlas\",t):e}))}fetchMembers(t){return this.portal._request(this.url+\"/users\",t)}getThumbnailUrl(t){let r=this.thumbnailUrl;return r&&t&&(r+=`&w=${t}`),r}toJSON(){throw new r(\"internal:not-yet-implemented\",\"PortalGroup.toJSON is not yet implemented\")}queryItems(t,r){let e=s(i,t);return parseFloat(this.portal.currentVersion)>5?(e=e||new i,this.portal._queryPortal(`/content/groups/${this.id}/search`,e,\"PortalItem\",r)):(e=e?e.clone():new i,e.query=\"group:\"+this.id+(e.query?\" \"+e.query:\"\"),this.portal.queryItems(e,r))}_fetchCategorySchemaSet(t,e){return this.portal._fetchSelf(this.portal.authMode,!0,e).then((t=>{const o=t.contentCategorySetsGroupQuery;if(o){const t=new i;return t.disableExtraQuery=!0,t.num=1,t.query=o,this.portal.queryGroups(t,e)}throw new r(\"portal-group:fetchCategorySchema\",\"contentCategorySetsGroupQuery value not found\")})).then((o=>{if(o.total){const r=o.results[0],s=new i;return s.num=1,s.query=`typekeywords:\"${t}\"`,r.queryItems(s,e)}throw new r(\"portal-group:fetchCategorySchema\",\"contentCategorySetsGroupQuery group not found\")})).then((t=>{if(t.total){return t.results[0].fetchData(\"json\",e).then((t=>{const r=t&&t.categorySchema;return r&&r.length?r:[]}))}return[]}))}};t([o()],l.prototype,\"access\",void 0),t([o({type:Date})],l.prototype,\"created\",void 0),t([o()],l.prototype,\"description\",void 0),t([o()],l.prototype,\"id\",void 0),t([o()],l.prototype,\"isInvitationOnly\",void 0),t([o({type:Date})],l.prototype,\"modified\",void 0),t([o()],l.prototype,\"owner\",void 0),t([o()],l.prototype,\"portal\",void 0),t([o()],l.prototype,\"snippet\",void 0),t([o()],l.prototype,\"sortField\",void 0),t([o()],l.prototype,\"sortOrder\",void 0),t([o()],l.prototype,\"tags\",void 0),t([o()],l.prototype,\"thumbnail\",void 0),t([o({readOnly:!0})],l.prototype,\"thumbnailUrl\",null),t([o()],l.prototype,\"title\",void 0),t([o({readOnly:!0})],l.prototype,\"url\",null),l=t([n(\"esri.portal.PortalGroup\")],l);var p=l;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../core/Accessor.js\";import{JSONMap as e}from\"../core/jsonMap.js\";import{clone as s}from\"../core/lang.js\";import{isSome as o}from\"../core/maybe.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../geometry/Extent.js\";import m from\"../geometry/SpatialReference.js\";import{project as p}from\"../geometry/support/webMercatorUtils.js\";var u;const l=new e({avgRating:\"avg-rating\",numRatings:\"num-ratings\",numComments:\"num-comments\",numViews:\"num-views\"});let c=u=class extends r{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get(\"sortOrder\")||\"asc\"}set sortOrder(t){\"asc\"!==t&&\"desc\"!==t||this._set(\"sortOrder\",t)}clone(){return new u({categories:this.categories?s(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,r){let e,s;if(this.categories&&(e=this.categories.map((t=>Array.isArray(t)?JSON.stringify(t):t))),this.extent){const t=p(this.extent,m.WGS84);o(t)&&(s=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}let i=this.query;!this.disableExtraQuery&&t.extraQuery&&(i=\"(\"+i+\")\"+t.extraQuery);const a={categories:e,bbox:s,q:i,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(a.sortField=this.sortField.split(\",\").map((t=>l.toJSON(t.trim()))).join(\",\"),a.sortOrder=this.sortOrder),{query:{...r,...a}}}};t([i()],c.prototype,\"categories\",void 0),t([i()],c.prototype,\"disableExtraQuery\",void 0),t([i({type:n})],c.prototype,\"extent\",void 0),t([i()],c.prototype,\"num\",void 0),t([i()],c.prototype,\"query\",void 0),t([i()],c.prototype,\"sortField\",void 0),t([i()],c.prototype,\"sortOrder\",null),t([i()],c.prototype,\"start\",void 0),c=u=t([a(\"esri.portal.PortalQueryParams\")],c);var d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import o from\"../core/Accessor.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";let e=class extends o{constructor(r){super(r),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};r([s()],e.prototype,\"nextQueryParams\",void 0),r([s()],e.prototype,\"queryParams\",void 0),r([s()],e.prototype,\"results\",void 0),r([s()],e.prototype,\"total\",void 0),e=r([t(\"esri.portal.PortalQueryResult\")],e);var p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../core/Error.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import s from\"./PortalFolder.js\";import n from\"./PortalGroup.js\";var i;let u=i=class extends e{constructor(...t){super(...t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const t=this.url,r=this.thumbnail;return t&&r?this.portal._normalizeUrl(`${t}/info/${r}?f=json`):null}get userContentUrl(){const t=this.get(\"portal.restUrl\");return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.get(\"portal.restUrl\");return t?`${t}/community/users/${this.username}`:null}addItem(t){const r=t&&t.item,e=t&&t.data,o=t&&t.folder,l={method:\"post\"};r&&(l.query=r.createPostQuery(),null!=e&&(\"string\"==typeof e?l.query.text=e:\"object\"==typeof e&&(l.query.text=JSON.stringify(e))));let s=this.userContentUrl;return o&&(s+=\"/\"+(\"string\"==typeof o?o:o.id)),this.portal._request(s+\"/addItem\",l).then((t=>(r.id=t.id,r.portal=this.portal,r.loaded?r.reload():r.load())))}deleteItem(t){let r=this.userContentUrl;return t.ownerFolder&&(r+=\"/\"+t.ownerFolder),this.portal._request(r+`/items/${t.id}/delete`,{method:\"post\"}).then((()=>{t.id=null,t.portal=null}))}deleteItems(t){const r=this.userContentUrl+\"/deleteItems\",e=t.map((t=>t.id));if(e.length){const o={method:\"post\",query:{items:e.join(\",\")}};return this.portal._request(r,o).then((()=>{t.forEach((t=>{t.id=null,t.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){const t={query:{num:1}};return this.portal._request(this.userContentUrl,t).then((t=>{let r;return r=t&&t.folders?t.folders.map((t=>{const r=s.fromJSON(t);return r.portal=this.portal,r})):[],r}))}fetchGroups(){return this.portal._request(this.url).then((t=>{let r;return r=t&&t.groups?t.groups.map((t=>{const r=n.fromJSON(t);return r.portal=this.portal,r})):[],r}))}fetchItems(t){t||(t={});let r,e=this.userContentUrl;return t.folder&&(e+=\"/\"+t.folder.id),import(\"./PortalItem.js\").then((({default:o})=>{r=o;const l={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||\"created\",sortOrder:t.sortOrder||\"asc\"};return this.portal._request(e,{query:l})})).then((t=>{let e;return t&&t.items?(e=t.items.map((t=>{const e=r.fromJSON(t);return e.portal=this.portal,e})),Promise.all(e.map((t=>t.load()))).catch((t=>t)).then((()=>({items:e,nextStart:t.nextStart,total:t.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal._request(this.url+\"/tags\").then((t=>t.tags))}getThumbnailUrl(t){let r=this.thumbnailUrl;return r&&t&&(r+=`&w=${t}`),r}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new n({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new r(\"internal:unknown\",\"Unknown internal error\",{internalError:\"Unknown favGroupId\"}))}toJSON(){throw new r(\"internal:not-yet-implemented\",\"PortalGroup.toJSON is not yet implemented\")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error(\"JSON object is already hydrated\");const r=new i;return r.sourceJSON=t,r.read(t),r}};t([o()],u.prototype,\"access\",void 0),t([o({type:Date})],u.prototype,\"created\",void 0),t([o()],u.prototype,\"culture\",void 0),t([o()],u.prototype,\"description\",void 0),t([o()],u.prototype,\"email\",void 0),t([o()],u.prototype,\"favGroupId\",void 0),t([o()],u.prototype,\"fullName\",void 0),t([o({type:Date})],u.prototype,\"modified\",void 0),t([o()],u.prototype,\"orgId\",void 0),t([o()],u.prototype,\"portal\",void 0),t([o()],u.prototype,\"preferredView\",void 0),t([o()],u.prototype,\"privileges\",void 0),t([o()],u.prototype,\"region\",void 0),t([o()],u.prototype,\"role\",void 0),t([o()],u.prototype,\"roleId\",void 0),t([o()],u.prototype,\"sourceJSON\",void 0),t([o()],u.prototype,\"thumbnail\",void 0),t([o({readOnly:!0})],u.prototype,\"thumbnailUrl\",null),t([o()],u.prototype,\"units\",void 0),t([o({readOnly:!0})],u.prototype,\"userContentUrl\",null),t([o({readOnly:!0})],u.prototype,\"url\",null),t([o()],u.prototype,\"username\",void 0),t([o()],u.prototype,\"userType\",void 0),u=i=t([l(\"esri.portal.PortalUser\")],u);var p=u;export{p as default};\n"],"sourceRoot":""}