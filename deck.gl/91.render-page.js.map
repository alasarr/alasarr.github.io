{"version":3,"sources":["webpack://lib/../node_modules/@arcgis/core/geometry/support/normalizeUtils.js","webpack://lib/../node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js","webpack://lib/../node_modules/@arcgis/core/layers/graphics/OptimizedFeatureSet.js","webpack://lib/../node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js","webpack://lib/../node_modules/@arcgis/core/rest/query/operations/query.js","webpack://lib/../node_modules/@arcgis/core/rest/query/operations/queryZScale.js","webpack://lib/../node_modules/@arcgis/core/rest/query/operations/zscale.js","webpack://lib/../node_modules/@arcgis/core/tasks/geometry/cut.js","webpack://lib/../node_modules/@arcgis/core/tasks/geometry/simplify.js","webpack://lib/../node_modules/@arcgis/core/tasks/operations/urlUtils.js"],"names":[],"mappings":"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","file":"91.render-page.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../config.js\";import e from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import r from\"../Polygon.js\";import i from\"../Polyline.js\";import{getGeometryParts as l,cutParams as f,offsetMagnitude as c,updatePolyGeometry as p}from\"./normalizeUtilsCommon.js\";import{getInfo as u}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as a,webMercatorToGeographic as h}from\"./webMercatorUtils.js\";import{cut as m}from\"../../tasks/geometry/cut.js\";import{simplify as g}from\"../../tasks/geometry/simplify.js\";const y=n.getLogger(\"esri.geometry.support.normalizeUtils\");function x(t){return\"polygon\"===t.type}function d(t){return\"polygon\"===t[0].type}function w(t){return\"polyline\"===t[0].type}function j(t){const e=[];let n=0,o=0;for(let s=0;s<t.length;s++){const r=t[s];let i=null;for(let t=0;t<r.length;t++)i=r[t],e.push(i),0===t?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&e.push([(n+o)/2,0])}return e}function R(t,n){if(!(t instanceof i||t instanceof r)){const t=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw y.error(t),new e(t)}const o=l(t),s=[];for(const e of o){const t=[];s.push(t),t.push([e[0][0],e[0][1]]);for(let o=0;o<e.length-1;o++){const s=e[o][0],r=e[o][1],i=e[o+1][0],l=e[o+1][1],f=Math.sqrt((i-s)*(i-s)+(l-r)*(l-r)),c=(l-r)/f,p=(i-s)/f,u=f/n;if(u>1){for(let l=1;l<=u-1;l++){const e=l*n,o=p*e+s,i=c*e+r;t.push([o,i])}const e=(f+Math.floor(u-1)*n)/2,o=p*e+s,i=c*e+r;t.push([o,i])}t.push([i,l])}}return x(t)?new r({rings:s,spatialReference:t.spatialReference}):new i({paths:s,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=h(e,!0)}return n&&(t=p(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=c(o,e);t[0]=o+n*(-2*e)}else if(o<n){const e=c(o,n);t[0]=o+e*(-2*n)}}else{const o=t.x;if(o>e){const n=c(o,e);t=t.clone().offset(n*(-2*e),0)}else if(o<n){const e=c(o,n);t=t.clone().offset(e*(-2*n),0)}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=l(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return!0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*c(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0))}return!0}}))}if(s===n){if(d(t))for(const e of l(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of l(r))t[s]=t[s].addPath(e)}else n=s,t[s]=r}return t}async function L(e,n,l){if(!Array.isArray(e))return L([e],n);const h=n?n.url:t.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t of e)if(o(t))z.push(t);else if(y||(y=t.spatialReference,x=u(y),d=y.isWebMercator,R=d?102100:4326,w=f[R].maxX,j=f[R].minX,U=f[R].plus180Line,k=f[R].minus180Line),x)if(\"mesh\"===t.type)z.push(t);else if(\"point\"===t.type)z.push(P(t.clone(),w,j));else if(\"multipoint\"===t.type){const e=t.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e)}else if(\"extent\"===t.type){const e=t.clone()._normalize(!1,!1,x);z.push(e.rings?new r(e):e)}else if(t.extent){const e=t.extent,n=c(e.xmin,j)*(2*w);let o=0===n?t.clone():p(t.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push(\"cut\")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push(\"cut\")):z.push(o)}else z.push(t.clone());else z.push(t);let I=c(v,w),X=-90;const q=I,C=new i;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--}if(A.length>0&&q>0){const t=b(A,await m(h,A,C,l)),n=[],o=[];for(let l=0;l<z.length;l++){const r=z[l];if(\"cut\"!==r)o.push(r);else{const r=t.shift(),i=e[l];s(i)&&\"polygon\"===i.type&&i.rings&&i.rings.length>1&&r.rings.length>=i.rings.length?(n.push(r),o.push(\"simplify\")):o.push(d?a(r):r)}}if(!n.length)return o;const r=await g(h,n,l),i=[];for(let e=0;e<o.length;e++){const t=o[e];\"simplify\"!==t?i.push(t):i.push(d?a(r.shift()):r.shift())}return i}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if(\"cut\"!==e)D.push(e);else{const t=A.shift();D.push(!0===d?a(t):t)}}return Promise.resolve(D)}function U(t){if(!t)return null;const e=t.extent;if(!e)return null;const n=t.spatialReference&&u(t.spatialReference);if(!n)return e;const[o,s]=n.valid,r=2*s,{width:i}=e;let l,{xmin:f,xmax:c}=e;if([f,c]=[c,f],\"extent\"===t.type||0===i||i<=s||i>r||f<o||c>s)return e;switch(t.type){case\"polygon\":if(!(t.rings.length>1))return e;l=j(t.rings);break;case\"polyline\":if(!(t.paths.length>1))return e;l=j(t.paths);break;case\"multipoint\":l=t.points}const p=e.clone();for(let u=0;u<l.length;u++){let t=l[u][0];t<0?(t+=s,c=Math.max(t,c)):(t-=s,f=Math.min(t,f))}return p.xmin=f,p.xmax=c,p.width<i?(p.xmin-=s,p.xmax-=s,p):e}function k(t,e){const n=u(e);if(n){const[e,o]=n.valid,s=o-e;if(t<e)for(;t<e;)t+=s;if(t>o)for(;t>o;)t-=s}return t}export{U as getDenormalizedExtent,L as normalizeCentralMeridian,k as normalizeMapX,R as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../core/maybe.js\";class s{constructor(t=null,s={},e,o){this.geometry=t,this.attributes=s,this.centroid=e,this.objectId=o,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new s(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function e(s){return!(t(s.geometry)||!s.geometry.coords||!s.geometry.coords.length)}class o extends s{}export{o as OptimizedFeatureWithGeometry,s as default,e as hasGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass t{constructor(t=[],e=[],s=!1){this.lengths=null!=t?t:[],this.coords=null!=e?e:[],this.hasIndeterminateRingOrder=s}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((t,e)=>t+e))}forEachVertex(t){let e=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let s=0;s<this.lengths.length;s++){const h=this.lengths[s];for(let s=0;s<h;s++){t(this.coords[2*(s+e)],this.coords[2*(s+e)+1])}e+=h}}clone(e){return e?(e.set(this.coords),new t(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new t(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{isSome as e}from\"../../../core/maybe.js\";import{join as r,urlToObject as n}from\"../../../core/urlUtils.js\";import{getJsonType as i}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as o}from\"../../../geometry/support/normalizeUtils.js\";import{parsePBFFeatureQuery as s}from\"./pbfQueryUtils.js\";import{applyFeatureSetZUnitScaling as u}from\"./queryZScale.js\";import{mapParameters as a}from\"../../../tasks/operations/urlUtils.js\";const l=\"Layer does not support extent calculation.\";function m(t,r){const n=t.geometry,o=t.toJSON(),s=o;if(e(n)&&(s.geometry=JSON.stringify(n),s.geometryType=i(n),s.inSR=n.spatialReference.wkid||JSON.stringify(n.spatialReference)),o.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=o.groupByFieldsForStatistics.join(\",\")),o.objectIds&&(s.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(s.orderByFields=o.orderByFields.join(\",\")),!o.outFields||!o.returnDistinctValues&&(null!=r&&r.returnCountOnly||null!=r&&r.returnExtentOnly||null!=r&&r.returnIdsOnly)?delete s.outFields:-1!==o.outFields.indexOf(\"*\")?s.outFields=\"*\":s.outFields=o.outFields.join(\",\"),o.outSR?s.outSR=o.outSR.wkid||JSON.stringify(o.outSR):n&&(o.returnGeometry||o.returnCentroid)&&(s.outSR=s.inSR),o.returnGeometry&&delete o.returnGeometry,o.outStatistics&&(s.outStatistics=JSON.stringify(o.outStatistics)),o.pixelSize&&(s.pixelSize=JSON.stringify(o.pixelSize)),o.quantizationParameters&&(s.quantizationParameters=JSON.stringify(o.quantizationParameters)),o.parameterValues&&(s.parameterValues=JSON.stringify(o.parameterValues)),o.rangeValues&&(s.rangeValues=JSON.stringify(o.rangeValues)),o.dynamicDataSource&&(s.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o.timeExtent){const t=o.timeExtent,{start:e,end:r}=t;null==e&&null==r||(s.time=e===r?e:`${null==e?\"null\":e},${null==r?\"null\":r}`),delete o.timeExtent}return s}async function y(t,r,n,i){const o=e(r.timeExtent)&&r.timeExtent.isEmpty?{data:{features:[]}}:await g(t,r,\"json\",i);return u(r,n,o.data),o}async function c(t,r,n,i){if(e(r.timeExtent)&&r.timeExtent.isEmpty)return Promise.resolve({data:n.createFeatureResult()});const o=await d(t,r,i),u=o;return u.data=s(o.data,n),u}function d(t,e,r){return g(t,e,\"pbf\",r)}function f(t,r,n){return e(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):g(t,r,\"json\",n,{returnIdsOnly:!0})}function p(t,r,n){return e(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):g(t,r,\"json\",n,{returnIdsOnly:!0,returnCountOnly:!0})}function S(t,r,n){return e(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):g(t,r,\"json\",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((t=>{const e=t.data;if(e.hasOwnProperty(\"extent\"))return t;if(e.features)throw new Error(l);if(e.hasOwnProperty(\"count\"))throw new Error(l);return t}))}function g(i,s,u,l={},y={}){const c=\"string\"==typeof i?n(i):i,d=s.geometry?[s.geometry]:[];return l.responseType=\"pbf\"===u?\"array-buffer\":\"json\",o(d,null,l).then((n=>{const i=n&&n[0];e(i)&&((s=s.clone()).geometry=i);const o=a({...c.query,f:u,...y,...m(s,y)});return t(r(c.path,\"query\"),{...l,query:{...o,...l.query}})}))}export{y as executeQuery,p as executeQueryForCount,S as executeQueryForExtent,f as executeQueryForIds,c as executeQueryPBF,d as executeQueryPBFBuffer,m as queryToQueryStringParameters,g as runQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getGeometryZScaler as e}from\"./zscale.js\";function t(t,o,r){if(!r||!r.features||!r.hasZ)return;const f=e(r.geometryType,o,t.outSpatialReference);if(f)for(const e of r.features)f(e.geometry)}export{t as applyFeatureSetZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as n}from\"../../../core/maybe.js\";import{getMetersPerVerticalUnitForSR as o}from\"../../../core/unitUtils.js\";import{equals as e}from\"../../../geometry/support/spatialReferenceUtils.js\";function t(t,c,l){if(n(c)||n(l)||l.vcsWkid||e(c,l))return null;const u=o(c)/o(l);if(1===u)return null;switch(t){case\"point\":case\"esriGeometryPoint\":return n=>i(n,u);case\"polyline\":case\"esriGeometryPolyline\":return n=>s(n,u);case\"polygon\":case\"esriGeometryPolygon\":return n=>r(n,u);case\"multipoint\":case\"esriGeometryMultipoint\":return n=>f(n,u);default:return null}}function i(n,o){n&&null!=n.z&&(n.z*=o)}function r(n,o){if(n)for(const e of n.rings)for(const n of e)n.length>2&&(n[2]*=o)}function s(n,o){if(n)for(const e of n.paths)for(const n of e)n.length>2&&(n[2]*=o)}function f(n,o){if(n)for(const e of n.points)e.length>2&&(e[2]*=o)}function c(n,o,e){if(null==n.hasM||n.hasZ)for(const t of o)for(const n of t)n.length>2&&(n[2]*=e)}function l(n,e,t){if(!n&&!e||!t)return;const i=o(t);u(n,t,i),u(e,t,i)}function u(n,o,e){if(n)for(const t of n)a(t.geometry,o,e)}function a(t,i,r){if(n(t)||!t.spatialReference||e(t.spatialReference,i))return;const s=o(t.spatialReference)/r;if(1!==s)if(\"x\"in t)null!=t.z&&(t.z*=s);else if(\"rings\"in t)c(t,t.rings,s);else if(\"paths\"in t)c(t,t.paths,s);else if(\"points\"in t&&(null==t.hasM||t.hasZ))for(const n of t.points)n.length>2&&(n[2]*=s)}export{t as getGeometryZScaler,l as unapplyEditsZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import{getJsonType as r,fromJSON as s}from\"../../geometry/support/jsonUtils.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?t(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:r(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await e(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=s(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import{getJsonType as e,getGeometryType as o}from\"../../geometry/support/jsonUtils.js\";async function i(o,i,f){const m=\"string\"==typeof o?t(o):o,p=i[0].spatialReference,a=e(i[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await r(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:e(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,e){const i=o(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=e,t}))}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction t(n){const o={};for(const e in n){if(\"declaredClass\"===e)continue;const r=n[e];if(null!=r&&\"function\"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else\"object\"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}export{t as mapParameters};\n"],"sourceRoot":""}